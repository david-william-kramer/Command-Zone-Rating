<!DOCTYPE html>
<!-- saved from url=(0078)file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html -->
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">



<meta name="generator" content="pandoc">
<meta name="viewport" content="width=device-width, initial-scale=1">

<link rel="stylesheet" href="data:text/css,%0A%40font%2Dface%20%7B%0Afont%2Dfamily%3A%20octicons%2Dlink%3B%0Asrc%3A%20url%28data%3Afont%2Fwoff%3Bcharset%3Dutf%2D8%3Bbase64%2Cd09GRgABAAAAAAZwABAAAAAACFQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABEU0lHAAAGaAAAAAgAAAAIAAAAAUdTVUIAAAZcAAAACgAAAAoAAQAAT1MvMgAAAyQAAABJAAAAYFYEU3RjbWFwAAADcAAAAEUAAACAAJThvmN2dCAAAATkAAAABAAAAAQAAAAAZnBnbQAAA7gAAACyAAABCUM%2B8IhnYXNwAAAGTAAAABAAAAAQABoAI2dseWYAAAFsAAABPAAAAZwcEq9taGVhZAAAAsgAAAA0AAAANgh4a91oaGVhAAADCAAAABoAAAAkCA8DRGhtdHgAAAL8AAAADAAAAAwGAACfbG9jYQAAAsAAAAAIAAAACABiATBtYXhwAAACqAAAABgAAAAgAA8ASm5hbWUAAAToAAABQgAAAlXu73sOcG9zdAAABiwAAAAeAAAAME3QpOBwcmVwAAAEbAAAAHYAAAB%2FaFGpk3jaTY6xa8JAGMW%2FO62BDi0tJLYQincXEypYIiGJjSgHniQ6umTsUEyLm5BV6NDBP8Tpts6F0v%2Bk%2F0an2i%2BitHDw3v2%2B9%2BDBKTzsJNnWJNTgHEy4BgG3EMI9DCEDOGEXzDADU5hBKMIgNPZqoD3SilVaXZCER3%2FI7AtxEJLtzzuZfI%2BVVkprxTlXShWKb3TBecG11rwoNlmmn1P2WYcJczl32etSpKnziC7lQyWe1smVPy%2FLt7Kc%2B0vWY%2FgAgIIEqAN9we0pwKXreiMasxvabDQMM4riO%2BqxM2ogwDGOZTXxwxDiycQIcoYFBLj5K3EIaSctAq2kTYiw%2Bymhce7vwM9jSqO8JyVd5RH9gyTt2%2BJ%2FyUmYlIR0s04n6%2B7Vm1ozezUeLEaUjhaDSuXHwVRgvLJn1tQ7xiuVv%2FocTRF42mNgZGBgYGbwZOBiAAFGJBIMAAizAFoAAABiAGIAznjaY2BkYGAA4in8zwXi%2BW2%2BMjCzMIDApSwvXzC97Z4Ig8N%2FBxYGZgcgl52BCSQKAA3jCV8CAABfAAAAAAQAAEB42mNgZGBg4f3vACQZQABIMjKgAmYAKEgBXgAAeNpjYGY6wTiBgZWBg2kmUxoDA4MPhGZMYzBi1AHygVLYQUCaawqDA4PChxhmh%2F8ODDEsvAwHgMKMIDnGL0x7gJQCAwMAJd4MFwAAAHjaY2BgYGaA4DAGRgYQkAHyGMF8NgYrIM3JIAGVYYDT%2BAEjAwuDFpBmA9KMDEwMCh9i%2Fv8H8sH0%2F4dQc1iAmAkALaUKLgAAAHjaTY9LDsIgEIbtgqHUPpDi3gPoBVyRTmTddOmqTXThEXqrob2gQ1FjwpDvfwCBdmdXC5AVKFu3e5MfNFJ29KTQT48Ob9%2FlqYwOGZxeUelN2U2R6%2BcArgtCJpauW7UQBqnFkUsjAY%2FkOU1cP%2BDAgvxwn1chZDwUbd6CFimGXwzwF6tPbFIcjEl%2BvvmM%2FbyA48e6tWrKArm4ZJlCbdsrxksL1AwWn%2FyBSJKpYbq8AXaaTb8AAHja28jAwOC00ZrBeQNDQOWO%2F%2FsdBBgYGRiYWYAEELEwMTE4uzo5Zzo5b2BxdnFOcALxNjA6b2ByTswC8jYwg0VlNuoCTWAMqNzMzsoK1rEhNqByEyerg5PMJlYuVueETKcd%2F89uBpnpvIEVomeHLoMsAAe1Id4AAAAAAAB42oWQT07CQBTGv0JBhagk7HQzKxca2sJCE1hDt4QF%2B9JOS0nbaaYDCQfwCJ7Au3AHj%2BLO13FMmm6cl7785vven0kBjHCBhfpYuNa5Ph1c0e2Xu3jEvWG7UdPDLZ4N92nOm%2BEBXuAbHmIMSRMs%2B4aUEd4Nd3CHD8NdvOLTsA2GL8M9PODbcL%2BhD7C1xoaHeLJSEao0FEW14ckxC%2BTU8TxvsY6X0eLPmRhry2WVioLpkrbp84LLQPGI7c6sOiUzpWIWS5GzlSgUzzLBSikOPFTOXqly7rqx0Z1Q5BAIoZBSFihQYQOOBEdkCOgXTOHA07HAGjGWiIjaPZNW13%2F%2Blm6S9FT7rLHFJ6fQbkATOG1j2OFMucKJJsxIVfQORl%2B9Jyda6Sl1dUYhSCm1dyClfoeDve4qMYdLEbfqHf3O%2FAdDumsjAAB42mNgYoAAZQYjBmyAGYQZmdhL8zLdDEydARfoAqIAAAABAAMABwAKABMAB%2F%2F%2FAA8AAQAAAAAAAAAAAAAAAAABAAAAAA%3D%3D%29%20format%28%27woff%27%29%3B%0A%7D%0Abody%20%7B%0A%2Dwebkit%2Dtext%2Dsize%2Dadjust%3A%20100%25%3B%0Atext%2Dsize%2Dadjust%3A%20100%25%3B%0Acolor%3A%20%23333%3B%0Afont%2Dfamily%3A%20%22Helvetica%20Neue%22%2C%20Helvetica%2C%20%22Segoe%20UI%22%2C%20Arial%2C%20freesans%2C%20sans%2Dserif%2C%20%22Apple%20Color%20Emoji%22%2C%20%22Segoe%20UI%20Emoji%22%2C%20%22Segoe%20UI%20Symbol%22%3B%0Afont%2Dsize%3A%2016px%3B%0Aline%2Dheight%3A%201%2E6%3B%0Aword%2Dwrap%3A%20break%2Dword%3B%0A%7D%0Aa%20%7B%0Abackground%2Dcolor%3A%20transparent%3B%0A%7D%0Aa%3Aactive%2C%0Aa%3Ahover%20%7B%0Aoutline%3A%200%3B%0A%7D%0Astrong%20%7B%0Afont%2Dweight%3A%20bold%3B%0A%7D%0Ah1%20%7B%0Afont%2Dsize%3A%202em%3B%0Amargin%3A%200%2E67em%200%3B%0A%7D%0Aimg%20%7B%0Aborder%3A%200%3B%0A%7D%0Ahr%20%7B%0Abox%2Dsizing%3A%20content%2Dbox%3B%0Aheight%3A%200%3B%0A%7D%0Apre%20%7B%0Aoverflow%3A%20auto%3B%0A%7D%0Acode%2C%0Akbd%2C%0Apre%20%7B%0Afont%2Dfamily%3A%20monospace%2C%20monospace%3B%0Afont%2Dsize%3A%201em%3B%0A%7D%0Ainput%20%7B%0Acolor%3A%20inherit%3B%0Afont%3A%20inherit%3B%0Amargin%3A%200%3B%0A%7D%0Ahtml%20input%5Bdisabled%5D%20%7B%0Acursor%3A%20default%3B%0A%7D%0Ainput%20%7B%0Aline%2Dheight%3A%20normal%3B%0A%7D%0Ainput%5Btype%3D%22checkbox%22%5D%20%7B%0Abox%2Dsizing%3A%20border%2Dbox%3B%0Apadding%3A%200%3B%0A%7D%0Atable%20%7B%0Aborder%2Dcollapse%3A%20collapse%3B%0Aborder%2Dspacing%3A%200%3B%0A%7D%0Atd%2C%0Ath%20%7B%0Apadding%3A%200%3B%0A%7D%0A%2A%20%7B%0Abox%2Dsizing%3A%20border%2Dbox%3B%0A%7D%0Ainput%20%7B%0Afont%3A%2013px%20%2F%201%2E4%20Helvetica%2C%20arial%2C%20nimbussansl%2C%20liberationsans%2C%20freesans%2C%20clean%2C%20sans%2Dserif%2C%20%22Apple%20Color%20Emoji%22%2C%20%22Segoe%20UI%20Emoji%22%2C%20%22Segoe%20UI%20Symbol%22%3B%0A%7D%0Aa%20%7B%0Acolor%3A%20%234078c0%3B%0Atext%2Ddecoration%3A%20none%3B%0A%7D%0Aa%3Ahover%2C%0Aa%3Aactive%20%7B%0Atext%2Ddecoration%3A%20underline%3B%0A%7D%0Ahr%20%7B%0Aheight%3A%200%3B%0Amargin%3A%2015px%200%3B%0Aoverflow%3A%20hidden%3B%0Abackground%3A%20transparent%3B%0Aborder%3A%200%3B%0Aborder%2Dbottom%3A%201px%20solid%20%23ddd%3B%0A%7D%0Ahr%3Abefore%20%7B%0Adisplay%3A%20table%3B%0Acontent%3A%20%22%22%3B%0A%7D%0Ahr%3Aafter%20%7B%0Adisplay%3A%20table%3B%0Aclear%3A%20both%3B%0Acontent%3A%20%22%22%3B%0A%7D%0Ah1%2C%0Ah2%2C%0Ah3%2C%0Ah4%2C%0Ah5%2C%0Ah6%20%7B%0Amargin%2Dtop%3A%2015px%3B%0Amargin%2Dbottom%3A%2015px%3B%0Aline%2Dheight%3A%201%2E1%3B%0A%7D%0Ah1%20%7B%0Afont%2Dsize%3A%2030px%3B%0A%7D%0Ah2%20%7B%0Afont%2Dsize%3A%2021px%3B%0A%7D%0Ah3%20%7B%0Afont%2Dsize%3A%2016px%3B%0A%7D%0Ah4%20%7B%0Afont%2Dsize%3A%2014px%3B%0A%7D%0Ah5%20%7B%0Afont%2Dsize%3A%2012px%3B%0A%7D%0Ah6%20%7B%0Afont%2Dsize%3A%2011px%3B%0A%7D%0Ablockquote%20%7B%0Amargin%3A%200%3B%0A%7D%0Aul%2C%0Aol%20%7B%0Apadding%3A%200%3B%0Amargin%2Dtop%3A%200%3B%0Amargin%2Dbottom%3A%200%3B%0A%7D%0Aol%20ol%2C%0Aul%20ol%20%7B%0Alist%2Dstyle%2Dtype%3A%20lower%2Droman%3B%0A%7D%0Aul%20ul%20ol%2C%0Aul%20ol%20ol%2C%0Aol%20ul%20ol%2C%0Aol%20ol%20ol%20%7B%0Alist%2Dstyle%2Dtype%3A%20lower%2Dalpha%3B%0A%7D%0Add%20%7B%0Amargin%2Dleft%3A%200%3B%0A%7D%0Acode%20%7B%0Afont%2Dfamily%3A%20Consolas%2C%20%22Liberation%20Mono%22%2C%20Menlo%2C%20Courier%2C%20monospace%3B%0Afont%2Dsize%3A%2012px%3B%0A%7D%0Apre%20%7B%0Amargin%2Dtop%3A%200%3B%0Amargin%2Dbottom%3A%200%3B%0Afont%3A%2012px%20Consolas%2C%20%22Liberation%20Mono%22%2C%20Menlo%2C%20Courier%2C%20monospace%3B%0A%7D%0A%2Eselect%3A%3A%2Dms%2Dexpand%20%7B%0Aopacity%3A%200%3B%0A%7D%0A%2Eocticon%20%7B%0Afont%3A%20normal%20normal%20normal%2016px%2F1%20octicons%2Dlink%3B%0Adisplay%3A%20inline%2Dblock%3B%0Atext%2Ddecoration%3A%20none%3B%0Atext%2Drendering%3A%20auto%3B%0A%2Dwebkit%2Dfont%2Dsmoothing%3A%20antialiased%3B%0A%2Dmoz%2Dosx%2Dfont%2Dsmoothing%3A%20grayscale%3B%0A%2Dwebkit%2Duser%2Dselect%3A%20none%3B%0A%2Dmoz%2Duser%2Dselect%3A%20none%3B%0A%2Dms%2Duser%2Dselect%3A%20none%3B%0Auser%2Dselect%3A%20none%3B%0A%7D%0A%2Eocticon%2Dlink%3Abefore%20%7B%0Acontent%3A%20%27%5Cf05c%27%3B%0A%7D%0A%2Emarkdown%2Dbody%3Abefore%20%7B%0Adisplay%3A%20table%3B%0Acontent%3A%20%22%22%3B%0A%7D%0A%2Emarkdown%2Dbody%3Aafter%20%7B%0Adisplay%3A%20table%3B%0Aclear%3A%20both%3B%0Acontent%3A%20%22%22%3B%0A%7D%0A%2Emarkdown%2Dbody%3E%2A%3Afirst%2Dchild%20%7B%0Amargin%2Dtop%3A%200%20%21important%3B%0A%7D%0A%2Emarkdown%2Dbody%3E%2A%3Alast%2Dchild%20%7B%0Amargin%2Dbottom%3A%200%20%21important%3B%0A%7D%0Aa%3Anot%28%5Bhref%5D%29%20%7B%0Acolor%3A%20inherit%3B%0Atext%2Ddecoration%3A%20none%3B%0A%7D%0A%2Eanchor%20%7B%0Adisplay%3A%20inline%2Dblock%3B%0Apadding%2Dright%3A%202px%3B%0Amargin%2Dleft%3A%20%2D18px%3B%0A%7D%0A%2Eanchor%3Afocus%20%7B%0Aoutline%3A%20none%3B%0A%7D%0Ah1%2C%0Ah2%2C%0Ah3%2C%0Ah4%2C%0Ah5%2C%0Ah6%20%7B%0Amargin%2Dtop%3A%201em%3B%0Amargin%2Dbottom%3A%2016px%3B%0Afont%2Dweight%3A%20bold%3B%0Aline%2Dheight%3A%201%2E4%3B%0A%7D%0Ah1%20%2Eocticon%2Dlink%2C%0Ah2%20%2Eocticon%2Dlink%2C%0Ah3%20%2Eocticon%2Dlink%2C%0Ah4%20%2Eocticon%2Dlink%2C%0Ah5%20%2Eocticon%2Dlink%2C%0Ah6%20%2Eocticon%2Dlink%20%7B%0Acolor%3A%20%23000%3B%0Avertical%2Dalign%3A%20middle%3B%0Avisibility%3A%20hidden%3B%0A%7D%0Ah1%3Ahover%20%2Eanchor%2C%0Ah2%3Ahover%20%2Eanchor%2C%0Ah3%3Ahover%20%2Eanchor%2C%0Ah4%3Ahover%20%2Eanchor%2C%0Ah5%3Ahover%20%2Eanchor%2C%0Ah6%3Ahover%20%2Eanchor%20%7B%0Atext%2Ddecoration%3A%20none%3B%0A%7D%0Ah1%3Ahover%20%2Eanchor%20%2Eocticon%2Dlink%2C%0Ah2%3Ahover%20%2Eanchor%20%2Eocticon%2Dlink%2C%0Ah3%3Ahover%20%2Eanchor%20%2Eocticon%2Dlink%2C%0Ah4%3Ahover%20%2Eanchor%20%2Eocticon%2Dlink%2C%0Ah5%3Ahover%20%2Eanchor%20%2Eocticon%2Dlink%2C%0Ah6%3Ahover%20%2Eanchor%20%2Eocticon%2Dlink%20%7B%0Avisibility%3A%20visible%3B%0A%7D%0Ah1%20%7B%0Apadding%2Dbottom%3A%200%2E3em%3B%0Afont%2Dsize%3A%202%2E25em%3B%0Aline%2Dheight%3A%201%2E2%3B%0Aborder%2Dbottom%3A%201px%20solid%20%23eee%3B%0A%7D%0Ah1%20%2Eanchor%20%7B%0Aline%2Dheight%3A%201%3B%0A%7D%0Ah2%20%7B%0Apadding%2Dbottom%3A%200%2E3em%3B%0Afont%2Dsize%3A%201%2E75em%3B%0Aline%2Dheight%3A%201%2E225%3B%0Aborder%2Dbottom%3A%201px%20solid%20%23eee%3B%0A%7D%0Ah2%20%2Eanchor%20%7B%0Aline%2Dheight%3A%201%3B%0A%7D%0Ah3%20%7B%0Afont%2Dsize%3A%201%2E5em%3B%0Aline%2Dheight%3A%201%2E43%3B%0A%7D%0Ah3%20%2Eanchor%20%7B%0Aline%2Dheight%3A%201%2E2%3B%0A%7D%0Ah4%20%7B%0Afont%2Dsize%3A%201%2E25em%3B%0A%7D%0Ah4%20%2Eanchor%20%7B%0Aline%2Dheight%3A%201%2E2%3B%0A%7D%0Ah5%20%7B%0Afont%2Dsize%3A%201em%3B%0A%7D%0Ah5%20%2Eanchor%20%7B%0Aline%2Dheight%3A%201%2E1%3B%0A%7D%0Ah6%20%7B%0Afont%2Dsize%3A%201em%3B%0Acolor%3A%20%23777%3B%0A%7D%0Ah6%20%2Eanchor%20%7B%0Aline%2Dheight%3A%201%2E1%3B%0A%7D%0Ap%2C%0Ablockquote%2C%0Aul%2C%0Aol%2C%0Adl%2C%0Atable%2C%0Apre%20%7B%0Amargin%2Dtop%3A%200%3B%0Amargin%2Dbottom%3A%2016px%3B%0A%7D%0Ahr%20%7B%0Aheight%3A%204px%3B%0Apadding%3A%200%3B%0Amargin%3A%2016px%200%3B%0Abackground%2Dcolor%3A%20%23e7e7e7%3B%0Aborder%3A%200%20none%3B%0A%7D%0Aul%2C%0Aol%20%7B%0Apadding%2Dleft%3A%202em%3B%0A%7D%0Aul%20ul%2C%0Aul%20ol%2C%0Aol%20ol%2C%0Aol%20ul%20%7B%0Amargin%2Dtop%3A%200%3B%0Amargin%2Dbottom%3A%200%3B%0A%7D%0Ali%3Ep%20%7B%0Amargin%2Dtop%3A%2016px%3B%0A%7D%0Adl%20%7B%0Apadding%3A%200%3B%0A%7D%0Adl%20dt%20%7B%0Apadding%3A%200%3B%0Amargin%2Dtop%3A%2016px%3B%0Afont%2Dsize%3A%201em%3B%0Afont%2Dstyle%3A%20italic%3B%0Afont%2Dweight%3A%20bold%3B%0A%7D%0Adl%20dd%20%7B%0Apadding%3A%200%2016px%3B%0Amargin%2Dbottom%3A%2016px%3B%0A%7D%0Ablockquote%20%7B%0Apadding%3A%200%2015px%3B%0Acolor%3A%20%23777%3B%0Aborder%2Dleft%3A%204px%20solid%20%23ddd%3B%0A%7D%0Ablockquote%3E%3Afirst%2Dchild%20%7B%0Amargin%2Dtop%3A%200%3B%0A%7D%0Ablockquote%3E%3Alast%2Dchild%20%7B%0Amargin%2Dbottom%3A%200%3B%0A%7D%0Atable%20%7B%0Adisplay%3A%20block%3B%0Awidth%3A%20100%25%3B%0Aoverflow%3A%20auto%3B%0Aword%2Dbreak%3A%20normal%3B%0Aword%2Dbreak%3A%20keep%2Dall%3B%0A%7D%0Atable%20th%20%7B%0Afont%2Dweight%3A%20bold%3B%0A%7D%0Atable%20th%2C%0Atable%20td%20%7B%0Apadding%3A%206px%2013px%3B%0Aborder%3A%201px%20solid%20%23ddd%3B%0A%7D%0Atable%20tr%20%7B%0Abackground%2Dcolor%3A%20%23fff%3B%0Aborder%2Dtop%3A%201px%20solid%20%23ccc%3B%0A%7D%0Atable%20tr%3Anth%2Dchild%282n%29%20%7B%0Abackground%2Dcolor%3A%20%23f8f8f8%3B%0A%7D%0Aimg%20%7B%0Amax%2Dwidth%3A%20100%25%3B%0Abox%2Dsizing%3A%20content%2Dbox%3B%0Abackground%2Dcolor%3A%20%23fff%3B%0A%7D%0Acode%20%7B%0Apadding%3A%200%3B%0Apadding%2Dtop%3A%200%2E2em%3B%0Apadding%2Dbottom%3A%200%2E2em%3B%0Amargin%3A%200%3B%0Afont%2Dsize%3A%2085%25%3B%0Abackground%2Dcolor%3A%20rgba%280%2C0%2C0%2C0%2E04%29%3B%0Aborder%2Dradius%3A%203px%3B%0A%7D%0Acode%3Abefore%2C%0Acode%3Aafter%20%7B%0Aletter%2Dspacing%3A%20%2D0%2E2em%3B%0Acontent%3A%20%22%5C00a0%22%3B%0A%7D%0Apre%3Ecode%20%7B%0Apadding%3A%200%3B%0Amargin%3A%200%3B%0Afont%2Dsize%3A%20100%25%3B%0Aword%2Dbreak%3A%20normal%3B%0Awhite%2Dspace%3A%20pre%3B%0Abackground%3A%20transparent%3B%0Aborder%3A%200%3B%0A%7D%0A%2Ehighlight%20%7B%0Amargin%2Dbottom%3A%2016px%3B%0A%7D%0A%2Ehighlight%20pre%2C%0Apre%20%7B%0Apadding%3A%2016px%3B%0Aoverflow%3A%20auto%3B%0Afont%2Dsize%3A%2085%25%3B%0Aline%2Dheight%3A%201%2E45%3B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0Aborder%2Dradius%3A%203px%3B%0A%7D%0A%2Ehighlight%20pre%20%7B%0Amargin%2Dbottom%3A%200%3B%0Aword%2Dbreak%3A%20normal%3B%0A%7D%0Apre%20%7B%0Aword%2Dwrap%3A%20normal%3B%0A%7D%0Apre%20code%20%7B%0Adisplay%3A%20inline%3B%0Amax%2Dwidth%3A%20initial%3B%0Apadding%3A%200%3B%0Amargin%3A%200%3B%0Aoverflow%3A%20initial%3B%0Aline%2Dheight%3A%20inherit%3B%0Aword%2Dwrap%3A%20normal%3B%0Abackground%2Dcolor%3A%20transparent%3B%0Aborder%3A%200%3B%0A%7D%0Apre%20code%3Abefore%2C%0Apre%20code%3Aafter%20%7B%0Acontent%3A%20normal%3B%0A%7D%0Akbd%20%7B%0Adisplay%3A%20inline%2Dblock%3B%0Apadding%3A%203px%205px%3B%0Afont%2Dsize%3A%2011px%3B%0Aline%2Dheight%3A%2010px%3B%0Acolor%3A%20%23555%3B%0Avertical%2Dalign%3A%20middle%3B%0Abackground%2Dcolor%3A%20%23fcfcfc%3B%0Aborder%3A%20solid%201px%20%23ccc%3B%0Aborder%2Dbottom%2Dcolor%3A%20%23bbb%3B%0Aborder%2Dradius%3A%203px%3B%0Abox%2Dshadow%3A%20inset%200%20%2D1px%200%20%23bbb%3B%0A%7D%0A%2Epl%2Dc%20%7B%0Acolor%3A%20%23969896%3B%0A%7D%0A%2Epl%2Dc1%2C%0A%2Epl%2Ds%20%2Epl%2Dv%20%7B%0Acolor%3A%20%230086b3%3B%0A%7D%0A%2Epl%2De%2C%0A%2Epl%2Den%20%7B%0Acolor%3A%20%23795da3%3B%0A%7D%0A%2Epl%2Ds%20%2Epl%2Ds1%2C%0A%2Epl%2Dsmi%20%7B%0Acolor%3A%20%23333%3B%0A%7D%0A%2Epl%2Dent%20%7B%0Acolor%3A%20%2363a35c%3B%0A%7D%0A%2Epl%2Dk%20%7B%0Acolor%3A%20%23a71d5d%3B%0A%7D%0A%2Epl%2Dpds%2C%0A%2Epl%2Ds%2C%0A%2Epl%2Ds%20%2Epl%2Dpse%20%2Epl%2Ds1%2C%0A%2Epl%2Dsr%2C%0A%2Epl%2Dsr%20%2Epl%2Dcce%2C%0A%2Epl%2Dsr%20%2Epl%2Dsra%2C%0A%2Epl%2Dsr%20%2Epl%2Dsre%20%7B%0Acolor%3A%20%23183691%3B%0A%7D%0A%2Epl%2Dv%20%7B%0Acolor%3A%20%23ed6a43%3B%0A%7D%0A%2Epl%2Did%20%7B%0Acolor%3A%20%23b52a1d%3B%0A%7D%0A%2Epl%2Dii%20%7B%0Abackground%2Dcolor%3A%20%23b52a1d%3B%0Acolor%3A%20%23f8f8f8%3B%0A%7D%0A%2Epl%2Dsr%20%2Epl%2Dcce%20%7B%0Acolor%3A%20%2363a35c%3B%0Afont%2Dweight%3A%20bold%3B%0A%7D%0A%2Epl%2Dml%20%7B%0Acolor%3A%20%23693a17%3B%0A%7D%0A%2Epl%2Dmh%2C%0A%2Epl%2Dmh%20%2Epl%2Den%2C%0A%2Epl%2Dms%20%7B%0Acolor%3A%20%231d3e81%3B%0Afont%2Dweight%3A%20bold%3B%0A%7D%0A%2Epl%2Dmq%20%7B%0Acolor%3A%20%23008080%3B%0A%7D%0A%2Epl%2Dmi%20%7B%0Acolor%3A%20%23333%3B%0Afont%2Dstyle%3A%20italic%3B%0A%7D%0A%2Epl%2Dmb%20%7B%0Acolor%3A%20%23333%3B%0Afont%2Dweight%3A%20bold%3B%0A%7D%0A%2Epl%2Dmd%20%7B%0Abackground%2Dcolor%3A%20%23ffecec%3B%0Acolor%3A%20%23bd2c00%3B%0A%7D%0A%2Epl%2Dmi1%20%7B%0Abackground%2Dcolor%3A%20%23eaffea%3B%0Acolor%3A%20%2355a532%3B%0A%7D%0A%2Epl%2Dmdr%20%7B%0Acolor%3A%20%23795da3%3B%0Afont%2Dweight%3A%20bold%3B%0A%7D%0A%2Epl%2Dmo%20%7B%0Acolor%3A%20%231d3e81%3B%0A%7D%0Akbd%20%7B%0Adisplay%3A%20inline%2Dblock%3B%0Apadding%3A%203px%205px%3B%0Afont%3A%2011px%20Consolas%2C%20%22Liberation%20Mono%22%2C%20Menlo%2C%20Courier%2C%20monospace%3B%0Aline%2Dheight%3A%2010px%3B%0Acolor%3A%20%23555%3B%0Avertical%2Dalign%3A%20middle%3B%0Abackground%2Dcolor%3A%20%23fcfcfc%3B%0Aborder%3A%20solid%201px%20%23ccc%3B%0Aborder%2Dbottom%2Dcolor%3A%20%23bbb%3B%0Aborder%2Dradius%3A%203px%3B%0Abox%2Dshadow%3A%20inset%200%20%2D1px%200%20%23bbb%3B%0A%7D%0A%2Etask%2Dlist%2Ditem%20%7B%0Alist%2Dstyle%2Dtype%3A%20none%3B%0A%7D%0A%2Etask%2Dlist%2Ditem%2B%2Etask%2Dlist%2Ditem%20%7B%0Amargin%2Dtop%3A%203px%3B%0A%7D%0A%2Etask%2Dlist%2Ditem%20input%20%7B%0Amargin%3A%200%200%2E35em%200%2E25em%20%2D1%2E6em%3B%0Avertical%2Dalign%3A%20middle%3B%0A%7D%0A%3Achecked%2B%2Eradio%2Dlabel%20%7B%0Az%2Dindex%3A%201%3B%0Aposition%3A%20relative%3B%0Aborder%2Dcolor%3A%20%234078c0%3B%0A%7D%0A%2EsourceLine%20%7B%0Adisplay%3A%20inline%2Dblock%3B%0A%7D%0Acode%20%2Ekw%20%7B%20color%3A%20%23000000%3B%20%7D%0Acode%20%2Edt%20%7B%20color%3A%20%23ed6a43%3B%20%7D%0Acode%20%2Edv%20%7B%20color%3A%20%23009999%3B%20%7D%0Acode%20%2Ebn%20%7B%20color%3A%20%23009999%3B%20%7D%0Acode%20%2Efl%20%7B%20color%3A%20%23009999%3B%20%7D%0Acode%20%2Ech%20%7B%20color%3A%20%23009999%3B%20%7D%0Acode%20%2Est%20%7B%20color%3A%20%23183691%3B%20%7D%0Acode%20%2Eco%20%7B%20color%3A%20%23969896%3B%20%7D%0Acode%20%2Eot%20%7B%20color%3A%20%230086b3%3B%20%7D%0Acode%20%2Eal%20%7B%20color%3A%20%23a61717%3B%20%7D%0Acode%20%2Efu%20%7B%20color%3A%20%2363a35c%3B%20%7D%0Acode%20%2Eer%20%7B%20color%3A%20%23a61717%3B%20background%2Dcolor%3A%20%23e3d2d2%3B%20%7D%0Acode%20%2Ewa%20%7B%20color%3A%20%23000000%3B%20%7D%0Acode%20%2Ecn%20%7B%20color%3A%20%23008080%3B%20%7D%0Acode%20%2Esc%20%7B%20color%3A%20%23008080%3B%20%7D%0Acode%20%2Evs%20%7B%20color%3A%20%23183691%3B%20%7D%0Acode%20%2Ess%20%7B%20color%3A%20%23183691%3B%20%7D%0Acode%20%2Eim%20%7B%20color%3A%20%23000000%3B%20%7D%0Acode%20%2Eva%20%7Bcolor%3A%20%23008080%3B%20%7D%0Acode%20%2Ecf%20%7B%20color%3A%20%23000000%3B%20%7D%0Acode%20%2Eop%20%7B%20color%3A%20%23000000%3B%20%7D%0Acode%20%2Ebu%20%7B%20color%3A%20%23000000%3B%20%7D%0Acode%20%2Eex%20%7B%20color%3A%20%23000000%3B%20%7D%0Acode%20%2Epp%20%7B%20color%3A%20%23999999%3B%20%7D%0Acode%20%2Eat%20%7B%20color%3A%20%23008080%3B%20%7D%0Acode%20%2Edo%20%7B%20color%3A%20%23969896%3B%20%7D%0Acode%20%2Ean%20%7B%20color%3A%20%23008080%3B%20%7D%0Acode%20%2Ecv%20%7B%20color%3A%20%23008080%3B%20%7D%0Acode%20%2Ein%20%7B%20color%3A%20%23008080%3B%20%7D%0A">
<style>
body {
  box-sizing: border-box;
  min-width: 200px;
  max-width: 980px;
  margin: 0 auto;
  padding: 45px;
  padding-top: 0px;
}
</style>

</head>

<body>

<h1 id="automated-pitching-command-metric-command-zone-rating-czr">Automated Pitching Command Metric: Command Zone Rating (CZR)</h1>
<p>David Kramer Spring 2022</p>
<h1 id="load-necessary-packages">Load Necessary Packages</h1>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Import necessary packages</span></span>
<span id="cb1-2"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span></code></pre></div>
<pre><code>## Warning: package 'tidyverse' was built under R version 4.1.2

## -- Attaching packages --------------------------------------- tidyverse 1.3.1 --

## v ggplot2 3.3.5     v purrr   0.3.4
## v tibble  3.1.6     v dplyr   1.0.7
## v tidyr   1.1.4     v stringr 1.4.0
## v readr   2.1.1     v forcats 0.5.1

## Warning: package 'tibble' was built under R version 4.1.2

## Warning: package 'readr' was built under R version 4.1.2

## Warning: package 'forcats' was built under R version 4.1.2

## -- Conflicts ------------------------------------------ tidyverse_conflicts() --
## x dplyr::filter() masks stats::filter()
## x dplyr::lag()    masks stats::lag()</code></pre>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(janitor)</span></code></pre></div>
<pre><code>## Warning: package 'janitor' was built under R version 4.1.2

## 
## Attaching package: 'janitor'

## The following objects are masked from 'package:stats':
## 
##     chisq.test, fisher.test</code></pre>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lubridate)</span></code></pre></div>
<pre><code>## 
## Attaching package: 'lubridate'

## The following objects are masked from 'package:base':
## 
##     date, intersect, setdiff, union</code></pre>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggridges)</span></code></pre></div>
<pre><code>## Warning: package 'ggridges' was built under R version 4.1.2</code></pre>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gridExtra)</span></code></pre></div>
<pre><code>## 
## Attaching package: 'gridExtra'

## The following object is masked from 'package:dplyr':
## 
##     combine</code></pre>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(fastDummies)</span></code></pre></div>
<pre><code>## Warning: package 'fastDummies' was built under R version 4.1.3</code></pre>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(imputeTS)</span></code></pre></div>
<pre><code>## Registered S3 method overwritten by 'quantmod':
##   method            from
##   as.zoo.data.frame zoo</code></pre>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(xgboost)</span></code></pre></div>
<pre><code>## Warning: package 'xgboost' was built under R version 4.1.2

## 
## Attaching package: 'xgboost'

## The following object is masked from 'package:dplyr':
## 
##     slice</code></pre>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(randomForest)</span></code></pre></div>
<pre><code>## randomForest 4.6-14

## Type rfNews() to see new features/changes/bug fixes.

## 
## Attaching package: 'randomForest'

## The following object is masked from 'package:gridExtra':
## 
##     combine

## The following object is masked from 'package:dplyr':
## 
##     combine

## The following object is masked from 'package:ggplot2':
## 
##     margin</code></pre>
<h2 id="preparing-the-pre-game-metric-data">Preparing the Pre-Game Metric Data</h2>
<p>The Command Zone Rating metric takes four sets of data sets as its input. We will input the first set of data, the pre-game metric data for both hitters and pitchers, in the section below.</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Import the pregame hitting and pregame pitching data sets</span></span>
<span id="cb19-2"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb19-2" aria-hidden="true" tabindex="-1"></a>pregamepitching <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"C:/Users/david/Desktop/Pitcher Pre-Game Metrics.csv"</span>, <span class="at">header =</span> <span class="cn">TRUE</span>)</span>
<span id="cb19-3"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb19-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-4"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb19-4" aria-hidden="true" tabindex="-1"></a>pregamehitting <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"C:/Users/david/Desktop/Hitter Pre-Game Metrics.csv"</span>, <span class="at">header =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<p>Given the tendency for additional NA columns and rows to pollute the uploaded CSV files, we will reduce the data sets to the columns of interest and eliminate rows containing NA values. Will we also ensure that the name of the “Date” column is appropriately named.</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Conduct initial cleaning to remove all NA rows and columns</span></span>
<span id="cb20-2"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb20-2" aria-hidden="true" tabindex="-1"></a>pregamepitching <span class="ot">&lt;-</span> pregamepitching[, <span class="dv">1</span><span class="sc">:</span><span class="dv">20</span>]</span>
<span id="cb20-3"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb20-3" aria-hidden="true" tabindex="-1"></a>pregamepitching <span class="ot">&lt;-</span> <span class="fu">na.omit</span>(pregamepitching)</span>
<span id="cb20-4"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb20-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-5"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb20-5" aria-hidden="true" tabindex="-1"></a>pregamehitting <span class="ot">&lt;-</span> pregamehitting[, <span class="dv">1</span><span class="sc">:</span><span class="dv">18</span>]</span>
<span id="cb20-6"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb20-6" aria-hidden="true" tabindex="-1"></a>pregamehitting <span class="ot">&lt;-</span> <span class="fu">na.omit</span>(pregamehitting)</span>
<span id="cb20-7"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb20-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-8"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb20-8" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(pregamepitching)[<span class="dv">1</span>] <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"Date"</span>)</span>
<span id="cb20-9"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb20-9" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(pregamehitting)[<span class="dv">1</span>] <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"Date"</span>)</span></code></pre></div>
<p>In anticipation of final data set merging, we will distinguish pre-game pitching metric names from pre-game hitting metric names with appropriate suffixes:</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">4</span><span class="sc">:</span> <span class="fu">ncol</span>(pregamepitching)){</span>
<span id="cb21-2"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb21-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">colnames</span>(pregamepitching)[i] <span class="ot">&lt;-</span> <span class="fu">paste</span>(<span class="st">"pre_"</span>, </span>
<span id="cb21-3"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb21-3" aria-hidden="true" tabindex="-1"></a>                                        <span class="fu">paste</span>(<span class="fu">colnames</span>(pregamepitching)[i], <span class="st">"_pitch"</span>, <span class="at">sep =</span><span class="st">""</span>), </span>
<span id="cb21-4"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb21-4" aria-hidden="true" tabindex="-1"></a>                                        <span class="at">sep =</span> <span class="st">""</span>)</span>
<span id="cb21-5"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb21-5" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb21-6"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb21-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-7"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb21-7" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">4</span><span class="sc">:</span> <span class="fu">ncol</span>(pregamehitting)){</span>
<span id="cb21-8"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb21-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">colnames</span>(pregamehitting)[i] <span class="ot">&lt;-</span> <span class="fu">paste</span>(<span class="st">"pre_"</span>, </span>
<span id="cb21-9"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb21-9" aria-hidden="true" tabindex="-1"></a>                                       <span class="fu">paste</span>(<span class="fu">colnames</span>(pregamehitting)[i], <span class="st">"_hit"</span>, <span class="at">sep =</span><span class="st">""</span>),</span>
<span id="cb21-10"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb21-10" aria-hidden="true" tabindex="-1"></a>                                       <span class="at">sep =</span> <span class="st">""</span>)</span>
<span id="cb21-11"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb21-11" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb21-12"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb21-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-13"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb21-13" aria-hidden="true" tabindex="-1"></a>pregamepitching <span class="ot">&lt;-</span> <span class="fu">separate</span>(pregamepitching, </span>
<span id="cb21-14"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb21-14" aria-hidden="true" tabindex="-1"></a>                            <span class="st">"pre_w.l_pitch"</span>, </span>
<span id="cb21-15"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb21-15" aria-hidden="true" tabindex="-1"></a>                            <span class="at">into =</span> <span class="fu">c</span>(<span class="st">"pre_w_pitch"</span>, <span class="st">"pre_l_pitch"</span>))</span>
<span id="cb21-16"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb21-16" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(pregamepitching)</span></code></pre></div>
<pre><code>##        Date Number                Player pre_ERA_pitch pre_w_pitch pre_l_pitch
## 1 3/25/2022     28 John Michael Bertrand          1.72           4           0
## 2 3/25/2022     23         Austin Temple          2.42           2           0
## 3 3/25/2022     17          Aidan Tyrell          3.86           3           0
## 4 3/25/2022     24          Jack Findlay          0.00           2           0
## 5 3/25/2022     41       Jackson Dennies          0.00           0           0
## 6 3/25/2022     33        Radek Birkholz          1.93           0           0
##   pre_app_pitch pre_gs_pitch pre_cg_pitch pre_sho_pitch pre_sv_pitch
## 1             5            5            0           0/0            0
## 2             5            4            0           0/1            1
## 3             5            5            0           0/0            0
## 4             2            2            0           0/0            0
## 5             3            0            0           0/0            0
## 6             5            0            0           0/0            0
##   pre_ip_pitch pre_h_pitch pre_r_pitch pre_er_pitch pre_bb_pitch pre_so_pitch
## 1         31.1          23           8            6            9           33
## 2         26.0          13           7            7            9           34
## 3         21.0          23          10            9            4           20
## 4          5.1           3           0            0            0            5
## 5          4.0           3           1            0            0            5
## 6          4.2           3           2            1            5            5
##   pre_X2b_pitch pre_X3b_pitch pre_hr_pitch pre_b.avg_pitch
## 1             3             0            0           0.211
## 2             0             0            2           0.157
## 3             4             0            1           0.280
## 4             0             0            0           0.176
## 5             1             0            0           0.200
## 6             1             0            0           0.214</code></pre>
<p>Next, we will convert the columns of the pre-game data sets to their appropriate types.</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb23-1" aria-hidden="true" tabindex="-1"></a>pregamepitching <span class="ot">&lt;-</span> pregamepitching <span class="sc">%&gt;%</span></span>
<span id="cb23-2"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb23-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">clean_names</span>() <span class="sc">%&gt;%</span></span>
<span id="cb23-3"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb23-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">pre_w_pitch =</span> <span class="fu">as.integer</span>(pre_w_pitch),</span>
<span id="cb23-4"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb23-4" aria-hidden="true" tabindex="-1"></a>         <span class="at">pre_l_pitch =</span> <span class="fu">as.integer</span>(pre_l_pitch))</span>
<span id="cb23-5"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb23-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-6"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb23-6" aria-hidden="true" tabindex="-1"></a>pregamehitting <span class="ot">&lt;-</span> pregamehitting <span class="sc">%&gt;%</span></span>
<span id="cb23-7"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb23-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">clean_names</span>() <span class="sc">%&gt;%</span></span>
<span id="cb23-8"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb23-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="st">"batter"</span> <span class="ot">=</span> <span class="st">"name"</span>)</span>
<span id="cb23-9"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb23-9" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb23-10"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb23-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-11"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb23-11" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(pregamepitching, <span class="dv">15</span>)</span></code></pre></div>
<pre><code>##         date number                player pre_era_pitch pre_w_pitch pre_l_pitch
## 1  3/25/2022     28 John Michael Bertrand          1.72           4           0
## 2  3/25/2022     23         Austin Temple          2.42           2           0
## 3  3/25/2022     17          Aidan Tyrell          3.86           3           0
## 4  3/25/2022     24          Jack Findlay          0.00           2           0
## 5  3/25/2022     41       Jackson Dennies          0.00           0           0
## 6  3/25/2022     33        Radek Birkholz          1.93           0           0
## 7  3/25/2022     52        Ryan McLinskey          2.13           0           1
## 8  3/25/2022     45              Alex Rao          2.79           0           0
## 9  3/25/2022     31            Caden Aoki          3.86           0           2
## 10 3/25/2022     43           Will Mercer          6.00           0           0
## 11 3/25/2022     29            Liam Simon          6.75           0           0
## 12 3/25/2022     37           Matt Lazaro          6.75           0           0
## 13 3/25/2022     50          Sammy Cooper          9.00           0           0
## 14 3/25/2022     26         Roman Kimball          9.00           0           0
## 15 3/25/2022      9        Jack Brannigan         11.57           1           1
##    pre_app_pitch pre_gs_pitch pre_cg_pitch pre_sho_pitch pre_sv_pitch
## 1              5            5            0           0/0            0
## 2              5            4            0           0/1            1
## 3              5            5            0           0/0            0
## 4              2            2            0           0/0            0
## 5              3            0            0           0/0            0
## 6              5            0            0           0/0            0
## 7              6            0            0           0/1            2
## 8              5            0            0           0/1            0
## 9              4            0            0           0/0            0
## 10             2            0            0           0/0            1
## 11             3            0            0           0/0            0
## 12             2            0            0           0/0            0
## 13             1            0            0           0/0            0
## 14             3            0            0           0/0            0
## 15             5            0            0           0/1            0
##    pre_ip_pitch pre_h_pitch pre_r_pitch pre_er_pitch pre_bb_pitch pre_so_pitch
## 1          31.1          23           8            6            9           33
## 2          26.0          13           7            7            9           34
## 3          21.0          23          10            9            4           20
## 4           5.1           3           0            0            0            5
## 5           4.0           3           1            0            0            5
## 6           4.2           3           2            1            5            5
## 7          12.2           9           5            3            4           22
## 8           9.2           8           3            3            7           14
## 9           9.1           7           4            4            2           10
## 10          3.0           2           2            2            3            4
## 11          4.0           1           3            3            5            8
## 12          2.2           1           3            2            1            4
## 13          2.0           3           2            2            2            3
## 14          2.0           0           2            2            3            3
## 15          4.2           3           6            6            4           11
##    pre_x2b_pitch pre_x3b_pitch pre_hr_pitch pre_b_avg_pitch
## 1              3             0            0           0.211
## 2              0             0            2           0.157
## 3              4             0            1           0.280
## 4              0             0            0           0.176
## 5              1             0            0           0.200
## 6              1             0            0           0.214
## 7              2             0            0           0.200
## 8              1             0            0           0.222
## 9              2             0            2           0.200
## 10             1             0            0           0.182
## 11             0             0            1           0.083
## 12             0             0            1           0.100
## 13             0             0            1           0.300
## 14             0             0            0           0.000
## 15             0             0            2           0.167</code></pre>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(pregamehitting, <span class="dv">15</span>)</span></code></pre></div>
<pre><code>##         date number         batter pre_ab_hit pre_r_hit pre_h_hit pre_x2b_hit
## 1  3/25/2022      3  David LaManna         32         8        12           1
## 2  3/25/2022     42 Brooks Coetzee         60        12        21           4
## 3  3/25/2022      6    TJ Williams         38        12        13           1
## 4  3/25/2022      4    Carter Putz         59        19        20           1
## 5  3/25/2022      9 Jack Brannigan         59        15        19           8
## 6  3/25/2022      1      Ryan Cole         58        13        16           3
## 7  3/25/2022     30   DM Jefferson         30         4         8           0
## 8  3/25/2022     16   Jared Miller         46        13        12           3
## 9  3/25/2022      8     Danny Neri         25         2         6           2
## 10 3/25/2022     14  Zach Prajzner         52        15        12           3
## 11 3/25/2022      2  Spencer Myers         49         9         9           0
## 12 3/25/2022     47 Tony Lindwedel          1         3         1           0
## 13 3/25/2022     18    Nick Juaire          7         2         4           1
## 14 3/25/2022      7     Jack Zyska         21         6         9           1
## 15 3/25/2022     11    Jack Penney         17         5         5           3
##    pre_x3b_hit pre_hr_hit pre_rbi_hit pre_tb_hit pre_slg_hit pre_bb_hit
## 1            0          0           6         13       0.406          4
## 2            0          5          16         40       0.667          4
## 3            2          1           7         21       0.553          2
## 4            2          2          15         31       0.525          8
## 5            1          2          14         35       0.593          5
## 6            0          1           9         22       0.379          5
## 7            0          0           8          8       0.267          1
## 8            0          0           7         15       0.326          9
## 9            1          0           7         10       0.400          2
## 10           0          1           7         18       0.346          9
## 11           1          0           4         11       0.224          4
## 12           0          0           0          1       1.000          1
## 13           0          0           3          5       0.714          1
## 14           0          4           7         22       1.048          0
## 15           1          0           5         10       0.588          2
##    pre_hp_hit pre_so_hit pre_obp_hit pre_sf_hit pre_sh_hit
## 1           2          3       0.462          1          0
## 2           2         11       0.403          1          0
## 3           1          5       0.390          0          2
## 4           0         17       0.406          2          0
## 5           2          9       0.382          2          0
## 6           7         14       0.400          0          0
## 7           0          5       0.290          0          0
## 8           2          7       0.390          2          0
## 9           1          6       0.310          1          0
## 10          2         12       0.359          1          1
## 11          0          8       0.245          0          5
## 12          0          0       1.000          0          0
## 13          0          0       0.625          0          0
## 14          0          2       0.429          0          0
## 15          0          4       0.350          1          0</code></pre>
<p>This procedure makes everything in the Pre-Game Metrics data sets clean and ready for model deployment.</p>
<h1 id="preparing-the-trackman-and-pitch-zone-data-an-automated-iterative-approach">Preparing the TrackMan and Pitch Zone Data: An Automated Iterative Approach</h1>
<p>Now, we turn to merging the pre-game data with TrackMan data sets and pitch tagging data sets.</p>
<p>We will boost the efficiency of this merging process through iterative automation. So long as the user of the Command Zone Rating metrics employs the same naming conventions for each file, they will simply need to update the list of game dates below with the additional date, and all files will be loaded and merged accordingly.</p>
<h3 id="please-follow-the-given-naming-conventions">Please follow the given naming conventions:</h3>
<p>For TrackMan files: Title = “Month_Day_Year_TrackMan.csv”</p>
<p>For Zone Tagging files: Title = “Month_Day_Year_Pitching_Zones.csv”</p>
<p>These conventions maintain the full automation of the Command Zone Rating calculation.</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb27-1"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Create a list of game dates, separated by underscores</span></span>
<span id="cb27-2"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb27-2" aria-hidden="true" tabindex="-1"></a>game_dates <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"3_25_2022"</span>, <span class="st">"3_29_2022"</span>, <span class="st">"4_05_2022"</span>, <span class="st">"4_08_2022"</span>, </span>
<span id="cb27-3"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb27-3" aria-hidden="true" tabindex="-1"></a>                <span class="st">"4_09_2022"</span>, <span class="st">"4_10_2022"</span>, <span class="st">"4_12_2022"</span>, <span class="st">"4_19_2022"</span>, </span>
<span id="cb27-4"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb27-4" aria-hidden="true" tabindex="-1"></a>                <span class="st">"4_20_2022"</span>, <span class="st">"4_22_2022"</span>, <span class="st">"4_23_2022"</span>, <span class="st">"4_24_2022"</span>)</span>
<span id="cb27-5"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb27-5" aria-hidden="true" tabindex="-1"></a>game_dates</span></code></pre></div>
<pre><code>##  [1] "3_25_2022" "3_29_2022" "4_05_2022" "4_08_2022" "4_09_2022" "4_10_2022"
##  [7] "4_12_2022" "4_19_2022" "4_20_2022" "4_22_2022" "4_23_2022" "4_24_2022"</code></pre>
<h4 id="the-interative-join-function">The interative join function</h4>
<p>The following iterative loop takes each appropriately named TrackMan and Pitching Zones files as inputs and merges them in the following way:</p>
<p>First, the TrackMan and Pitching Zone files from a given game date are joined.</p>
<p>Second, the pre-game pitching and hitting metrics from that game are left joined.</p>
<p>Then, the merged data frame object is stored as an element in the list</p>
<p>Finally, the rows of all data frame objects (one for each game date) are combined using the rbind() function.</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb29-1"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Create empty lists for use in data merging. Each list contains one element for each game date in the final metric data set</span></span>
<span id="cb29-2"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb29-2" aria-hidden="true" tabindex="-1"></a>zones <span class="ot">&lt;-</span> <span class="fu">vector</span>(<span class="st">"list"</span>, <span class="fu">length</span>(game_dates))</span>
<span id="cb29-3"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb29-3" aria-hidden="true" tabindex="-1"></a>trackman <span class="ot">&lt;-</span> <span class="fu">vector</span>(<span class="st">"list"</span>, <span class="fu">length</span>(game_dates))</span>
<span id="cb29-4"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb29-4" aria-hidden="true" tabindex="-1"></a>joined_zones_trackman <span class="ot">&lt;-</span> <span class="fu">vector</span>(<span class="st">"list"</span>, <span class="fu">length</span>(game_dates))</span>
<span id="cb29-5"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb29-5" aria-hidden="true" tabindex="-1"></a>joined_add_pre_pitching <span class="ot">&lt;-</span> <span class="fu">vector</span>(<span class="st">"list"</span>, <span class="fu">length</span>(game_dates))</span>
<span id="cb29-6"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb29-6" aria-hidden="true" tabindex="-1"></a>joined_add_pre_hitting <span class="ot">&lt;-</span> <span class="fu">vector</span>(<span class="st">"list"</span>, <span class="fu">length</span>(game_dates))</span>
<span id="cb29-7"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb29-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-8"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb29-8" aria-hidden="true" tabindex="-1"></a><span class="co">#Set the root of the working data, to be adjusted as needed</span></span>
<span id="cb29-9"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb29-9" aria-hidden="true" tabindex="-1"></a>directory <span class="ot">&lt;-</span> <span class="st">"C:/Users/david/Desktop/"</span></span>
<span id="cb29-10"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb29-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-11"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb29-11" aria-hidden="true" tabindex="-1"></a><span class="co">#Iterate through each TrackMan and Pitching Zones file, adding them as dataframes to their respective lists for each game. This process involves removing NA columns and rows, cleaning the data feature names, and establishing appropriate column names for "index" features. </span></span>
<span id="cb29-12"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb29-12" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(game_dates)){</span>
<span id="cb29-13"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb29-13" aria-hidden="true" tabindex="-1"></a>    trackman_name <span class="ot">&lt;-</span> <span class="fu">paste</span>(game_dates[i], <span class="st">"_TrackMan.csv"</span>, <span class="at">sep =</span> <span class="st">""</span>)</span>
<span id="cb29-14"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb29-14" aria-hidden="true" tabindex="-1"></a>    zones_name <span class="ot">&lt;-</span> <span class="fu">paste</span>(game_dates[i], <span class="st">"_Pitching_Zones.csv"</span>, <span class="at">sep =</span> <span class="st">""</span>)</span>
<span id="cb29-15"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb29-15" aria-hidden="true" tabindex="-1"></a>    <span class="fu">print</span>(trackman_name)</span>
<span id="cb29-16"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb29-16" aria-hidden="true" tabindex="-1"></a>    <span class="fu">print</span>(zones_name)</span>
<span id="cb29-17"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb29-17" aria-hidden="true" tabindex="-1"></a>    zones[[i]] <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="fu">paste</span>(directory, zones_name, <span class="at">sep =</span> <span class="st">""</span>))</span>
<span id="cb29-18"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb29-18" aria-hidden="true" tabindex="-1"></a>    zones[[i]] <span class="ot">&lt;-</span> zones[[i]][, <span class="dv">1</span><span class="sc">:</span><span class="dv">6</span>] <span class="sc">%&gt;%</span></span>
<span id="cb29-19"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb29-19" aria-hidden="true" tabindex="-1"></a>      <span class="fu">na_if</span>(<span class="st">"na"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb29-20"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb29-20" aria-hidden="true" tabindex="-1"></a>      <span class="fu">na.omit</span>() <span class="sc">%&gt;%</span></span>
<span id="cb29-21"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb29-21" aria-hidden="true" tabindex="-1"></a>      <span class="fu">na_if</span>(<span class="st">"Null"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb29-22"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb29-22" aria-hidden="true" tabindex="-1"></a>      <span class="fu">na.omit</span>() <span class="sc">%&gt;%</span></span>
<span id="cb29-23"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb29-23" aria-hidden="true" tabindex="-1"></a>      <span class="fu">clean_names</span>() <span class="sc">%&gt;%</span></span>
<span id="cb29-24"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb29-24" aria-hidden="true" tabindex="-1"></a>      <span class="fu">mutate</span>(<span class="at">pitch_number =</span> <span class="fu">as.integer</span>(pitch_number),</span>
<span id="cb29-25"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb29-25" aria-hidden="true" tabindex="-1"></a>             <span class="at">prepitch =</span> <span class="fu">as.character</span>(prepitch),</span>
<span id="cb29-26"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb29-26" aria-hidden="true" tabindex="-1"></a>             <span class="at">postpitch =</span> <span class="fu">as.character</span>(postpitch))</span>
<span id="cb29-27"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb29-27" aria-hidden="true" tabindex="-1"></a>    <span class="fu">print</span>(<span class="fu">colnames</span>(zones[[i]]))</span>
<span id="cb29-28"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb29-28" aria-hidden="true" tabindex="-1"></a>    trackman[[i]] <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="fu">paste</span>(directory, trackman_name, <span class="at">sep =</span> <span class="st">""</span>))</span>
<span id="cb29-29"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb29-29" aria-hidden="true" tabindex="-1"></a>    trackman[[i]] <span class="ot">&lt;-</span> trackman[[i]] <span class="sc">%&gt;%</span></span>
<span id="cb29-30"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb29-30" aria-hidden="true" tabindex="-1"></a>      <span class="fu">clean_names</span>() <span class="sc">%&gt;%</span></span>
<span id="cb29-31"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb29-31" aria-hidden="true" tabindex="-1"></a>      <span class="fu">mutate</span>(<span class="at">date =</span> <span class="fu">mdy</span>(date),</span>
<span id="cb29-32"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb29-32" aria-hidden="true" tabindex="-1"></a>             <span class="at">game_foreign_id =</span> <span class="fu">as.character</span>(game_foreign_id)) <span class="sc">%&gt;%</span></span>
<span id="cb29-33"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb29-33" aria-hidden="true" tabindex="-1"></a>      <span class="fu">separate</span>(batter, <span class="at">into =</span> <span class="fu">c</span>(<span class="st">"last"</span>, <span class="st">"first"</span>), <span class="at">sep =</span> <span class="st">", "</span>) <span class="sc">%&gt;%</span></span>
<span id="cb29-34"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb29-34" aria-hidden="true" tabindex="-1"></a>      <span class="fu">unite</span>(<span class="st">"batter"</span>, <span class="fu">c</span>(<span class="st">"first"</span>, <span class="st">"last"</span>), <span class="at">sep =</span> <span class="st">" "</span>, <span class="at">remove =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb29-35"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb29-35" aria-hidden="true" tabindex="-1"></a>      <span class="fu">rename</span>(<span class="at">pitch_number =</span> pitch_no)</span>
<span id="cb29-36"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb29-36" aria-hidden="true" tabindex="-1"></a>    joined_zones_trackman[[i]] <span class="ot">&lt;-</span> <span class="fu">inner_join</span>(zones[[i]], </span>
<span id="cb29-37"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb29-37" aria-hidden="true" tabindex="-1"></a>                                             trackman[[i]], </span>
<span id="cb29-38"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb29-38" aria-hidden="true" tabindex="-1"></a>                                             <span class="at">by =</span> <span class="st">"pitch_number"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb29-39"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb29-39" aria-hidden="true" tabindex="-1"></a>      <span class="fu">select</span>(<span class="sc">-</span>date.y) <span class="sc">%&gt;%</span></span>
<span id="cb29-40"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb29-40" aria-hidden="true" tabindex="-1"></a>      <span class="fu">rename</span>(<span class="st">"date"</span> <span class="ot">=</span> <span class="st">"date.x"</span>)</span>
<span id="cb29-41"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb29-41" aria-hidden="true" tabindex="-1"></a>    joined_add_pre_pitching[[i]] <span class="ot">&lt;-</span> <span class="fu">left_join</span>(joined_zones_trackman[[i]], </span>
<span id="cb29-42"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb29-42" aria-hidden="true" tabindex="-1"></a>                                               pregamepitching,</span>
<span id="cb29-43"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb29-43" aria-hidden="true" tabindex="-1"></a>                                               <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"date"</span>, <span class="st">"player"</span>))</span>
<span id="cb29-44"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb29-44" aria-hidden="true" tabindex="-1"></a>    joined_add_pre_hitting[[i]] <span class="ot">&lt;-</span> <span class="fu">left_join</span>(joined_add_pre_pitching[[i]],</span>
<span id="cb29-45"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb29-45" aria-hidden="true" tabindex="-1"></a>                                             pregamehitting,</span>
<span id="cb29-46"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb29-46" aria-hidden="true" tabindex="-1"></a>                                             <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"date"</span>, <span class="st">"batter"</span>))</span>
<span id="cb29-47"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb29-47" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<pre><code>## [1] "3_25_2022_TrackMan.csv"
## [1] "3_25_2022_Pitching_Zones.csv"

## Rows: 334 Columns: 6

## -- Column specification --------------------------------------------------------
## Delimiter: ","
## chr (5): Date, Team, Player, prepitch, postpitch
## dbl (1): Pitch Number

## 
## i Use `spec()` to retrieve the full column specification for this data.
## i Specify the column types or set `show_col_types = FALSE` to quiet this message.

## [1] "date"         "pitch_number" "team"         "player"       "prepitch"    
## [6] "postpitch"

## Warning: All formats failed to parse. No formats found.

## [1] "3_29_2022_TrackMan.csv"
## [1] "3_29_2022_Pitching_Zones.csv"

## Rows: 317 Columns: 6

## -- Column specification --------------------------------------------------------
## Delimiter: ","
## chr (5): Date, Team, Player, prepitch, postpitch
## dbl (1): Pitch Number

## 
## i Use `spec()` to retrieve the full column specification for this data.
## i Specify the column types or set `show_col_types = FALSE` to quiet this message.

## [1] "date"         "pitch_number" "team"         "player"       "prepitch"    
## [6] "postpitch"

## Warning: All formats failed to parse. No formats found.

## [1] "4_05_2022_TrackMan.csv"
## [1] "4_05_2022_Pitching_Zones.csv"

## Rows: 258 Columns: 6

## -- Column specification --------------------------------------------------------
## Delimiter: ","
## chr (4): Date, Team, Player, prepitch
## dbl (2): Pitch Number, postpitch

## 
## i Use `spec()` to retrieve the full column specification for this data.
## i Specify the column types or set `show_col_types = FALSE` to quiet this message.

## [1] "date"         "pitch_number" "team"         "player"       "prepitch"    
## [6] "postpitch"   
## [1] "4_08_2022_TrackMan.csv"
## [1] "4_08_2022_Pitching_Zones.csv"

## Rows: 259 Columns: 6

## -- Column specification --------------------------------------------------------
## Delimiter: ","
## chr (4): Date, Team, Player, prepitch
## dbl (2): Pitch Number, postpitch

## 
## i Use `spec()` to retrieve the full column specification for this data.
## i Specify the column types or set `show_col_types = FALSE` to quiet this message.

## [1] "date"         "pitch_number" "team"         "player"       "prepitch"    
## [6] "postpitch"   
## [1] "4_09_2022_TrackMan.csv"
## [1] "4_09_2022_Pitching_Zones.csv"

## Rows: 314 Columns: 6

## -- Column specification --------------------------------------------------------
## Delimiter: ","
## chr (4): Date, Team, Player, prepitch
## dbl (2): Pitch Number, postpitch

## 
## i Use `spec()` to retrieve the full column specification for this data.
## i Specify the column types or set `show_col_types = FALSE` to quiet this message.

## [1] "date"         "pitch_number" "team"         "player"       "prepitch"    
## [6] "postpitch"   
## [1] "4_10_2022_TrackMan.csv"
## [1] "4_10_2022_Pitching_Zones.csv"

## Rows: 323 Columns: 6

## -- Column specification --------------------------------------------------------
## Delimiter: ","
## chr (5): Date, Team, Player, prepitch, postpitch
## dbl (1): Pitch Number

## 
## i Use `spec()` to retrieve the full column specification for this data.
## i Specify the column types or set `show_col_types = FALSE` to quiet this message.

## [1] "date"         "pitch_number" "team"         "player"       "prepitch"    
## [6] "postpitch"   
## [1] "4_12_2022_TrackMan.csv"
## [1] "4_12_2022_Pitching_Zones.csv"

## Rows: 354 Columns: 6

## -- Column specification --------------------------------------------------------
## Delimiter: ","
## chr (4): Date, Team, Player, prepitch
## dbl (2): Pitch Number, postpitch

## 
## i Use `spec()` to retrieve the full column specification for this data.
## i Specify the column types or set `show_col_types = FALSE` to quiet this message.

## [1] "date"         "pitch_number" "team"         "player"       "prepitch"    
## [6] "postpitch"

## Warning: All formats failed to parse. No formats found.

## [1] "4_19_2022_TrackMan.csv"
## [1] "4_19_2022_Pitching_Zones.csv"

## Rows: 228 Columns: 6

## -- Column specification --------------------------------------------------------
## Delimiter: ","
## chr (5): Date, Team, Player, prepitch, postpitch
## dbl (1): Pitch Number

## 
## i Use `spec()` to retrieve the full column specification for this data.
## i Specify the column types or set `show_col_types = FALSE` to quiet this message.

## [1] "date"         "pitch_number" "team"         "player"       "prepitch"    
## [6] "postpitch"

## Warning: All formats failed to parse. No formats found.

## [1] "4_20_2022_TrackMan.csv"
## [1] "4_20_2022_Pitching_Zones.csv"

## Rows: 307 Columns: 6

## -- Column specification --------------------------------------------------------
## Delimiter: ","
## chr (4): Date, Team, Player, prepitch
## dbl (2): Pitch Number, postpitch

## 
## i Use `spec()` to retrieve the full column specification for this data.
## i Specify the column types or set `show_col_types = FALSE` to quiet this message.

## [1] "date"         "pitch_number" "team"         "player"       "prepitch"    
## [6] "postpitch"

## Warning: All formats failed to parse. No formats found.

## [1] "4_22_2022_TrackMan.csv"
## [1] "4_22_2022_Pitching_Zones.csv"

## Rows: 299 Columns: 6

## -- Column specification --------------------------------------------------------
## Delimiter: ","
## chr (5): Date, Team, Player, prepitch, postpitch
## dbl (1): Pitch Number

## 
## i Use `spec()` to retrieve the full column specification for this data.
## i Specify the column types or set `show_col_types = FALSE` to quiet this message.

## [1] "date"         "pitch_number" "team"         "player"       "prepitch"    
## [6] "postpitch"

## Warning: All formats failed to parse. No formats found.

## [1] "4_23_2022_TrackMan.csv"
## [1] "4_23_2022_Pitching_Zones.csv"

## Rows: 370 Columns: 6

## -- Column specification --------------------------------------------------------
## Delimiter: ","
## chr (4): Date, Team, Player, prepitch
## dbl (2): Pitch Number, postpitch

## 
## i Use `spec()` to retrieve the full column specification for this data.
## i Specify the column types or set `show_col_types = FALSE` to quiet this message.

## [1] "date"         "pitch_number" "team"         "player"       "prepitch"    
## [6] "postpitch"

## Warning: All formats failed to parse. No formats found.

## [1] "4_24_2022_TrackMan.csv"
## [1] "4_24_2022_Pitching_Zones.csv"

## Rows: 361 Columns: 6

## -- Column specification --------------------------------------------------------
## Delimiter: ","
## chr (5): Date, Team, Player, prepitch, postpitch
## dbl (1): Pitch Number

## 
## i Use `spec()` to retrieve the full column specification for this data.
## i Specify the column types or set `show_col_types = FALSE` to quiet this message.

## [1] "date"         "pitch_number" "team"         "player"       "prepitch"    
## [6] "postpitch"

## Warning: All formats failed to parse. No formats found.</code></pre>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb31-1"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Join the rows of each merged data frame object in the condensed list of TrackMan / Pitching Zones / Pre-Game Metrics data frames</span></span>
<span id="cb31-2"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb31-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-3"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb31-3" aria-hidden="true" tabindex="-1"></a>full_metric_data <span class="ot">&lt;-</span> joined_add_pre_hitting <span class="sc">%&gt;%</span></span>
<span id="cb31-4"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb31-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">bind_rows</span>() <span class="sc">%&gt;%</span></span>
<span id="cb31-5"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb31-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">prepitch =</span> <span class="fu">as.integer</span>(prepitch),</span>
<span id="cb31-6"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb31-6" aria-hidden="true" tabindex="-1"></a>         <span class="at">postpitch =</span> <span class="fu">as.integer</span>(postpitch),</span>
<span id="cb31-7"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb31-7" aria-hidden="true" tabindex="-1"></a>         <span class="at">date =</span> <span class="fu">mdy</span>(date)) <span class="sc">%&gt;%</span></span>
<span id="cb31-8"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb31-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">drop_na</span>(prepitch)</span></code></pre></div>
<pre><code>## Warning in mask$eval_all_mutate(quo): NAs introduced by coercion

## Warning in mask$eval_all_mutate(quo): NAs introduced by coercion</code></pre>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb33-1"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Inspect the full metric data frame </span></span>
<span id="cb33-2"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb33-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(full_metric_data, <span class="dv">20</span>)</span></code></pre></div>
<pre><code>## # A tibble: 20 x 206
##    date       pitch_number team  player    prepitch postpitch time  p_aof_inning
##    &lt;date&gt;            &lt;int&gt; &lt;chr&gt; &lt;chr&gt;        &lt;int&gt;     &lt;int&gt; &lt;chr&gt;        &lt;int&gt;
##  1 2022-03-25           11 VT    Griffin ~       18        17 16:0~            1
##  2 2022-03-25           12 VT    Griffin ~       19         6 16:0~            2
##  3 2022-03-25           13 VT    Griffin ~       19        14 16:0~            2
##  4 2022-03-25           14 VT    Griffin ~       19         7 16:0~            2
##  5 2022-03-25           15 VT    Griffin ~       19        12 16:0~            2
##  6 2022-03-25           16 VT    Griffin ~       17        25 16:0~            3
##  7 2022-03-25           17 VT    Griffin ~       19        19 16:0~            3
##  8 2022-03-25           18 VT    Griffin ~       19         2 16:0~            4
##  9 2022-03-25           19 VT    Griffin ~       19        12 16:1~            4
## 10 2022-03-25           20 VT    Griffin ~       19         9 16:1~            4
## 11 2022-03-25           21 VT    Griffin ~       19         7 16:1~            4
## 12 2022-03-25           22 VT    Griffin ~       19        19 16:1~            4
## 13 2022-03-25           23 VT    Griffin ~       15         7 16:1~            4
## 14 2022-03-25           24 VT    Griffin ~       19         7 16:1~            4
## 15 2022-03-25           25 VT    Griffin ~       18        NA 16:1~            4
## 16 2022-03-25           26 VT    Griffin ~       18        11 16:1~            4
## 17 2022-03-25           27 VT    Griffin ~       18        20 16:1~            4
## 18 2022-03-25           28 ND    John Mic~       20        21 16:1~            1
## 19 2022-03-25           29 ND    John Mic~       20        18 16:1~            1
## 20 2022-03-25           30 ND    John Mic~       25        12 16:1~            1
## # ... with 198 more variables: pitchof_pa &lt;int&gt;, pitcher &lt;chr&gt;,
## #   pitcher_id &lt;dbl&gt;, pitcher_throws &lt;chr&gt;, pitcher_team &lt;chr&gt;, batter &lt;chr&gt;,
## #   batter_id &lt;int&gt;, batter_side &lt;chr&gt;, batter_team &lt;chr&gt;, pitcher_set &lt;chr&gt;,
## #   inning &lt;int&gt;, top_bottom &lt;chr&gt;, outs &lt;int&gt;, balls &lt;int&gt;, strikes &lt;int&gt;,
## #   tagged_pitch_type &lt;chr&gt;, auto_pitch_type &lt;chr&gt;, pitch_call &lt;chr&gt;,
## #   kor_bb &lt;chr&gt;, tagged_hit_type &lt;chr&gt;, play_result &lt;chr&gt;, outs_on_play &lt;int&gt;,
## #   runs_scored &lt;int&gt;, notes &lt;lgl&gt;, rel_speed &lt;dbl&gt;, vert_rel_angle &lt;dbl&gt;, ...</code></pre>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb35-1"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(full_metric_data)</span></code></pre></div>
<pre><code>## [1] 3585  206</code></pre>
<h2 id="zone-difference-calculation">Zone Difference: Calculation</h2>
<p>Before the iterative model-building calculation begins, we need to calculate the absolute zone difference of each pitch thrown in the full metric data set.</p>
<p>The Zone Difference variable will sum the absolute value of horizontal zone differential and the absolute value of horizontal zone differential for a total Zone Differential score.</p>
<p>In preparation for this summation, we will create a data frame that represents the 25-zone grid for the sake of Zone Differential Calculation.</p>
<div class="sourceCode" id="cb37"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb37-1"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb37-1" aria-hidden="true" tabindex="-1"></a>zone_grid <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="dv">0</span>, <span class="at">ncol =</span> <span class="dv">5</span>, <span class="at">nrow =</span> <span class="dv">5</span>)</span>
<span id="cb37-2"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb37-2" aria-hidden="true" tabindex="-1"></a>zone_grid</span></code></pre></div>
<pre><code>##      [,1] [,2] [,3] [,4] [,5]
## [1,]    0    0    0    0    0
## [2,]    0    0    0    0    0
## [3,]    0    0    0    0    0
## [4,]    0    0    0    0    0
## [5,]    0    0    0    0    0</code></pre>
<p>We will fill this 5 x 5 matrix with the corresponding zone numbers:</p>
<div class="sourceCode" id="cb39"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb39-1"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(zone_grid)){</span>
<span id="cb39-2"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb39-2" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span>(j <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">ncol</span>(zone_grid)){</span>
<span id="cb39-3"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb39-3" aria-hidden="true" tabindex="-1"></a>    zone_grid[i,j] <span class="ot">=</span> <span class="dv">5</span><span class="sc">*</span>(i<span class="dv">-1</span>) <span class="sc">+</span> j</span>
<span id="cb39-4"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb39-4" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb39-5"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb39-5" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb39-6"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb39-6" aria-hidden="true" tabindex="-1"></a>zone_grid</span></code></pre></div>
<pre><code>##      [,1] [,2] [,3] [,4] [,5]
## [1,]    1    2    3    4    5
## [2,]    6    7    8    9   10
## [3,]   11   12   13   14   15
## [4,]   16   17   18   19   20
## [5,]   21   22   23   24   25</code></pre>
<p>This grid will allow us to calculate the absolute zone differential (the sum of absolute horizontal zone difference and absolute vertical zone difference), as shown in an iterative approach below:</p>
<div class="sourceCode" id="cb41"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb41-1"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb41-1" aria-hidden="true" tabindex="-1"></a>zone_difference <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="cn">NA</span>, <span class="fu">nrow</span>(full_metric_data))</span>
<span id="cb41-2"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb41-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(full_metric_data)){</span>
<span id="cb41-3"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb41-3" aria-hidden="true" tabindex="-1"></a>  pre_pitch_zone <span class="ot">&lt;-</span> full_metric_data<span class="sc">$</span>prepitch[i]</span>
<span id="cb41-4"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb41-4" aria-hidden="true" tabindex="-1"></a>  post_pitch_zone <span class="ot">&lt;-</span> full_metric_data<span class="sc">$</span>postpitch[i]</span>
<span id="cb41-5"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb41-5" aria-hidden="true" tabindex="-1"></a>  pre_pitch_zone_row <span class="ot">&lt;-</span> <span class="fu">which</span>(zone_grid <span class="sc">==</span> pre_pitch_zone, <span class="at">arr.ind =</span> <span class="cn">TRUE</span>)[<span class="dv">1</span>]</span>
<span id="cb41-6"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb41-6" aria-hidden="true" tabindex="-1"></a>  pre_pitch_zone_column <span class="ot">&lt;-</span> <span class="fu">which</span>(zone_grid <span class="sc">==</span> pre_pitch_zone, <span class="at">arr.ind=</span><span class="cn">TRUE</span>)[<span class="dv">2</span>]</span>
<span id="cb41-7"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb41-7" aria-hidden="true" tabindex="-1"></a>  post_pitch_zone_row <span class="ot">&lt;-</span> <span class="fu">which</span>(zone_grid <span class="sc">==</span> post_pitch_zone, <span class="at">arr.ind =</span> <span class="cn">TRUE</span>)[<span class="dv">1</span>]</span>
<span id="cb41-8"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb41-8" aria-hidden="true" tabindex="-1"></a>  post_pitch_zone_column <span class="ot">&lt;-</span> <span class="fu">which</span>(zone_grid <span class="sc">==</span> post_pitch_zone, <span class="at">arr.ind=</span><span class="cn">TRUE</span>)[<span class="dv">2</span>]</span>
<span id="cb41-9"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb41-9" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb41-10"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb41-10" aria-hidden="true" tabindex="-1"></a>  zone_difference[i] <span class="ot">&lt;-</span> <span class="fu">abs</span>(pre_pitch_zone_row <span class="sc">-</span> post_pitch_zone_row) <span class="sc">+</span> <span class="fu">abs</span>(pre_pitch_zone_column <span class="sc">-</span> post_pitch_zone_column)</span>
<span id="cb41-11"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb41-11" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p>With all zone differential values calculated in a list, we will append the list to the full metric data set for future analysis and incorporation into the Command Zone Rating calculation.</p>
<div class="sourceCode" id="cb42"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb42-1"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb42-1" aria-hidden="true" tabindex="-1"></a>full_metric_data <span class="ot">&lt;-</span> full_metric_data <span class="sc">%&gt;%</span></span>
<span id="cb42-2"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb42-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">zone_diff =</span> zone_difference)</span>
<span id="cb42-3"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb42-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-4"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb42-4" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(full_metric_data[, <span class="dv">205</span><span class="sc">:</span><span class="dv">207</span>], <span class="dv">20</span>)</span></code></pre></div>
<pre><code>## # A tibble: 20 x 3
##    pre_sf_hit pre_sh_hit zone_diff
##         &lt;int&gt;      &lt;int&gt;     &lt;int&gt;
##  1          0          2         1
##  2          0          0         5
##  3          0          0         1
##  4          0          0         4
##  5          0          0         3
##  6          2          0         4
##  7          2          0         0
##  8          2          0         5
##  9          2          0         3
## 10          2          0         2
## 11          2          0         4
## 12          2          0         0
## 13          2          0         4
## 14          2          0         4
## 15          2          0        NA
## 16          2          0         3
## 17          2          0         2
## 18          1          1         5
## 19          1          1         2
## 20          1          1         5</code></pre>
<h2 id="zone-difference-visualization-and-data-exploration">Zone Difference: Visualization and Data Exploration</h2>
<p>Let’s explore whether or not any relationships exist in the data set between zone differential and the handedness of the batter and pitcher.</p>
<div class="sourceCode" id="cb44"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb44-1"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Plot 1: Zone difference by pitch type, as tagged by the TrackMan operator at ND Baseball</span></span>
<span id="cb44-2"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb44-2" aria-hidden="true" tabindex="-1"></a>plot1 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(full_metric_data, <span class="fu">aes</span>(<span class="at">x =</span> zone_diff, </span>
<span id="cb44-3"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb44-3" aria-hidden="true" tabindex="-1"></a>                                      <span class="at">y =</span> <span class="fu">reorder</span>(tagged_pitch_type, </span>
<span id="cb44-4"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb44-4" aria-hidden="true" tabindex="-1"></a>                                                  zone_diff), </span>
<span id="cb44-5"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb44-5" aria-hidden="true" tabindex="-1"></a>                                      <span class="at">fill =</span> tagged_pitch_type)) <span class="sc">+</span> </span>
<span id="cb44-6"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb44-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_density_ridges</span>(<span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span> <span class="co"># Use geom density ridges for 3d density</span></span>
<span id="cb44-7"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb44-7" aria-hidden="true" tabindex="-1"></a>   <span class="fu">theme</span>(<span class="at">axis.line =</span> <span class="fu">element_line</span>(<span class="at">colour =</span> <span class="st">"black"</span>), </span>
<span id="cb44-8"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb44-8" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.grid.major =</span> <span class="fu">element_blank</span>(), </span>
<span id="cb44-9"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb44-9" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.grid.minor =</span> <span class="fu">element_blank</span>(), </span>
<span id="cb44-10"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb44-10" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.border =</span> <span class="fu">element_blank</span>(), </span>
<span id="cb44-11"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb44-11" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.background =</span> <span class="fu">element_blank</span>()) <span class="sc">+</span>  </span>
<span id="cb44-12"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb44-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Zone Difference"</span>, </span>
<span id="cb44-13"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb44-13" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Pitch Type"</span>,  <span class="co"># Set labels</span></span>
<span id="cb44-14"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb44-14" aria-hidden="true" tabindex="-1"></a>       <span class="at">title =</span> <span class="st">"Zone Difference by Pitch Type"</span>,</span>
<span id="cb44-15"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb44-15" aria-hidden="true" tabindex="-1"></a>       <span class="at">subtitle =</span> <span class="st">"Distribution Shapes"</span>) <span class="sc">+</span></span>
<span id="cb44-16"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb44-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">guides</span>(<span class="at">fill =</span> <span class="cn">FALSE</span>)</span></code></pre></div>
<pre><code>## Warning: `guides(&lt;scale&gt; = FALSE)` is deprecated. Please use `guides(&lt;scale&gt; =
## "none")` instead.</code></pre>
<div class="sourceCode" id="cb46"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb46-1"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Plot 2: Zone difference by Right-Handed vs. Left-Handed batters</span></span>
<span id="cb46-2"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb46-2" aria-hidden="true" tabindex="-1"></a>plot2 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(full_metric_data, <span class="fu">aes</span>(<span class="at">x =</span> zone_diff, </span>
<span id="cb46-3"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb46-3" aria-hidden="true" tabindex="-1"></a>                                      <span class="at">y =</span> <span class="fu">reorder</span>(batter_side, </span>
<span id="cb46-4"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb46-4" aria-hidden="true" tabindex="-1"></a>                                                  zone_diff), </span>
<span id="cb46-5"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb46-5" aria-hidden="true" tabindex="-1"></a>                                      <span class="at">fill =</span> batter_side)) <span class="sc">+</span> </span>
<span id="cb46-6"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb46-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_density_ridges</span>(<span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span> </span>
<span id="cb46-7"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb46-7" aria-hidden="true" tabindex="-1"></a>   <span class="fu">theme</span>(<span class="at">axis.line =</span> <span class="fu">element_line</span>(<span class="at">colour =</span> <span class="st">"black"</span>), </span>
<span id="cb46-8"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb46-8" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.grid.major =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb46-9"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb46-9" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.grid.minor =</span> <span class="fu">element_blank</span>(), </span>
<span id="cb46-10"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb46-10" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.border =</span> <span class="fu">element_blank</span>(), </span>
<span id="cb46-11"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb46-11" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.background =</span> <span class="fu">element_blank</span>()) <span class="sc">+</span> </span>
<span id="cb46-12"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb46-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Zone Difference"</span>, </span>
<span id="cb46-13"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb46-13" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Batter Handedness"</span>, </span>
<span id="cb46-14"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb46-14" aria-hidden="true" tabindex="-1"></a>       <span class="at">title =</span> <span class="st">"Zone Difference by Batter Handedness"</span>,</span>
<span id="cb46-15"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb46-15" aria-hidden="true" tabindex="-1"></a>       <span class="at">subtitle =</span> <span class="st">"Distribution Shapes"</span>) <span class="sc">+</span></span>
<span id="cb46-16"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb46-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">guides</span>(<span class="at">fill =</span> <span class="cn">FALSE</span>)</span></code></pre></div>
<pre><code>## Warning: `guides(&lt;scale&gt; = FALSE)` is deprecated. Please use `guides(&lt;scale&gt; =
## "none")` instead.</code></pre>
<div class="sourceCode" id="cb48"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb48-1"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Plot 3: Zone difference by Right-Handed vs. Left-Handed Pitchers</span></span>
<span id="cb48-2"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb48-2" aria-hidden="true" tabindex="-1"></a>plot3 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(full_metric_data, <span class="fu">aes</span>(<span class="at">x =</span> zone_diff, <span class="at">y =</span> <span class="fu">reorder</span>(pitcher_throws, zone_diff), <span class="at">fill =</span> pitcher_throws)) <span class="sc">+</span> </span>
<span id="cb48-3"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb48-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_density_ridges</span>(<span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span> </span>
<span id="cb48-4"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb48-4" aria-hidden="true" tabindex="-1"></a>   <span class="fu">theme</span>(<span class="at">axis.line =</span> <span class="fu">element_line</span>(<span class="at">colour =</span> <span class="st">"black"</span>), </span>
<span id="cb48-5"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb48-5" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.grid.major =</span> <span class="fu">element_blank</span>(), </span>
<span id="cb48-6"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb48-6" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.grid.minor =</span> <span class="fu">element_blank</span>(), </span>
<span id="cb48-7"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb48-7" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.border =</span> <span class="fu">element_blank</span>(), </span>
<span id="cb48-8"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb48-8" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.background =</span> <span class="fu">element_blank</span>()) <span class="sc">+</span> </span>
<span id="cb48-9"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb48-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Zone Difference"</span>, </span>
<span id="cb48-10"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb48-10" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Pitcher Handedness"</span>,  </span>
<span id="cb48-11"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb48-11" aria-hidden="true" tabindex="-1"></a>       <span class="at">title =</span> <span class="st">"Zone Difference by Pitcher Handedness"</span>,</span>
<span id="cb48-12"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb48-12" aria-hidden="true" tabindex="-1"></a>       <span class="at">subtitle =</span> <span class="st">"Distribution Shapes"</span>) <span class="sc">+</span></span>
<span id="cb48-13"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb48-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">guides</span>(<span class="at">fill =</span> <span class="cn">FALSE</span>)</span></code></pre></div>
<pre><code>## Warning: `guides(&lt;scale&gt; = FALSE)` is deprecated. Please use `guides(&lt;scale&gt; =
## "none")` instead.</code></pre>
<div class="sourceCode" id="cb50"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb50-1"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="co">#View the plot distributions</span></span>
<span id="cb50-2"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb50-2" aria-hidden="true" tabindex="-1"></a>plot1</span></code></pre></div>
<pre><code>## Picking joint bandwidth of 0.335

## Warning: Removed 8 rows containing non-finite values (stat_density_ridges).</code></pre>
<p><img src="data:image/png;base64,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"><!-- --></p>
<div class="sourceCode" id="cb52"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb52-1"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb52-1" aria-hidden="true" tabindex="-1"></a><span class="fu">grid.arrange</span>(plot2, plot3, <span class="at">ncol=</span><span class="dv">2</span>)</span></code></pre></div>
<pre><code>## Picking joint bandwidth of 0.271

## Warning: Removed 8 rows containing non-finite values (stat_density_ridges).

## Picking joint bandwidth of 0.265

## Warning: Removed 8 rows containing non-finite values (stat_density_ridges).</code></pre>
<p><img src="data:image/png;base64,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"><!-- --></p>
<p>For a more granular look at the analysis presented above, let’s combine pitcher and batter handedness to consider if L / L and R / R match-ups present command problems:</p>
<div class="sourceCode" id="cb54"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb54-1"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb54-1" aria-hidden="true" tabindex="-1"></a>full_metric_data <span class="ot">&lt;-</span> full_metric_data <span class="sc">%&gt;%</span></span>
<span id="cb54-2"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb54-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unite</span>(<span class="st">"batter_pitcher"</span>, <span class="fu">c</span>(<span class="st">"batter_side"</span>, <span class="st">"pitcher_throws"</span>), <span class="at">remove =</span> <span class="cn">FALSE</span>)</span>
<span id="cb54-3"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb54-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb54-4"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb54-4" aria-hidden="true" tabindex="-1"></a>plot4 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(full_metric_data, <span class="fu">aes</span>(<span class="at">x =</span> zone_diff, <span class="at">y =</span> <span class="fu">reorder</span>(batter_pitcher, zone_diff), <span class="at">fill =</span> batter_pitcher)) <span class="sc">+</span> <span class="co"># Set aesthetics</span></span>
<span id="cb54-5"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb54-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_density_ridges</span>(<span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span> <span class="co"># Use geom density ridges for 3d density</span></span>
<span id="cb54-6"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb54-6" aria-hidden="true" tabindex="-1"></a>   <span class="fu">theme</span>(<span class="at">axis.line =</span> <span class="fu">element_line</span>(<span class="at">colour =</span> <span class="st">"black"</span>), <span class="co"># Set axis line as black</span></span>
<span id="cb54-7"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb54-7" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.grid.major =</span> <span class="fu">element_blank</span>(), <span class="co"># Remove grid</span></span>
<span id="cb54-8"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb54-8" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.grid.minor =</span> <span class="fu">element_blank</span>(), <span class="co"># Remove grid</span></span>
<span id="cb54-9"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb54-9" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.border =</span> <span class="fu">element_blank</span>(), <span class="co"># Remove grid</span></span>
<span id="cb54-10"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb54-10" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.background =</span> <span class="fu">element_blank</span>()) <span class="sc">+</span> <span class="co"># Remove grid </span></span>
<span id="cb54-11"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb54-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Zone Difference"</span>, </span>
<span id="cb54-12"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb54-12" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Pitcher Handedness"</span>,  <span class="co"># Set labels</span></span>
<span id="cb54-13"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb54-13" aria-hidden="true" tabindex="-1"></a>       <span class="at">title =</span> <span class="st">"Zone Difference by Pitcher Handedness"</span>,</span>
<span id="cb54-14"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb54-14" aria-hidden="true" tabindex="-1"></a>       <span class="at">subtitle =</span> <span class="st">"Distribution Shapes"</span>) <span class="sc">+</span></span>
<span id="cb54-15"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb54-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">guides</span>(<span class="at">fill =</span> <span class="cn">FALSE</span>)</span></code></pre></div>
<pre><code>## Warning: `guides(&lt;scale&gt; = FALSE)` is deprecated. Please use `guides(&lt;scale&gt; =
## "none")` instead.</code></pre>
<div class="sourceCode" id="cb56"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb56-1"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb56-1" aria-hidden="true" tabindex="-1"></a>plot4</span></code></pre></div>
<pre><code>## Picking joint bandwidth of 0.315

## Warning: Removed 8 rows containing non-finite values (stat_density_ridges).</code></pre>
<p><img src="data:image/png;base64,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"><!-- --></p>
<p>Finally, we will aggregate the zone differentials into an overall histogram, filtered by pitch type, for a high-level look at the variable distribution:</p>
<div class="sourceCode" id="cb58"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb58-1"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb58-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> full_metric_data, <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> zone_diff, <span class="at">fill =</span> tagged_pitch_type)) <span class="sc">+</span></span>
<span id="cb58-2"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb58-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>() <span class="sc">+</span></span>
<span id="cb58-3"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb58-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Zone Differential"</span>, </span>
<span id="cb58-4"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb58-4" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Frequency"</span>, </span>
<span id="cb58-5"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb58-5" aria-hidden="true" tabindex="-1"></a>       <span class="at">fill =</span> <span class="st">"Pitch Type"</span>,</span>
<span id="cb58-6"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb58-6" aria-hidden="true" tabindex="-1"></a>       <span class="at">title =</span> <span class="st">"Zone Differential by Pitch Type"</span>, </span>
<span id="cb58-7"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb58-7" aria-hidden="true" tabindex="-1"></a>       <span class="at">subtitle =</span> <span class="st">"Overall Frequency"</span>) <span class="sc">+</span> </span>
<span id="cb58-8"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb58-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">panel.grid.major =</span> <span class="fu">element_blank</span>(), </span>
<span id="cb58-9"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb58-9" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.grid.minor =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb58-10"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb58-10" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.background =</span> <span class="fu">element_blank</span>(), </span>
<span id="cb58-11"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb58-11" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.line =</span> <span class="fu">element_line</span>(<span class="at">colour =</span> <span class="st">"black"</span>))</span></code></pre></div>
<pre><code>## Warning: Removed 8 rows containing non-finite values (stat_count).</code></pre>
<p><img src="data:image/png;base64,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"><!-- --></p>
<p>Given its automation, the above visualizations will vary as new data sets are introduced into the Command Zone Rating metric calculation. The plot images may be extracted for advanced pitching analysis as requested.</p>
<h2 id="variable-selection-for-the-model-building-process">Variable Selection for the Model-Building Process</h2>
<p>This merged data set contains a large proportion of features that are not needed for the Command Zone Rating calculation. The following variable reduction modifications become necessary:</p>
<ol style="list-style-type: decimal">
<li><p>Given the collection of pre-game hitting data throughout the season, we will limit the included pre-game metrics to standardized composite metrics that are independent of the number of games played. As such, we ensure that the included metrics (batting average, on-base percentage, slugging percentage, etc.) do not place inaccurate weight on these features in the model based on their wide variance.</p></li>
<li><p>Given the collection of pre-game pitching data throughout the season, we will limit the included pre-game metrics to standardized composite metrics that are independent of the number of games played. As such, we ensure that the included metrics (ERA, WHIP, K/9 IP, wins + saves per appearance, etc.) do not place inaccurate weight on these features in the model based on their wide variance.</p></li>
<li><p>Many of the variables from the raw TrackMan file that document the ball flight are independent of the question of pitching command. While the individual pitching metrics like velocity, vertical approach angle, and spin rate are relevant for Command Zone Rating model-building, some of the ball-in-play metrics, such as exit velocity and launch angle, are not reflective of individual pitcher command. In preparation for model predictions, which take the average TrackMan pitching metrics and NCAA league average hitting metrics as inputs for raw probability scores, we will limit the use of TrackMan to these pitcher-specific measurements.</p></li>
<li><p>Duplicate ID columns and redundant measurements may be removed.</p></li>
<li><p>Ultimately, we will segment the data based on “Ball Zones” (16 zones beyond the 9 strike zones) and “Base Hit Zones” (9 zones within the strike zones) and convert the Play Result to binary categorical variables of Ball Called / No Balled Called and Base Hit / No Base Hit, respectively.</p></li>
</ol>
<p>Let’s make a list of the variables that we will need in this merged data set in anticipation of removal. To do that, we will first need the full list of column names:</p>
<div class="sourceCode" id="cb60"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb60-1"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb60-1" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(full_metric_data)</span></code></pre></div>
<pre><code>##   [1] "date"                              "pitch_number"                     
##   [3] "team"                              "player"                           
##   [5] "prepitch"                          "postpitch"                        
##   [7] "time"                              "p_aof_inning"                     
##   [9] "pitchof_pa"                        "pitcher"                          
##  [11] "pitcher_id"                        "batter_pitcher"                   
##  [13] "pitcher_throws"                    "pitcher_team"                     
##  [15] "batter"                            "batter_id"                        
##  [17] "batter_side"                       "batter_team"                      
##  [19] "pitcher_set"                       "inning"                           
##  [21] "top_bottom"                        "outs"                             
##  [23] "balls"                             "strikes"                          
##  [25] "tagged_pitch_type"                 "auto_pitch_type"                  
##  [27] "pitch_call"                        "kor_bb"                           
##  [29] "tagged_hit_type"                   "play_result"                      
##  [31] "outs_on_play"                      "runs_scored"                      
##  [33] "notes"                             "rel_speed"                        
##  [35] "vert_rel_angle"                    "horz_rel_angle"                   
##  [37] "spin_rate"                         "spin_axis"                        
##  [39] "tilt"                              "rel_height"                       
##  [41] "rel_side"                          "extension"                        
##  [43] "vert_break"                        "induced_vert_break"               
##  [45] "horz_break"                        "plate_loc_height"                 
##  [47] "plate_loc_side"                    "zone_speed"                       
##  [49] "vert_appr_angle"                   "horz_appr_angle"                  
##  [51] "zone_time"                         "exit_speed"                       
##  [53] "angle"                             "direction"                        
##  [55] "hit_spin_rate"                     "position_at110x"                  
##  [57] "position_at110y"                   "position_at110z"                  
##  [59] "distance"                          "last_tracked_distance"            
##  [61] "bearing"                           "hang_time"                        
##  [63] "pfxx"                              "pfxz"                             
##  [65] "x0"                                "y0"                               
##  [67] "z0"                                "vx0"                              
##  [69] "vy0"                               "vz0"                              
##  [71] "ax0"                               "ay0"                              
##  [73] "az0"                               "home_team"                        
##  [75] "away_team"                         "stadium"                          
##  [77] "level"                             "league"                           
##  [79] "game_id"                           "pitch_uid"                        
##  [81] "effective_velo"                    "max_height"                       
##  [83] "measured_duration"                 "speed_drop"                       
##  [85] "pitch_last_measured_x"             "pitch_last_measured_y"            
##  [87] "pitch_last_measured_z"             "contact_position_x"               
##  [89] "contact_position_y"                "contact_position_z"               
##  [91] "game_uid"                          "utc_date"                         
##  [93] "utc_time"                          "local_date_time"                  
##  [95] "utc_date_time"                     "auto_hit_type"                    
##  [97] "system"                            "home_team_foreign_id"             
##  [99] "away_team_foreign_id"              "game_foreign_id"                  
## [101] "catcher"                           "catcher_id"                       
## [103] "catcher_throws"                    "catcher_team"                     
## [105] "play_id"                           "pitch_trajectory_xc0"             
## [107] "pitch_trajectory_xc1"              "pitch_trajectory_xc2"             
## [109] "pitch_trajectory_yc0"              "pitch_trajectory_yc1"             
## [111] "pitch_trajectory_yc2"              "pitch_trajectory_zc0"             
## [113] "pitch_trajectory_zc1"              "pitch_trajectory_zc2"             
## [115] "hit_spin_axis"                     "hit_trajectory_xc0"               
## [117] "hit_trajectory_xc1"                "hit_trajectory_xc2"               
## [119] "hit_trajectory_xc3"                "hit_trajectory_xc4"               
## [121] "hit_trajectory_xc5"                "hit_trajectory_xc6"               
## [123] "hit_trajectory_xc7"                "hit_trajectory_xc8"               
## [125] "hit_trajectory_yc0"                "hit_trajectory_yc1"               
## [127] "hit_trajectory_yc2"                "hit_trajectory_yc3"               
## [129] "hit_trajectory_yc4"                "hit_trajectory_yc5"               
## [131] "hit_trajectory_yc6"                "hit_trajectory_yc7"               
## [133] "hit_trajectory_yc8"                "hit_trajectory_zc0"               
## [135] "hit_trajectory_zc1"                "hit_trajectory_zc2"               
## [137] "hit_trajectory_zc3"                "hit_trajectory_zc4"               
## [139] "hit_trajectory_zc5"                "hit_trajectory_zc6"               
## [141] "hit_trajectory_zc7"                "hit_trajectory_zc8"               
## [143] "throw_speed"                       "pop_time"                         
## [145] "exchange_time"                     "time_to_base"                     
## [147] "catch_position_x"                  "catch_position_y"                 
## [149] "catch_position_z"                  "throw_position_x"                 
## [151] "throw_position_y"                  "throw_position_z"                 
## [153] "base_position_x"                   "base_position_y"                  
## [155] "base_position_z"                   "throw_trajectory_xc0"             
## [157] "throw_trajectory_xc1"              "throw_trajectory_xc2"             
## [159] "throw_trajectory_yc0"              "throw_trajectory_yc1"             
## [161] "throw_trajectory_yc2"              "throw_trajectory_zc0"             
## [163] "throw_trajectory_zc1"              "throw_trajectory_zc2"             
## [165] "pitch_release_confidence"          "pitch_location_confidence"        
## [167] "pitch_movement_confidence"         "hit_launch_confidence"            
## [169] "hit_landing_confidence"            "catcher_throw_catch_confidence"   
## [171] "catcher_throw_release_confidence"  "catcher_throw_location_confidence"
## [173] "number.x"                          "pre_era_pitch"                    
## [175] "pre_w_pitch"                       "pre_l_pitch"                      
## [177] "pre_app_pitch"                     "pre_gs_pitch"                     
## [179] "pre_cg_pitch"                      "pre_sho_pitch"                    
## [181] "pre_sv_pitch"                      "pre_ip_pitch"                     
## [183] "pre_h_pitch"                       "pre_r_pitch"                      
## [185] "pre_er_pitch"                      "pre_bb_pitch"                     
## [187] "pre_so_pitch"                      "pre_x2b_pitch"                    
## [189] "pre_x3b_pitch"                     "pre_hr_pitch"                     
## [191] "pre_b_avg_pitch"                   "number.y"                         
## [193] "pre_ab_hit"                        "pre_r_hit"                        
## [195] "pre_h_hit"                         "pre_x2b_hit"                      
## [197] "pre_x3b_hit"                       "pre_hr_hit"                       
## [199] "pre_rbi_hit"                       "pre_tb_hit"                       
## [201] "pre_slg_hit"                       "pre_bb_hit"                       
## [203] "pre_hp_hit"                        "pre_so_hit"                       
## [205] "pre_obp_hit"                       "pre_sf_hit"                       
## [207] "pre_sh_hit"                        "zone_diff"</code></pre>
<p>Next, remove the metrics pertaining to ball flight and other irrelevant measures with respect to command:</p>
<div class="sourceCode" id="cb62"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb62-1"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb62-1" aria-hidden="true" tabindex="-1"></a>metric_vars_list <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"date"</span>,</span>
<span id="cb62-2"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb62-2" aria-hidden="true" tabindex="-1"></a>                      <span class="st">"team"</span>,</span>
<span id="cb62-3"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb62-3" aria-hidden="true" tabindex="-1"></a>                      <span class="st">"player"</span>,</span>
<span id="cb62-4"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb62-4" aria-hidden="true" tabindex="-1"></a>                      <span class="st">"prepitch"</span>,</span>
<span id="cb62-5"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb62-5" aria-hidden="true" tabindex="-1"></a>                      <span class="st">"postpitch"</span>,</span>
<span id="cb62-6"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb62-6" aria-hidden="true" tabindex="-1"></a>                      <span class="st">"batter_side"</span>,</span>
<span id="cb62-7"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb62-7" aria-hidden="true" tabindex="-1"></a>                      <span class="st">"outs"</span>,</span>
<span id="cb62-8"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb62-8" aria-hidden="true" tabindex="-1"></a>                      <span class="st">"balls"</span>,</span>
<span id="cb62-9"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb62-9" aria-hidden="true" tabindex="-1"></a>                      <span class="st">"strikes"</span>,</span>
<span id="cb62-10"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb62-10" aria-hidden="true" tabindex="-1"></a>                      <span class="st">"inning"</span>,</span>
<span id="cb62-11"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb62-11" aria-hidden="true" tabindex="-1"></a>                      <span class="st">"tagged_pitch_type"</span>,</span>
<span id="cb62-12"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb62-12" aria-hidden="true" tabindex="-1"></a>                      <span class="st">"pitch_call"</span>,</span>
<span id="cb62-13"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb62-13" aria-hidden="true" tabindex="-1"></a>                      <span class="st">"play_result"</span>,</span>
<span id="cb62-14"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb62-14" aria-hidden="true" tabindex="-1"></a>                      <span class="st">"kor_bb"</span>,</span>
<span id="cb62-15"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb62-15" aria-hidden="true" tabindex="-1"></a>                      <span class="st">"rel_speed"</span>,</span>
<span id="cb62-16"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb62-16" aria-hidden="true" tabindex="-1"></a>                      <span class="st">"vert_rel_angle"</span>,</span>
<span id="cb62-17"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb62-17" aria-hidden="true" tabindex="-1"></a>                      <span class="st">"horz_rel_angle"</span>,</span>
<span id="cb62-18"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb62-18" aria-hidden="true" tabindex="-1"></a>                      <span class="st">"spin_rate"</span>,</span>
<span id="cb62-19"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb62-19" aria-hidden="true" tabindex="-1"></a>                      <span class="st">"spin_axis"</span>,</span>
<span id="cb62-20"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb62-20" aria-hidden="true" tabindex="-1"></a>                      <span class="st">"tilt"</span>,</span>
<span id="cb62-21"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb62-21" aria-hidden="true" tabindex="-1"></a>                      <span class="st">"rel_height"</span>,</span>
<span id="cb62-22"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb62-22" aria-hidden="true" tabindex="-1"></a>                      <span class="st">"rel_side"</span>,</span>
<span id="cb62-23"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb62-23" aria-hidden="true" tabindex="-1"></a>                      <span class="st">"extension"</span>,</span>
<span id="cb62-24"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb62-24" aria-hidden="true" tabindex="-1"></a>                      <span class="st">"vert_break"</span>,</span>
<span id="cb62-25"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb62-25" aria-hidden="true" tabindex="-1"></a>                      <span class="st">"induced_vert_break"</span>,</span>
<span id="cb62-26"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb62-26" aria-hidden="true" tabindex="-1"></a>                      <span class="st">"horz_break"</span>,</span>
<span id="cb62-27"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb62-27" aria-hidden="true" tabindex="-1"></a>                      <span class="st">"zone_speed"</span>,</span>
<span id="cb62-28"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb62-28" aria-hidden="true" tabindex="-1"></a>                      <span class="st">"vert_appr_angle"</span>,</span>
<span id="cb62-29"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb62-29" aria-hidden="true" tabindex="-1"></a>                      <span class="st">"horz_appr_angle"</span>,</span>
<span id="cb62-30"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb62-30" aria-hidden="true" tabindex="-1"></a>                      <span class="st">"pre_era_pitch"</span>,</span>
<span id="cb62-31"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb62-31" aria-hidden="true" tabindex="-1"></a>                      <span class="st">"pre_w_pitch"</span>,</span>
<span id="cb62-32"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb62-32" aria-hidden="true" tabindex="-1"></a>                      <span class="st">"pre_l_pitch"</span>,</span>
<span id="cb62-33"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb62-33" aria-hidden="true" tabindex="-1"></a>                      <span class="st">"pre_sv_pitch"</span>,</span>
<span id="cb62-34"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb62-34" aria-hidden="true" tabindex="-1"></a>                      <span class="st">"pre_app_pitch"</span>,</span>
<span id="cb62-35"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb62-35" aria-hidden="true" tabindex="-1"></a>                      <span class="st">"pre_ip_pitch"</span>,</span>
<span id="cb62-36"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb62-36" aria-hidden="true" tabindex="-1"></a>                      <span class="st">"pre_h_pitch"</span>,</span>
<span id="cb62-37"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb62-37" aria-hidden="true" tabindex="-1"></a>                      <span class="st">"pre_bb_pitch"</span>,</span>
<span id="cb62-38"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb62-38" aria-hidden="true" tabindex="-1"></a>                      <span class="st">"pre_so_pitch"</span>,</span>
<span id="cb62-39"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb62-39" aria-hidden="true" tabindex="-1"></a>                      <span class="st">"pre_x2b_pitch"</span>,</span>
<span id="cb62-40"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb62-40" aria-hidden="true" tabindex="-1"></a>                      <span class="st">"pre_x3b_pitch"</span>,</span>
<span id="cb62-41"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb62-41" aria-hidden="true" tabindex="-1"></a>                      <span class="st">"pre_hr_pitch"</span>,</span>
<span id="cb62-42"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb62-42" aria-hidden="true" tabindex="-1"></a>                      <span class="st">"pre_b_avg_pitch"</span>,</span>
<span id="cb62-43"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb62-43" aria-hidden="true" tabindex="-1"></a>                      <span class="st">"pre_ab_hit"</span>,</span>
<span id="cb62-44"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb62-44" aria-hidden="true" tabindex="-1"></a>                      <span class="st">"pre_h_hit"</span>,</span>
<span id="cb62-45"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb62-45" aria-hidden="true" tabindex="-1"></a>                      <span class="st">"pre_x2b_hit"</span>,</span>
<span id="cb62-46"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb62-46" aria-hidden="true" tabindex="-1"></a>                      <span class="st">"pre_x3b_hit"</span>,</span>
<span id="cb62-47"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb62-47" aria-hidden="true" tabindex="-1"></a>                      <span class="st">"pre_hr_hit"</span>,</span>
<span id="cb62-48"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb62-48" aria-hidden="true" tabindex="-1"></a>                      <span class="st">"pre_rbi_hit"</span>,</span>
<span id="cb62-49"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb62-49" aria-hidden="true" tabindex="-1"></a>                      <span class="st">"pre_tb_hit"</span>,</span>
<span id="cb62-50"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb62-50" aria-hidden="true" tabindex="-1"></a>                      <span class="st">"pre_bb_hit"</span>,</span>
<span id="cb62-51"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb62-51" aria-hidden="true" tabindex="-1"></a>                      <span class="st">"pre_so_hit"</span>,</span>
<span id="cb62-52"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb62-52" aria-hidden="true" tabindex="-1"></a>                      <span class="st">"pre_obp_hit"</span>,</span>
<span id="cb62-53"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb62-53" aria-hidden="true" tabindex="-1"></a>                      <span class="st">"pre_slg_hit"</span>,</span>
<span id="cb62-54"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb62-54" aria-hidden="true" tabindex="-1"></a>                      <span class="st">"zone_diff"</span>)</span>
<span id="cb62-55"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb62-55" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-56"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb62-56" aria-hidden="true" tabindex="-1"></a>metrics_reduced_model_data <span class="ot">&lt;-</span> <span class="fu">subset</span>(full_metric_data, <span class="at">select =</span> metric_vars_list)</span>
<span id="cb62-57"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb62-57" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-58"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb62-58" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(metrics_reduced_model_data)</span></code></pre></div>
<pre><code>## # A tibble: 6 x 54
##   date       team  player     prepitch postpitch batter_side  outs balls strikes
##   &lt;date&gt;     &lt;chr&gt; &lt;chr&gt;         &lt;int&gt;     &lt;int&gt; &lt;chr&gt;       &lt;int&gt; &lt;int&gt;   &lt;int&gt;
## 1 2022-03-25 VT    Griffin G~       18        17 Right           0     0       0
## 2 2022-03-25 VT    Griffin G~       19         6 Left            1     0       0
## 3 2022-03-25 VT    Griffin G~       19        14 Left            1     1       0
## 4 2022-03-25 VT    Griffin G~       19         7 Left            1     1       1
## 5 2022-03-25 VT    Griffin G~       19        12 Left            1     1       2
## 6 2022-03-25 VT    Griffin G~       17        25 Right           2     0       0
## # ... with 45 more variables: inning &lt;int&gt;, tagged_pitch_type &lt;chr&gt;,
## #   pitch_call &lt;chr&gt;, play_result &lt;chr&gt;, kor_bb &lt;chr&gt;, rel_speed &lt;dbl&gt;,
## #   vert_rel_angle &lt;dbl&gt;, horz_rel_angle &lt;dbl&gt;, spin_rate &lt;dbl&gt;,
## #   spin_axis &lt;dbl&gt;, tilt &lt;chr&gt;, rel_height &lt;dbl&gt;, rel_side &lt;dbl&gt;,
## #   extension &lt;dbl&gt;, vert_break &lt;dbl&gt;, induced_vert_break &lt;dbl&gt;,
## #   horz_break &lt;dbl&gt;, zone_speed &lt;dbl&gt;, vert_appr_angle &lt;dbl&gt;,
## #   horz_appr_angle &lt;dbl&gt;, pre_era_pitch &lt;dbl&gt;, pre_w_pitch &lt;int&gt;, ...</code></pre>
<h2 id="variable-creation-standardized-hitting-and-pitching-metrics">Variable Creation: Standardized Hitting and Pitching Metrics</h2>
<p>In this section, we will create a list of pitching and hitting metrics that can be compared over time as pre-game metric data sets from various points in the NCAA season are introduced.</p>
<p>The following standardized metrics will be calculated, among others:</p>
<ol style="list-style-type: decimal">
<li><p>Batting Average</p></li>
<li><p>Walks + Hits / Innings Pitched (WHIP)</p></li>
<li><p>Strikeouts per Inning Pitched (K/IP)</p></li>
<li><p>Wins + Saves / Appearances (WS / APP)</p></li>
<li><p>Fielding Independent Pitching (FIP)</p></li>
<li><p>Total Bases / Innings Pitched (Proxy for Opponent OPS)</p></li>
</ol>
<p>Pitching Metrics: Fielding Independent Pitching, OPPOPS, Strikeouts per IP, WHIP, WS / APP:</p>
<div class="sourceCode" id="cb64"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb64-1"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb64-1" aria-hidden="true" tabindex="-1"></a>metrics_reduced_model_data <span class="ot">&lt;-</span> metrics_reduced_model_data <span class="sc">%&gt;%</span></span>
<span id="cb64-2"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb64-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">pre_w_pitch =</span> <span class="fu">as.double</span>(pre_w_pitch),</span>
<span id="cb64-3"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb64-3" aria-hidden="true" tabindex="-1"></a>         <span class="at">pre_sv_pitch =</span> <span class="fu">as.double</span>(pre_sv_pitch),</span>
<span id="cb64-4"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb64-4" aria-hidden="true" tabindex="-1"></a>         <span class="at">pre_app_pitch =</span> <span class="fu">as.integer</span>(pre_app_pitch)) <span class="sc">%&gt;%</span></span>
<span id="cb64-5"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb64-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">pre_w_pitch =</span> <span class="fu">if_else</span>(<span class="fu">is.na</span>(pre_w_pitch), <span class="dv">0</span>, pre_w_pitch)) <span class="sc">%&gt;%</span></span>
<span id="cb64-6"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb64-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">fip =</span> (<span class="dv">13</span> <span class="sc">*</span> pre_hr_pitch  <span class="sc">+</span> <span class="dv">3</span> <span class="sc">*</span> pre_bb_pitch <span class="sc">-</span> <span class="dv">2</span> <span class="sc">*</span> pre_so_pitch) <span class="sc">/</span> pre_ip_pitch,</span>
<span id="cb64-7"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb64-7" aria-hidden="true" tabindex="-1"></a>         <span class="at">opp_ops =</span> (<span class="dv">2</span><span class="sc">*</span>pre_x2b_pitch <span class="sc">+</span> </span>
<span id="cb64-8"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb64-8" aria-hidden="true" tabindex="-1"></a>                      <span class="dv">3</span><span class="sc">*</span>pre_x3b_pitch <span class="sc">+</span> </span>
<span id="cb64-9"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb64-9" aria-hidden="true" tabindex="-1"></a>                      <span class="dv">4</span><span class="sc">*</span>pre_hr_pitch <span class="sc">+</span> </span>
<span id="cb64-10"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb64-10" aria-hidden="true" tabindex="-1"></a>                      (pre_h_pitch <span class="sc">-</span> pre_x2b_pitch <span class="sc">-</span> pre_x3b_pitch <span class="sc">-</span> pre_hr_pitch)<span class="sc">*</span><span class="dv">1</span>)<span class="sc">/</span> pre_ip_pitch,</span>
<span id="cb64-11"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb64-11" aria-hidden="true" tabindex="-1"></a>         <span class="at">wins_saves_app =</span> (pre_w_pitch <span class="sc">+</span> pre_sv_pitch) <span class="sc">/</span> pre_app_pitch,</span>
<span id="cb64-12"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb64-12" aria-hidden="true" tabindex="-1"></a>         <span class="at">k_per_ip =</span> pre_so_pitch <span class="sc">/</span> pre_ip_pitch,</span>
<span id="cb64-13"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb64-13" aria-hidden="true" tabindex="-1"></a>         <span class="at">whip =</span> (pre_bb_pitch <span class="sc">+</span> pre_h_pitch)<span class="sc">/</span> pre_bb_pitch)</span></code></pre></div>
<pre><code>## Warning in mask$eval_all_mutate(quo): NAs introduced by coercion</code></pre>
<div class="sourceCode" id="cb66"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb66-1"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb66-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(metrics_reduced_model_data) </span></code></pre></div>
<pre><code>## # A tibble: 6 x 59
##   date       team  player     prepitch postpitch batter_side  outs balls strikes
##   &lt;date&gt;     &lt;chr&gt; &lt;chr&gt;         &lt;int&gt;     &lt;int&gt; &lt;chr&gt;       &lt;int&gt; &lt;int&gt;   &lt;int&gt;
## 1 2022-03-25 VT    Griffin G~       18        17 Right           0     0       0
## 2 2022-03-25 VT    Griffin G~       19         6 Left            1     0       0
## 3 2022-03-25 VT    Griffin G~       19        14 Left            1     1       0
## 4 2022-03-25 VT    Griffin G~       19         7 Left            1     1       1
## 5 2022-03-25 VT    Griffin G~       19        12 Left            1     1       2
## 6 2022-03-25 VT    Griffin G~       17        25 Right           2     0       0
## # ... with 50 more variables: inning &lt;int&gt;, tagged_pitch_type &lt;chr&gt;,
## #   pitch_call &lt;chr&gt;, play_result &lt;chr&gt;, kor_bb &lt;chr&gt;, rel_speed &lt;dbl&gt;,
## #   vert_rel_angle &lt;dbl&gt;, horz_rel_angle &lt;dbl&gt;, spin_rate &lt;dbl&gt;,
## #   spin_axis &lt;dbl&gt;, tilt &lt;chr&gt;, rel_height &lt;dbl&gt;, rel_side &lt;dbl&gt;,
## #   extension &lt;dbl&gt;, vert_break &lt;dbl&gt;, induced_vert_break &lt;dbl&gt;,
## #   horz_break &lt;dbl&gt;, zone_speed &lt;dbl&gt;, vert_appr_angle &lt;dbl&gt;,
## #   horz_appr_angle &lt;dbl&gt;, pre_era_pitch &lt;dbl&gt;, pre_w_pitch &lt;dbl&gt;, ...</code></pre>
<p>Hitting Metrics: OPS, BB / AB, SO / AB</p>
<div class="sourceCode" id="cb68"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb68-1"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb68-1" aria-hidden="true" tabindex="-1"></a>metrics_reduced_model_data <span class="ot">&lt;-</span> metrics_reduced_model_data <span class="sc">%&gt;%</span></span>
<span id="cb68-2"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb68-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">ops =</span> pre_obp_hit <span class="sc">+</span> pre_slg_hit,</span>
<span id="cb68-3"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb68-3" aria-hidden="true" tabindex="-1"></a>         <span class="at">bb_per_ab =</span> pre_bb_hit <span class="sc">/</span> pre_ab_hit,</span>
<span id="cb68-4"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb68-4" aria-hidden="true" tabindex="-1"></a>         <span class="at">pre_so_hit =</span> <span class="fu">as.numeric</span>(pre_so_hit),</span>
<span id="cb68-5"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb68-5" aria-hidden="true" tabindex="-1"></a>         <span class="at">so_per_ab =</span> pre_so_hit <span class="sc">/</span> pre_ab_hit)</span>
<span id="cb68-6"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb68-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb68-7"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb68-7" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(metrics_reduced_model_data)</span></code></pre></div>
<pre><code>## # A tibble: 6 x 62
##   date       team  player     prepitch postpitch batter_side  outs balls strikes
##   &lt;date&gt;     &lt;chr&gt; &lt;chr&gt;         &lt;int&gt;     &lt;int&gt; &lt;chr&gt;       &lt;int&gt; &lt;int&gt;   &lt;int&gt;
## 1 2022-03-25 VT    Griffin G~       18        17 Right           0     0       0
## 2 2022-03-25 VT    Griffin G~       19         6 Left            1     0       0
## 3 2022-03-25 VT    Griffin G~       19        14 Left            1     1       0
## 4 2022-03-25 VT    Griffin G~       19         7 Left            1     1       1
## 5 2022-03-25 VT    Griffin G~       19        12 Left            1     1       2
## 6 2022-03-25 VT    Griffin G~       17        25 Right           2     0       0
## # ... with 53 more variables: inning &lt;int&gt;, tagged_pitch_type &lt;chr&gt;,
## #   pitch_call &lt;chr&gt;, play_result &lt;chr&gt;, kor_bb &lt;chr&gt;, rel_speed &lt;dbl&gt;,
## #   vert_rel_angle &lt;dbl&gt;, horz_rel_angle &lt;dbl&gt;, spin_rate &lt;dbl&gt;,
## #   spin_axis &lt;dbl&gt;, tilt &lt;chr&gt;, rel_height &lt;dbl&gt;, rel_side &lt;dbl&gt;,
## #   extension &lt;dbl&gt;, vert_break &lt;dbl&gt;, induced_vert_break &lt;dbl&gt;,
## #   horz_break &lt;dbl&gt;, zone_speed &lt;dbl&gt;, vert_appr_angle &lt;dbl&gt;,
## #   horz_appr_angle &lt;dbl&gt;, pre_era_pitch &lt;dbl&gt;, pre_w_pitch &lt;dbl&gt;, ...</code></pre>
<p>Now, reduce the variables in the metric model data set to the standardized metrics used for filtering and modeling for CZR:</p>
<div class="sourceCode" id="cb70"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb70-1"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb70-1" aria-hidden="true" tabindex="-1"></a>metrics_reduced_model_data <span class="ot">&lt;-</span> metrics_reduced_model_data <span class="sc">%&gt;%</span></span>
<span id="cb70-2"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb70-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(date,</span>
<span id="cb70-3"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb70-3" aria-hidden="true" tabindex="-1"></a>         player,</span>
<span id="cb70-4"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb70-4" aria-hidden="true" tabindex="-1"></a>         team,</span>
<span id="cb70-5"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb70-5" aria-hidden="true" tabindex="-1"></a>         pitch_call,</span>
<span id="cb70-6"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb70-6" aria-hidden="true" tabindex="-1"></a>         play_result,</span>
<span id="cb70-7"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb70-7" aria-hidden="true" tabindex="-1"></a>         zone_diff,</span>
<span id="cb70-8"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb70-8" aria-hidden="true" tabindex="-1"></a>         postpitch, </span>
<span id="cb70-9"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb70-9" aria-hidden="true" tabindex="-1"></a>         batter_side, </span>
<span id="cb70-10"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb70-10" aria-hidden="true" tabindex="-1"></a>         outs, </span>
<span id="cb70-11"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb70-11" aria-hidden="true" tabindex="-1"></a>         balls, </span>
<span id="cb70-12"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb70-12" aria-hidden="true" tabindex="-1"></a>         strikes, </span>
<span id="cb70-13"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb70-13" aria-hidden="true" tabindex="-1"></a>         inning, </span>
<span id="cb70-14"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb70-14" aria-hidden="true" tabindex="-1"></a>         tagged_pitch_type,</span>
<span id="cb70-15"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb70-15" aria-hidden="true" tabindex="-1"></a>         pitch_call,</span>
<span id="cb70-16"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb70-16" aria-hidden="true" tabindex="-1"></a>         play_result,</span>
<span id="cb70-17"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb70-17" aria-hidden="true" tabindex="-1"></a>         rel_speed,</span>
<span id="cb70-18"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb70-18" aria-hidden="true" tabindex="-1"></a>         vert_rel_angle,</span>
<span id="cb70-19"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb70-19" aria-hidden="true" tabindex="-1"></a>         horz_rel_angle,</span>
<span id="cb70-20"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb70-20" aria-hidden="true" tabindex="-1"></a>         spin_rate,</span>
<span id="cb70-21"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb70-21" aria-hidden="true" tabindex="-1"></a>         spin_axis,</span>
<span id="cb70-22"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb70-22" aria-hidden="true" tabindex="-1"></a>         extension,</span>
<span id="cb70-23"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb70-23" aria-hidden="true" tabindex="-1"></a>         vert_break,</span>
<span id="cb70-24"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb70-24" aria-hidden="true" tabindex="-1"></a>         induced_vert_break,</span>
<span id="cb70-25"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb70-25" aria-hidden="true" tabindex="-1"></a>         horz_break,</span>
<span id="cb70-26"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb70-26" aria-hidden="true" tabindex="-1"></a>         zone_speed,</span>
<span id="cb70-27"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb70-27" aria-hidden="true" tabindex="-1"></a>         vert_appr_angle,</span>
<span id="cb70-28"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb70-28" aria-hidden="true" tabindex="-1"></a>         horz_appr_angle,</span>
<span id="cb70-29"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb70-29" aria-hidden="true" tabindex="-1"></a>         pre_era_pitch,</span>
<span id="cb70-30"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb70-30" aria-hidden="true" tabindex="-1"></a>         pre_b_avg_pitch,</span>
<span id="cb70-31"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb70-31" aria-hidden="true" tabindex="-1"></a>         fip,</span>
<span id="cb70-32"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb70-32" aria-hidden="true" tabindex="-1"></a>         opp_ops,</span>
<span id="cb70-33"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb70-33" aria-hidden="true" tabindex="-1"></a>         wins_saves_app,</span>
<span id="cb70-34"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb70-34" aria-hidden="true" tabindex="-1"></a>         k_per_ip,</span>
<span id="cb70-35"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb70-35" aria-hidden="true" tabindex="-1"></a>         ops,</span>
<span id="cb70-36"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb70-36" aria-hidden="true" tabindex="-1"></a>         bb_per_ab,</span>
<span id="cb70-37"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb70-37" aria-hidden="true" tabindex="-1"></a>         so_per_ab,</span>
<span id="cb70-38"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb70-38" aria-hidden="true" tabindex="-1"></a>         whip) <span class="sc">%&gt;%</span></span>
<span id="cb70-39"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb70-39" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">batter_side =</span> <span class="fu">as.factor</span>(batter_side),</span>
<span id="cb70-40"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb70-40" aria-hidden="true" tabindex="-1"></a>         <span class="at">outs =</span> <span class="fu">as.factor</span>(outs),</span>
<span id="cb70-41"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb70-41" aria-hidden="true" tabindex="-1"></a>         <span class="at">balls =</span> <span class="fu">as.factor</span>(balls),</span>
<span id="cb70-42"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb70-42" aria-hidden="true" tabindex="-1"></a>         <span class="at">strikes =</span> <span class="fu">as.factor</span>(strikes),</span>
<span id="cb70-43"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb70-43" aria-hidden="true" tabindex="-1"></a>         <span class="at">inning =</span> <span class="fu">as.factor</span>(inning),</span>
<span id="cb70-44"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb70-44" aria-hidden="true" tabindex="-1"></a>         <span class="at">tagged_pitch_type =</span> <span class="fu">as.factor</span>(tagged_pitch_type))</span>
<span id="cb70-45"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb70-45" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-46"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb70-46" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(metrics_reduced_model_data)</span></code></pre></div>
<pre><code>## # A tibble: 6 x 35
##   date       player team  pitch_call play_result zone_diff postpitch batter_side
##   &lt;date&gt;     &lt;chr&gt;  &lt;chr&gt; &lt;chr&gt;      &lt;chr&gt;           &lt;int&gt;     &lt;int&gt; &lt;fct&gt;      
## 1 2022-03-25 Griff~ VT    InPlay     Out                 1        17 Right      
## 2 2022-03-25 Griff~ VT    BallCalled Undefined           5         6 Left       
## 3 2022-03-25 Griff~ VT    StrikeCal~ Undefined           1        14 Left       
## 4 2022-03-25 Griff~ VT    StrikeSwi~ Undefined           4         7 Left       
## 5 2022-03-25 Griff~ VT    StrikeSwi~ Undefined           3        12 Left       
## 6 2022-03-25 Griff~ VT    BallCalled Undefined           4        25 Right      
## # ... with 27 more variables: outs &lt;fct&gt;, balls &lt;fct&gt;, strikes &lt;fct&gt;,
## #   inning &lt;fct&gt;, tagged_pitch_type &lt;fct&gt;, rel_speed &lt;dbl&gt;,
## #   vert_rel_angle &lt;dbl&gt;, horz_rel_angle &lt;dbl&gt;, spin_rate &lt;dbl&gt;,
## #   spin_axis &lt;dbl&gt;, extension &lt;dbl&gt;, vert_break &lt;dbl&gt;,
## #   induced_vert_break &lt;dbl&gt;, horz_break &lt;dbl&gt;, zone_speed &lt;dbl&gt;,
## #   vert_appr_angle &lt;dbl&gt;, horz_appr_angle &lt;dbl&gt;, pre_era_pitch &lt;dbl&gt;,
## #   pre_b_avg_pitch &lt;dbl&gt;, fip &lt;dbl&gt;, opp_ops &lt;dbl&gt;, wins_saves_app &lt;dbl&gt;, ...</code></pre>
<h1 id="create-the-results-data-frame">Create the Results Data Frame</h1>
<p>In anticipation of model building, we must build a data frame that contains the following:</p>
<ol style="list-style-type: decimal">
<li><p>25 factor variables across 25 columns, one corresponding to each zone, with ones in the diagonal for a total of 25 rows</p></li>
<li><p>The average pitching metrics for a given pitcher’s pitch type by hitter handedness (R/L)</p></li>
<li><p>The aggregate mean NCAA hitting metrics among faced teams in the data set</p></li>
<li><p>An empty column in which corresponding test predictions on these observational rows will be placed</p></li>
<li><p>The pitch splits of each pitcher for the sake of filtering out pitches thrown less than 20 percent of the time</p></li>
</ol>
<p>I will begin by calculating the pitch splits by player among all pitches thrown in the data set:</p>
<div class="sourceCode" id="cb72"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb72-1"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb72-1" aria-hidden="true" tabindex="-1"></a>metrics_reduced_model_data <span class="ot">&lt;-</span> metrics_reduced_model_data <span class="sc">%&gt;%</span></span>
<span id="cb72-2"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb72-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">team =</span> <span class="fu">if_else</span>(team <span class="sc">==</span> <span class="st">"ND"</span>, <span class="st">"Notre Dame"</span>, team)) </span>
<span id="cb72-3"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb72-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb72-4"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb72-4" aria-hidden="true" tabindex="-1"></a>by_pitch <span class="ot">&lt;-</span> metrics_reduced_model_data <span class="sc">%&gt;%</span></span>
<span id="cb72-5"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb72-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(team <span class="sc">==</span> <span class="st">"Notre Dame"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb72-6"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb72-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(player, tagged_pitch_type) <span class="sc">%&gt;%</span></span>
<span id="cb72-7"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb72-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>()</span>
<span id="cb72-8"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb72-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb72-9"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb72-9" aria-hidden="true" tabindex="-1"></a>by_pitch</span></code></pre></div>
<pre><code>## # A tibble: 54 x 3
## # Groups:   player, tagged_pitch_type [54]
##    player        tagged_pitch_type     n
##    &lt;chr&gt;         &lt;fct&gt;             &lt;int&gt;
##  1 Aidan Tyrell  ChangeUp             13
##  2 Aidan Tyrell  Curveball             4
##  3 Aidan Tyrell  Fastball             67
##  4 Aidan Tyrell  Slider               28
##  5 Alex Rao      ChangeUp             43
##  6 Alex Rao      Curveball             1
##  7 Alex Rao      Fastball             69
##  8 Alex Rao      Slider                3
##  9 Austin Temple ChangeUp              6
## 10 Austin Temple Curveball            45
## # ... with 44 more rows</code></pre>
<div class="sourceCode" id="cb74"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb74-1"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb74-1" aria-hidden="true" tabindex="-1"></a>by_total_pitches <span class="ot">&lt;-</span> metrics_reduced_model_data <span class="sc">%&gt;%</span></span>
<span id="cb74-2"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb74-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(team <span class="sc">==</span> <span class="st">"Notre Dame"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb74-3"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb74-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(player) <span class="sc">%&gt;%</span></span>
<span id="cb74-4"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb74-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>()</span>
<span id="cb74-5"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb74-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb74-6"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb74-6" aria-hidden="true" tabindex="-1"></a>by_total_pitches</span></code></pre></div>
<pre><code>## # A tibble: 15 x 2
## # Groups:   player [15]
##    player                    n
##    &lt;chr&gt;                 &lt;int&gt;
##  1 Aidan Tyrell            112
##  2 Alex Rao                116
##  3 Austin Temple           165
##  4 Jack Brannigan           86
##  5 Jack Findlay            198
##  6 Jackson Dennies         130
##  7 John Michael Bertrand   279
##  8 Liam Simmon              10
##  9 Liam Simon              144
## 10 Matt Lazzaro             34
## 11 Radek Birkholz           99
## 12 Roman Kimball           158
## 13 Ryan McLinskey          106
## 14 Sammy Cooper             12
## 15 Will Mercer              56</code></pre>
<div class="sourceCode" id="cb76"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb76-1"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb76-1" aria-hidden="true" tabindex="-1"></a>by_pitcher_joined <span class="ot">&lt;-</span> by_pitch <span class="sc">%&gt;%</span></span>
<span id="cb76-2"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb76-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(by_total_pitches,</span>
<span id="cb76-3"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb76-3" aria-hidden="true" tabindex="-1"></a>            <span class="at">by =</span> <span class="st">"player"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb76-4"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb76-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">pitch_split =</span> n.x <span class="sc">/</span> n.y) <span class="sc">%&gt;%</span></span>
<span id="cb76-5"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb76-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span><span class="fu">c</span>(n.x, n.y)) <span class="sc">%&gt;%</span></span>
<span id="cb76-6"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb76-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(pitch_split <span class="sc">&gt;=</span> <span class="fl">0.2</span>)</span>
<span id="cb76-7"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb76-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-8"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb76-8" aria-hidden="true" tabindex="-1"></a>by_pitcher_joined</span></code></pre></div>
<pre><code>## # A tibble: 29 x 3
## # Groups:   player, tagged_pitch_type [29]
##    player         tagged_pitch_type pitch_split
##    &lt;chr&gt;          &lt;fct&gt;                   &lt;dbl&gt;
##  1 Aidan Tyrell   Fastball                0.598
##  2 Aidan Tyrell   Slider                  0.25 
##  3 Alex Rao       ChangeUp                0.371
##  4 Alex Rao       Fastball                0.595
##  5 Austin Temple  Curveball               0.273
##  6 Austin Temple  Fastball                0.448
##  7 Austin Temple  Slider                  0.242
##  8 Jack Brannigan Fastball                0.5  
##  9 Jack Brannigan Slider                  0.279
## 10 Jack Findlay   Fastball                0.768
## # ... with 19 more rows</code></pre>
<p>Next, I will create dummy variables for post pitch zones and convert them into factors</p>
<div class="sourceCode" id="cb78"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb78-1"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb78-1" aria-hidden="true" tabindex="-1"></a>metric_results <span class="ot">&lt;-</span> metrics_reduced_model_data <span class="sc">%&gt;%</span></span>
<span id="cb78-2"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb78-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(postpitch) <span class="sc">%&gt;%</span></span>
<span id="cb78-3"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb78-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">dummy_cols</span>() <span class="sc">%&gt;%</span></span>
<span id="cb78-4"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb78-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unique</span>() <span class="sc">%&gt;%</span></span>
<span id="cb78-5"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb78-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(postpitch) <span class="sc">%&gt;%</span></span>
<span id="cb78-6"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb78-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">drop_na</span>() <span class="sc">%&gt;%</span></span>
<span id="cb78-7"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb78-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span><span class="fu">c</span>(postpitch, postpitch_NA)) <span class="sc">%&gt;%</span></span>
<span id="cb78-8"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb78-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="at">.cols =</span> <span class="fu">everything</span>(), as.factor))</span>
<span id="cb78-9"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb78-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-10"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb78-10" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(metric_results)</span></code></pre></div>
<pre><code>## # A tibble: 6 x 25
##   postpitch_1 postpitch_2 postpitch_3 postpitch_4 postpitch_5 postpitch_6
##   &lt;fct&gt;       &lt;fct&gt;       &lt;fct&gt;       &lt;fct&gt;       &lt;fct&gt;       &lt;fct&gt;      
## 1 1           0           0           0           0           0          
## 2 0           1           0           0           0           0          
## 3 0           0           1           0           0           0          
## 4 0           0           0           1           0           0          
## 5 0           0           0           0           1           0          
## 6 0           0           0           0           0           1          
## # ... with 19 more variables: postpitch_7 &lt;fct&gt;, postpitch_8 &lt;fct&gt;,
## #   postpitch_9 &lt;fct&gt;, postpitch_10 &lt;fct&gt;, postpitch_11 &lt;fct&gt;,
## #   postpitch_12 &lt;fct&gt;, postpitch_13 &lt;fct&gt;, postpitch_14 &lt;fct&gt;,
## #   postpitch_15 &lt;fct&gt;, postpitch_16 &lt;fct&gt;, postpitch_17 &lt;fct&gt;,
## #   postpitch_18 &lt;fct&gt;, postpitch_19 &lt;fct&gt;, postpitch_20 &lt;fct&gt;,
## #   postpitch_21 &lt;fct&gt;, postpitch_22 &lt;fct&gt;, postpitch_23 &lt;fct&gt;,
## #   postpitch_24 &lt;fct&gt;, postpitch_25 &lt;fct&gt;</code></pre>
<p>The following combinations grid creates a set of 25 eligible test rows per model (dependent on a given player, batter side, pitch type combination and tested on the corresponding rows):</p>
<div class="sourceCode" id="cb80"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb80-1"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb80-1" aria-hidden="true" tabindex="-1"></a>combinations_grid <span class="ot">&lt;-</span> by_pitcher_joined <span class="sc">%&gt;%</span></span>
<span id="cb80-2"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb80-2" aria-hidden="true" tabindex="-1"></a>   dplyr<span class="sc">::</span><span class="fu">slice</span>(<span class="fu">rep</span>(<span class="dv">1</span><span class="sc">:</span><span class="fu">n</span>(), <span class="at">each =</span> <span class="dv">2</span>))</span>
<span id="cb80-3"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb80-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-4"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb80-4" aria-hidden="true" tabindex="-1"></a>batter_side <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="fu">c</span>(<span class="st">"Left"</span>, <span class="st">"Right"</span>), <span class="fu">nrow</span>(combinations_grid)<span class="sc">/</span><span class="dv">2</span>)</span>
<span id="cb80-5"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb80-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-6"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb80-6" aria-hidden="true" tabindex="-1"></a>combinations_grid<span class="sc">$</span>batter_side <span class="ot">&lt;-</span> <span class="fu">as.factor</span>(batter_side)</span>
<span id="cb80-7"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb80-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-8"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb80-8" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(combinations_grid, <span class="dv">20</span>)</span></code></pre></div>
<pre><code>## # A tibble: 20 x 4
## # Groups:   player, tagged_pitch_type [10]
##    player         tagged_pitch_type pitch_split batter_side
##    &lt;chr&gt;          &lt;fct&gt;                   &lt;dbl&gt; &lt;fct&gt;      
##  1 Aidan Tyrell   Fastball                0.598 Left       
##  2 Aidan Tyrell   Fastball                0.598 Right      
##  3 Aidan Tyrell   Slider                  0.25  Left       
##  4 Aidan Tyrell   Slider                  0.25  Right      
##  5 Alex Rao       ChangeUp                0.371 Left       
##  6 Alex Rao       ChangeUp                0.371 Right      
##  7 Alex Rao       Fastball                0.595 Left       
##  8 Alex Rao       Fastball                0.595 Right      
##  9 Austin Temple  Curveball               0.273 Left       
## 10 Austin Temple  Curveball               0.273 Right      
## 11 Austin Temple  Fastball                0.448 Left       
## 12 Austin Temple  Fastball                0.448 Right      
## 13 Austin Temple  Slider                  0.242 Left       
## 14 Austin Temple  Slider                  0.242 Right      
## 15 Jack Brannigan Fastball                0.5   Left       
## 16 Jack Brannigan Fastball                0.5   Right      
## 17 Jack Brannigan Slider                  0.279 Left       
## 18 Jack Brannigan Slider                  0.279 Right      
## 19 Jack Findlay   Fastball                0.768 Left       
## 20 Jack Findlay   Fastball                0.768 Right</code></pre>
<p>The following aggregations calculate the following:</p>
<ol style="list-style-type: decimal">
<li><p>The pregame metrics of a pitcher from his last appearance in a game in the data set</p></li>
<li><p>The average hitting metrics across NCAA hitters faced by Notre Dame</p></li>
<li><p>The average TrackMan pitching metrics by player, pitch type, and batter handedness</p></li>
</ol>
<p>The resulting data sets are joined on the data frame of bounded eligible test rows (thus forming the basis for predictions on each model as features):</p>
<div class="sourceCode" id="cb82"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb82-1"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb82-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(metrics_reduced_model_data)</span></code></pre></div>
<pre><code>## # A tibble: 6 x 35
##   date       player team  pitch_call play_result zone_diff postpitch batter_side
##   &lt;date&gt;     &lt;chr&gt;  &lt;chr&gt; &lt;chr&gt;      &lt;chr&gt;           &lt;int&gt;     &lt;int&gt; &lt;fct&gt;      
## 1 2022-03-25 Griff~ VT    InPlay     Out                 1        17 Right      
## 2 2022-03-25 Griff~ VT    BallCalled Undefined           5         6 Left       
## 3 2022-03-25 Griff~ VT    StrikeCal~ Undefined           1        14 Left       
## 4 2022-03-25 Griff~ VT    StrikeSwi~ Undefined           4         7 Left       
## 5 2022-03-25 Griff~ VT    StrikeSwi~ Undefined           3        12 Left       
## 6 2022-03-25 Griff~ VT    BallCalled Undefined           4        25 Right      
## # ... with 27 more variables: outs &lt;fct&gt;, balls &lt;fct&gt;, strikes &lt;fct&gt;,
## #   inning &lt;fct&gt;, tagged_pitch_type &lt;fct&gt;, rel_speed &lt;dbl&gt;,
## #   vert_rel_angle &lt;dbl&gt;, horz_rel_angle &lt;dbl&gt;, spin_rate &lt;dbl&gt;,
## #   spin_axis &lt;dbl&gt;, extension &lt;dbl&gt;, vert_break &lt;dbl&gt;,
## #   induced_vert_break &lt;dbl&gt;, horz_break &lt;dbl&gt;, zone_speed &lt;dbl&gt;,
## #   vert_appr_angle &lt;dbl&gt;, horz_appr_angle &lt;dbl&gt;, pre_era_pitch &lt;dbl&gt;,
## #   pre_b_avg_pitch &lt;dbl&gt;, fip &lt;dbl&gt;, opp_ops &lt;dbl&gt;, wins_saves_app &lt;dbl&gt;, ...</code></pre>
<div class="sourceCode" id="cb84"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb84-1"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb84-1" aria-hidden="true" tabindex="-1"></a>case_when_for_first_appearance <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {</span>
<span id="cb84-2"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb84-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">case_when</span>(<span class="fu">is.na</span>(x) <span class="sc">~</span> <span class="fu">mean</span>(x, <span class="at">na.rm=</span><span class="cn">TRUE</span>),</span>
<span id="cb84-3"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb84-3" aria-hidden="true" tabindex="-1"></a>            <span class="cn">TRUE</span> <span class="sc">~</span> <span class="fu">as.numeric</span>(x))</span>
<span id="cb84-4"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb84-4" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb84-5"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb84-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb84-6"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb84-6" aria-hidden="true" tabindex="-1"></a>average_trackman_metrics_by_pitcher <span class="ot">&lt;-</span> metrics_reduced_model_data <span class="sc">%&gt;%</span></span>
<span id="cb84-7"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb84-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(team <span class="sc">==</span> <span class="st">"Notre Dame"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb84-8"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb84-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="fu">c</span>(player, tagged_pitch_type, batter_side, <span class="dv">14</span><span class="sc">:</span><span class="dv">25</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb84-9"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb84-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(player, tagged_pitch_type, batter_side) <span class="sc">%&gt;%</span></span>
<span id="cb84-10"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb84-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise_if</span>(is.numeric, mean, <span class="at">na.rm =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb84-11"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb84-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>()</span>
<span id="cb84-12"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb84-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb84-13"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb84-13" aria-hidden="true" tabindex="-1"></a>last_pitching_appearance_pregame <span class="ot">&lt;-</span> metrics_reduced_model_data <span class="sc">%&gt;%</span></span>
<span id="cb84-14"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb84-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(team <span class="sc">==</span> <span class="st">"Notre Dame"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb84-15"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb84-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(player) <span class="sc">%&gt;%</span></span>
<span id="cb84-16"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb84-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="fu">max</span>(date)) <span class="sc">%&gt;%</span></span>
<span id="cb84-17"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb84-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="st">"date"</span> <span class="ot">=</span> <span class="st">"max(date)"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb84-18"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb84-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(metrics_reduced_model_data,</span>
<span id="cb84-19"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb84-19" aria-hidden="true" tabindex="-1"></a>            <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"player"</span>, <span class="st">"date"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb84-20"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb84-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">8</span>, <span class="dv">13</span>, <span class="dv">26</span><span class="sc">:</span><span class="dv">31</span>, <span class="dv">35</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb84-21"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb84-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="dv">4</span><span class="sc">:</span><span class="dv">10</span>, case_when_for_first_appearance)) <span class="sc">%&gt;%</span></span>
<span id="cb84-22"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb84-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>()</span>
<span id="cb84-23"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb84-23" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb84-24"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb84-24" aria-hidden="true" tabindex="-1"></a>average_ncaa_hitting_metrics <span class="ot">&lt;-</span> metrics_reduced_model_data <span class="sc">%&gt;%</span></span>
<span id="cb84-25"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb84-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="dv">32</span><span class="sc">:</span><span class="dv">34</span>, mean, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb84-26"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb84-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="dv">32</span><span class="sc">:</span><span class="dv">34</span>) <span class="sc">%&gt;%</span></span>
<span id="cb84-27"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb84-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>()</span>
<span id="cb84-28"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb84-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb84-29"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb84-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb84-30"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb84-30" aria-hidden="true" tabindex="-1"></a>metric_results_matrix_list <span class="ot">&lt;-</span> <span class="fu">vector</span>(<span class="st">"list"</span>, <span class="fu">nrow</span>(combinations_grid))</span>
<span id="cb84-31"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb84-31" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(metric_results_matrix_list)){</span>
<span id="cb84-32"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb84-32" aria-hidden="true" tabindex="-1"></a>  metric_results_matrix_list[[i]] <span class="ot">&lt;-</span> metric_results</span>
<span id="cb84-33"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb84-33" aria-hidden="true" tabindex="-1"></a>  metric_results_matrix_list[[i]]<span class="sc">$</span>player <span class="ot">&lt;-</span> <span class="fu">rep</span>(combinations_grid<span class="sc">$</span>player[i], <span class="dv">25</span>)</span>
<span id="cb84-34"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb84-34" aria-hidden="true" tabindex="-1"></a>  metric_results_matrix_list[[i]]<span class="sc">$</span>batter_side <span class="ot">&lt;-</span> <span class="fu">rep</span>(combinations_grid<span class="sc">$</span>batter_side[i], <span class="dv">25</span>)</span>
<span id="cb84-35"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb84-35" aria-hidden="true" tabindex="-1"></a>  metric_results_matrix_list[[i]]<span class="sc">$</span>tagged_pitch_type <span class="ot">&lt;-</span> <span class="fu">rep</span>(combinations_grid<span class="sc">$</span>tagged_pitch_type[i], <span class="dv">25</span>)</span>
<span id="cb84-36"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb84-36" aria-hidden="true" tabindex="-1"></a>  metric_results_matrix_list[[i]]<span class="sc">$</span>pitch_split <span class="ot">&lt;-</span> <span class="fu">rep</span>(combinations_grid<span class="sc">$</span>pitch_split[i], <span class="dv">25</span>)</span>
<span id="cb84-37"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb84-37" aria-hidden="true" tabindex="-1"></a>  metric_results_matrix_list[[i]]<span class="sc">$</span>ops <span class="ot">&lt;-</span> <span class="fu">rep</span>(average_ncaa_hitting_metrics<span class="sc">$</span>ops, <span class="dv">25</span>)</span>
<span id="cb84-38"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb84-38" aria-hidden="true" tabindex="-1"></a>  metric_results_matrix_list[[i]]<span class="sc">$</span>bb_per_ab <span class="ot">&lt;-</span> <span class="fu">rep</span>(average_ncaa_hitting_metrics<span class="sc">$</span>bb_per_ab, <span class="dv">25</span>)</span>
<span id="cb84-39"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb84-39" aria-hidden="true" tabindex="-1"></a>  metric_results_matrix_list[[i]]<span class="sc">$</span>so_per_ab <span class="ot">&lt;-</span> <span class="fu">rep</span>(average_ncaa_hitting_metrics<span class="sc">$</span>so_per_ab, <span class="dv">25</span>)</span>
<span id="cb84-40"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb84-40" aria-hidden="true" tabindex="-1"></a>  metric_results_matrix_list[[i]] <span class="ot">&lt;-</span> metric_results_matrix_list[[i]] <span class="sc">%&gt;%</span></span>
<span id="cb84-41"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb84-41" aria-hidden="true" tabindex="-1"></a>    <span class="fu">left_join</span>(average_trackman_metrics_by_pitcher,</span>
<span id="cb84-42"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb84-42" aria-hidden="true" tabindex="-1"></a>              <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"player"</span>,</span>
<span id="cb84-43"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb84-43" aria-hidden="true" tabindex="-1"></a>                     <span class="st">"batter_side"</span>,</span>
<span id="cb84-44"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb84-44" aria-hidden="true" tabindex="-1"></a>                     <span class="st">"tagged_pitch_type"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb84-45"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb84-45" aria-hidden="true" tabindex="-1"></a>    <span class="fu">left_join</span>(last_pitching_appearance_pregame,</span>
<span id="cb84-46"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb84-46" aria-hidden="true" tabindex="-1"></a>              <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"player"</span>,</span>
<span id="cb84-47"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb84-47" aria-hidden="true" tabindex="-1"></a>                     <span class="st">"batter_side"</span>,</span>
<span id="cb84-48"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb84-48" aria-hidden="true" tabindex="-1"></a>                     <span class="st">"tagged_pitch_type"</span>))</span>
<span id="cb84-49"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb84-49" aria-hidden="true" tabindex="-1"></a>  metric_results_matrix_list[[i]]<span class="sc">$</span>model_number <span class="ot">&lt;-</span> <span class="fu">paste</span>(<span class="st">"model_"</span>, i)</span>
<span id="cb84-50"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb84-50" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb84-51"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb84-51" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb84-52"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb84-52" aria-hidden="true" tabindex="-1"></a>bounded_results_matrix <span class="ot">&lt;-</span> metric_results_matrix_list <span class="sc">%&gt;%</span></span>
<span id="cb84-53"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb84-53" aria-hidden="true" tabindex="-1"></a>  <span class="fu">bind_rows</span>() <span class="sc">%&gt;%</span></span>
<span id="cb84-54"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb84-54" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">25</span>, as.character)) <span class="sc">%&gt;%</span></span>
<span id="cb84-55"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb84-55" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">25</span>, as.integer))</span>
<span id="cb84-56"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb84-56" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb84-57"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb84-57" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb84-58"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb84-58" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(bounded_results_matrix, <span class="dv">200</span>)</span></code></pre></div>
<pre><code>## # A tibble: 200 x 52
##    postpitch_1 postpitch_2 postpitch_3 postpitch_4 postpitch_5 postpitch_6
##          &lt;int&gt;       &lt;int&gt;       &lt;int&gt;       &lt;int&gt;       &lt;int&gt;       &lt;int&gt;
##  1           1           0           0           0           0           0
##  2           0           1           0           0           0           0
##  3           0           0           1           0           0           0
##  4           0           0           0           1           0           0
##  5           0           0           0           0           1           0
##  6           0           0           0           0           0           1
##  7           0           0           0           0           0           0
##  8           0           0           0           0           0           0
##  9           0           0           0           0           0           0
## 10           0           0           0           0           0           0
## # ... with 190 more rows, and 46 more variables: postpitch_7 &lt;int&gt;,
## #   postpitch_8 &lt;int&gt;, postpitch_9 &lt;int&gt;, postpitch_10 &lt;int&gt;,
## #   postpitch_11 &lt;int&gt;, postpitch_12 &lt;int&gt;, postpitch_13 &lt;int&gt;,
## #   postpitch_14 &lt;int&gt;, postpitch_15 &lt;int&gt;, postpitch_16 &lt;int&gt;,
## #   postpitch_17 &lt;int&gt;, postpitch_18 &lt;int&gt;, postpitch_19 &lt;int&gt;,
## #   postpitch_20 &lt;int&gt;, postpitch_21 &lt;int&gt;, postpitch_22 &lt;int&gt;,
## #   postpitch_23 &lt;int&gt;, postpitch_24 &lt;int&gt;, postpitch_25 &lt;int&gt;, ...</code></pre>
<div class="sourceCode" id="cb86"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb86-1"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb86-1" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(bounded_results_matrix)</span></code></pre></div>
<pre><code>## [1] 1450   52</code></pre>
<p>Here, we would expand the predictions by individual game situations and their respective WPA / EPA implications (pitch count, inning, pitch number in the outing, number of base runners, runner positions, pitch number in the at bat). However, for the sake of simplicity in this model, we will move forward will reducing the variable list in the test observations to those necessary for model predictions. We will also ensure that both the training set and “test” predictions set possess the same variable names and types:</p>
<div class="sourceCode" id="cb88"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb88-1"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb88-1" aria-hidden="true" tabindex="-1"></a>final_metric_vars_list <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fu">colnames</span>(bounded_results_matrix), <span class="st">"postpitch"</span>, <span class="st">"zone_diff"</span>, <span class="st">"pitch_call"</span>, <span class="st">"play_result"</span>)</span>
<span id="cb88-2"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb88-2" aria-hidden="true" tabindex="-1"></a>final_metric_vars_list <span class="ot">&lt;-</span> final_metric_vars_list[final_metric_vars_list <span class="sc">!=</span> <span class="fu">c</span>(<span class="st">"pitch_split"</span>, <span class="st">"model_number"</span>)]</span>
<span id="cb88-3"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb88-3" aria-hidden="true" tabindex="-1"></a>final_metric_vars_list</span></code></pre></div>
<pre><code>##  [1] "postpitch_1"        "postpitch_2"        "postpitch_3"       
##  [4] "postpitch_4"        "postpitch_5"        "postpitch_6"       
##  [7] "postpitch_7"        "postpitch_8"        "postpitch_9"       
## [10] "postpitch_10"       "postpitch_11"       "postpitch_12"      
## [13] "postpitch_13"       "postpitch_14"       "postpitch_15"      
## [16] "postpitch_16"       "postpitch_17"       "postpitch_18"      
## [19] "postpitch_19"       "postpitch_20"       "postpitch_21"      
## [22] "postpitch_22"       "postpitch_23"       "postpitch_24"      
## [25] "postpitch_25"       "player"             "batter_side"       
## [28] "tagged_pitch_type"  "ops"                "bb_per_ab"         
## [31] "so_per_ab"          "rel_speed"          "vert_rel_angle"    
## [34] "horz_rel_angle"     "spin_rate"          "spin_axis"         
## [37] "extension"          "vert_break"         "induced_vert_break"
## [40] "horz_break"         "zone_speed"         "vert_appr_angle"   
## [43] "horz_appr_angle"    "pre_era_pitch"      "pre_b_avg_pitch"   
## [46] "fip"                "opp_ops"            "wins_saves_app"    
## [49] "k_per_ip"           "whip"               "postpitch"         
## [52] "zone_diff"          "pitch_call"         "play_result"</code></pre>
<div class="sourceCode" id="cb90"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb90-1"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb90-1" aria-hidden="true" tabindex="-1"></a>final_metric_model_data <span class="ot">&lt;-</span> metrics_reduced_model_data <span class="sc">%&gt;%</span></span>
<span id="cb90-2"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb90-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">postpitch =</span> <span class="fu">as.factor</span>(postpitch)) <span class="sc">%&gt;%</span></span>
<span id="cb90-3"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb90-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">dummy_cols</span>(<span class="at">select_columns =</span> <span class="st">"postpitch"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb90-4"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb90-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(final_metric_vars_list)</span></code></pre></div>
<pre><code>## Note: Using an external vector in selections is ambiguous.
## i Use `all_of(final_metric_vars_list)` instead of `final_metric_vars_list` to silence this message.
## i See &lt;https://tidyselect.r-lib.org/reference/faq-external-vector.html&gt;.
## This message is displayed once per session.</code></pre>
<div class="sourceCode" id="cb92"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb92-1"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb92-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(final_metric_model_data)</span></code></pre></div>
<pre><code>## # A tibble: 6 x 54
##   postpitch_1 postpitch_2 postpitch_3 postpitch_4 postpitch_5 postpitch_6
##         &lt;int&gt;       &lt;int&gt;       &lt;int&gt;       &lt;int&gt;       &lt;int&gt;       &lt;int&gt;
## 1           0           0           0           0           0           0
## 2           0           0           0           0           0           1
## 3           0           0           0           0           0           0
## 4           0           0           0           0           0           0
## 5           0           0           0           0           0           0
## 6           0           0           0           0           0           0
## # ... with 48 more variables: postpitch_7 &lt;int&gt;, postpitch_8 &lt;int&gt;,
## #   postpitch_9 &lt;int&gt;, postpitch_10 &lt;int&gt;, postpitch_11 &lt;int&gt;,
## #   postpitch_12 &lt;int&gt;, postpitch_13 &lt;int&gt;, postpitch_14 &lt;int&gt;,
## #   postpitch_15 &lt;int&gt;, postpitch_16 &lt;int&gt;, postpitch_17 &lt;int&gt;,
## #   postpitch_18 &lt;int&gt;, postpitch_19 &lt;int&gt;, postpitch_20 &lt;int&gt;,
## #   postpitch_21 &lt;int&gt;, postpitch_22 &lt;int&gt;, postpitch_23 &lt;int&gt;,
## #   postpitch_24 &lt;int&gt;, postpitch_25 &lt;int&gt;, player &lt;chr&gt;, ...</code></pre>
<p>Next, I will create lists of ball zones and strike zones for use in the two models’ applications:</p>
<div class="sourceCode" id="cb94"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb94-1"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb94-1" aria-hidden="true" tabindex="-1"></a>ball_zone_list <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">6</span>, <span class="dv">10</span><span class="sc">:</span><span class="dv">11</span>, <span class="dv">15</span><span class="sc">:</span><span class="dv">16</span>, <span class="dv">20</span><span class="sc">:</span><span class="dv">25</span>)</span>
<span id="cb94-2"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb94-2" aria-hidden="true" tabindex="-1"></a>strike_zone_list <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">7</span><span class="sc">:</span><span class="dv">9</span>, <span class="dv">12</span><span class="sc">:</span><span class="dv">14</span>, <span class="dv">17</span><span class="sc">:</span><span class="dv">19</span>)</span></code></pre></div>
<p>I will store the total zones per player in a data frame in anticipation of the final metric calculation:</p>
<div class="sourceCode" id="cb95"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb95-1"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb95-1" aria-hidden="true" tabindex="-1"></a>total_zones_by_pitcher <span class="ot">&lt;-</span> metrics_reduced_model_data <span class="sc">%&gt;%</span></span>
<span id="cb95-2"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb95-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(team <span class="sc">==</span> <span class="st">"Notre Dame"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb95-3"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb95-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(player) <span class="sc">%&gt;%</span></span>
<span id="cb95-4"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb95-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">total_zone_diff =</span> <span class="fu">sum</span>(zone_diff, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span></code></pre></div>
<p>I will divide final metric model data into pitches missed in ball zones and pitches missed in strike zones:</p>
<div class="sourceCode" id="cb96"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb96-1"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb96-1" aria-hidden="true" tabindex="-1"></a>final_metric_ball_data <span class="ot">&lt;-</span> final_metric_model_data <span class="sc">%&gt;%</span></span>
<span id="cb96-2"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb96-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">ball_called =</span> <span class="fu">if_else</span>(pitch_call <span class="sc">==</span> <span class="st">"BallCalled"</span>, <span class="dv">1</span>, <span class="dv">0</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb96-3"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb96-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span><span class="fu">c</span>(<span class="st">"pitch_call"</span>, <span class="st">"play_result"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb96-4"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb96-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(zone_diff <span class="sc">&gt;</span> <span class="dv">0</span> <span class="sc">&amp;</span> postpitch <span class="sc">%in%</span> ball_zone_list) <span class="sc">%&gt;%</span></span>
<span id="cb96-5"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb96-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span><span class="fu">c</span>(<span class="st">"zone_diff"</span>, <span class="st">"postpitch"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb96-6"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb96-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">ball_called =</span> <span class="fu">as.factor</span>(ball_called))</span>
<span id="cb96-7"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb96-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb96-8"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb96-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb96-9"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb96-9" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(final_metric_ball_data)</span></code></pre></div>
<pre><code>## # A tibble: 6 x 51
##   postpitch_1 postpitch_2 postpitch_3 postpitch_4 postpitch_5 postpitch_6
##         &lt;int&gt;       &lt;int&gt;       &lt;int&gt;       &lt;int&gt;       &lt;int&gt;       &lt;int&gt;
## 1           0           0           0           0           0           1
## 2           0           0           0           0           0           0
## 3           0           1           0           0           0           0
## 4           0           0           0           0           0           0
## 5           0           0           0           0           0           0
## 6           0           0           0           0           0           0
## # ... with 45 more variables: postpitch_7 &lt;int&gt;, postpitch_8 &lt;int&gt;,
## #   postpitch_9 &lt;int&gt;, postpitch_10 &lt;int&gt;, postpitch_11 &lt;int&gt;,
## #   postpitch_12 &lt;int&gt;, postpitch_13 &lt;int&gt;, postpitch_14 &lt;int&gt;,
## #   postpitch_15 &lt;int&gt;, postpitch_16 &lt;int&gt;, postpitch_17 &lt;int&gt;,
## #   postpitch_18 &lt;int&gt;, postpitch_19 &lt;int&gt;, postpitch_20 &lt;int&gt;,
## #   postpitch_21 &lt;int&gt;, postpitch_22 &lt;int&gt;, postpitch_23 &lt;int&gt;,
## #   postpitch_24 &lt;int&gt;, postpitch_25 &lt;int&gt;, player &lt;chr&gt;, ...</code></pre>
<div class="sourceCode" id="cb98"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb98-1"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb98-1" aria-hidden="true" tabindex="-1"></a><span class="fu">unique</span>(final_metric_model_data<span class="sc">$</span>pitch_call)</span></code></pre></div>
<pre><code>## [1] "InPlay"         "BallCalled"     "StrikeCalled"   "StrikeSwinging"
## [5] "FoulBall"       "HitByPitch"     "BallinDirt"</code></pre>
<div class="sourceCode" id="cb100"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb100-1"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb100-1" aria-hidden="true" tabindex="-1"></a>final_metric_strike_data <span class="ot">&lt;-</span> final_metric_model_data <span class="sc">%&gt;%</span></span>
<span id="cb100-2"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb100-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">strike_hit =</span> <span class="fu">if_else</span>(pitch_call <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"FoulBall"</span>, <span class="st">"InPlay"</span>), <span class="dv">1</span>, <span class="dv">0</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb100-3"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb100-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span><span class="fu">c</span>(<span class="st">"pitch_call"</span>, <span class="st">"play_result"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb100-4"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb100-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(zone_diff <span class="sc">&gt;</span> <span class="dv">0</span> <span class="sc">&amp;</span> postpitch <span class="sc">%in%</span> strike_zone_list) <span class="sc">%&gt;%</span></span>
<span id="cb100-5"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb100-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span><span class="fu">c</span>(<span class="st">"zone_diff"</span>, <span class="st">"postpitch"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb100-6"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb100-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">strike_hit =</span> <span class="fu">as.factor</span>(strike_hit))</span>
<span id="cb100-7"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb100-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-8"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb100-8" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(final_metric_strike_data, <span class="dv">10</span>)</span></code></pre></div>
<pre><code>## # A tibble: 10 x 51
##    postpitch_1 postpitch_2 postpitch_3 postpitch_4 postpitch_5 postpitch_6
##          &lt;int&gt;       &lt;int&gt;       &lt;int&gt;       &lt;int&gt;       &lt;int&gt;       &lt;int&gt;
##  1           0           0           0           0           0           0
##  2           0           0           0           0           0           0
##  3           0           0           0           0           0           0
##  4           0           0           0           0           0           0
##  5           0           0           0           0           0           0
##  6           0           0           0           0           0           0
##  7           0           0           0           0           0           0
##  8           0           0           0           0           0           0
##  9           0           0           0           0           0           0
## 10           0           0           0           0           0           0
## # ... with 45 more variables: postpitch_7 &lt;int&gt;, postpitch_8 &lt;int&gt;,
## #   postpitch_9 &lt;int&gt;, postpitch_10 &lt;int&gt;, postpitch_11 &lt;int&gt;,
## #   postpitch_12 &lt;int&gt;, postpitch_13 &lt;int&gt;, postpitch_14 &lt;int&gt;,
## #   postpitch_15 &lt;int&gt;, postpitch_16 &lt;int&gt;, postpitch_17 &lt;int&gt;,
## #   postpitch_18 &lt;int&gt;, postpitch_19 &lt;int&gt;, postpitch_20 &lt;int&gt;,
## #   postpitch_21 &lt;int&gt;, postpitch_22 &lt;int&gt;, postpitch_23 &lt;int&gt;,
## #   postpitch_24 &lt;int&gt;, postpitch_25 &lt;int&gt;, player &lt;chr&gt;, ...</code></pre>
<div class="sourceCode" id="cb102"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb102-1"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb102-1" aria-hidden="true" tabindex="-1"></a>bounded_results_matrix<span class="sc">$</span>preds <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(<span class="fu">rep</span>(<span class="cn">NA</span>, <span class="fu">nrow</span>(bounded_results_matrix)))</span>
<span id="cb102-2"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb102-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb102-3"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb102-3" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(bounded_results_matrix, <span class="dv">10</span>)</span></code></pre></div>
<pre><code>## # A tibble: 10 x 53
##    postpitch_1 postpitch_2 postpitch_3 postpitch_4 postpitch_5 postpitch_6
##          &lt;int&gt;       &lt;int&gt;       &lt;int&gt;       &lt;int&gt;       &lt;int&gt;       &lt;int&gt;
##  1           1           0           0           0           0           0
##  2           0           1           0           0           0           0
##  3           0           0           1           0           0           0
##  4           0           0           0           1           0           0
##  5           0           0           0           0           1           0
##  6           0           0           0           0           0           1
##  7           0           0           0           0           0           0
##  8           0           0           0           0           0           0
##  9           0           0           0           0           0           0
## 10           0           0           0           0           0           0
## # ... with 47 more variables: postpitch_7 &lt;int&gt;, postpitch_8 &lt;int&gt;,
## #   postpitch_9 &lt;int&gt;, postpitch_10 &lt;int&gt;, postpitch_11 &lt;int&gt;,
## #   postpitch_12 &lt;int&gt;, postpitch_13 &lt;int&gt;, postpitch_14 &lt;int&gt;,
## #   postpitch_15 &lt;int&gt;, postpitch_16 &lt;int&gt;, postpitch_17 &lt;int&gt;,
## #   postpitch_18 &lt;int&gt;, postpitch_19 &lt;int&gt;, postpitch_20 &lt;int&gt;,
## #   postpitch_21 &lt;int&gt;, postpitch_22 &lt;int&gt;, postpitch_23 &lt;int&gt;,
## #   postpitch_24 &lt;int&gt;, postpitch_25 &lt;int&gt;, player &lt;chr&gt;, ...</code></pre>
<p>As mentioned, the variables in the testing grid above must match the variable types and names of the variables in the training set for XGBoost. Please confirm before continuing.</p>
<h1 id="model-building">Model Building</h1>
<h2 id="first-potential-model-xgboost">First Potential Model: XGBoost</h2>
<p>If XGBoost is your preferred modeling technique within CZR, please conduct the following small-scale test, evaluate the results, and replace random forest with XGBoost in the iterative loop for CZR below</p>
<p>To begin, I will build two models to test the structure of the iterative loop:</p>
<h3 id="models-1-and-2-conditions-player--john-michael-bertrand-pitch-type--fastball-batter--right">Models 1 and 2 Conditions: Player = John Michael Bertrand, Pitch Type = Fastball, Batter = Right</h3>
<p>Model 1: John Michael Bertrand, Fastball, RHH, Strike Zones</p>
<div class="sourceCode" id="cb104"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb104-1"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb104-1" aria-hidden="true" tabindex="-1"></a>bertrand_model1_data <span class="ot">&lt;-</span> final_metric_strike_data <span class="sc">%&gt;%</span></span>
<span id="cb104-2"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb104-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(player <span class="sc">==</span> <span class="st">"John Michael Bertrand"</span>,</span>
<span id="cb104-3"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb104-3" aria-hidden="true" tabindex="-1"></a>         batter_side <span class="sc">==</span> <span class="st">"Right"</span>,</span>
<span id="cb104-4"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb104-4" aria-hidden="true" tabindex="-1"></a>         tagged_pitch_type <span class="sc">==</span> <span class="st">"Fastball"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb104-5"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb104-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span><span class="fu">c</span>(<span class="dv">26</span><span class="sc">:</span><span class="dv">28</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb104-6"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb104-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">na_mean</span>()</span>
<span id="cb104-7"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb104-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb104-8"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb104-8" aria-hidden="true" tabindex="-1"></a><span class="fu">rownames</span>(bertrand_model1_data) <span class="ot">&lt;-</span> <span class="cn">NULL</span></span>
<span id="cb104-9"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb104-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb104-10"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb104-10" aria-hidden="true" tabindex="-1"></a>bertrand_model1_data</span></code></pre></div>
<pre><code>## # A tibble: 34 x 48
##    postpitch_1 postpitch_2 postpitch_3 postpitch_4 postpitch_5 postpitch_6
##          &lt;int&gt;       &lt;int&gt;       &lt;int&gt;       &lt;int&gt;       &lt;int&gt;       &lt;int&gt;
##  1           0           0           0           0           0           0
##  2           0           0           0           0           0           0
##  3           0           0           0           0           0           0
##  4           0           0           0           0           0           0
##  5           0           0           0           0           0           0
##  6           0           0           0           0           0           0
##  7           0           0           0           0           0           0
##  8           0           0           0           0           0           0
##  9           0           0           0           0           0           0
## 10           0           0           0           0           0           0
## # ... with 24 more rows, and 42 more variables: postpitch_7 &lt;int&gt;,
## #   postpitch_8 &lt;int&gt;, postpitch_9 &lt;int&gt;, postpitch_10 &lt;int&gt;,
## #   postpitch_11 &lt;int&gt;, postpitch_12 &lt;int&gt;, postpitch_13 &lt;int&gt;,
## #   postpitch_14 &lt;int&gt;, postpitch_15 &lt;int&gt;, postpitch_16 &lt;int&gt;,
## #   postpitch_17 &lt;int&gt;, postpitch_18 &lt;int&gt;, postpitch_19 &lt;int&gt;,
## #   postpitch_20 &lt;int&gt;, postpitch_21 &lt;int&gt;, postpitch_22 &lt;int&gt;,
## #   postpitch_23 &lt;int&gt;, postpitch_24 &lt;int&gt;, postpitch_25 &lt;int&gt;, ops &lt;dbl&gt;, ...</code></pre>
<div class="sourceCode" id="cb106"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb106-1"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb106-1" aria-hidden="true" tabindex="-1"></a>scale_weight <span class="ot">=</span> <span class="fu">sum</span>(bertrand_model1_data<span class="sc">$</span>strike_hit <span class="sc">==</span> <span class="dv">0</span>) <span class="sc">/</span> <span class="fu">sum</span>(bertrand_model1_data<span class="sc">$</span>strike_hit <span class="sc">==</span> <span class="dv">1</span>)</span></code></pre></div>
<p>Build the training set, build the model, and evaluate the predictions on the testing set (where eligible):</p>
<div class="sourceCode" id="cb107"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb107-1"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb107-1" aria-hidden="true" tabindex="-1"></a>dtrain <span class="ot">&lt;-</span> <span class="fu">xgb.DMatrix</span>(<span class="at">data =</span> <span class="fu">as.matrix</span>(bertrand_model1_data[,<span class="sc">-</span><span class="dv">48</span>]), </span>
<span id="cb107-2"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb107-2" aria-hidden="true" tabindex="-1"></a>                      <span class="at">label =</span> <span class="fu">as.numeric</span>(bertrand_model1_data<span class="sc">$</span>strike_hit) <span class="sc">-</span><span class="dv">1</span>)</span>
<span id="cb107-3"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb107-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-4"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb107-4" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">574</span>)</span>
<span id="cb107-5"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb107-5" aria-hidden="true" tabindex="-1"></a>bst_bertrand_1 <span class="ot">&lt;-</span> <span class="fu">xgboost</span>(<span class="at">data =</span> dtrain, </span>
<span id="cb107-6"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb107-6" aria-hidden="true" tabindex="-1"></a>               <span class="at">nrounds =</span> <span class="dv">100</span>,</span>
<span id="cb107-7"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb107-7" aria-hidden="true" tabindex="-1"></a>               <span class="at">verbose =</span> <span class="dv">1</span>, </span>
<span id="cb107-8"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb107-8" aria-hidden="true" tabindex="-1"></a>               <span class="at">nthread =</span> <span class="dv">1</span>,</span>
<span id="cb107-9"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb107-9" aria-hidden="true" tabindex="-1"></a>               <span class="at">print_every_n =</span> <span class="dv">20</span>, </span>
<span id="cb107-10"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb107-10" aria-hidden="true" tabindex="-1"></a>               <span class="at">objective =</span> <span class="st">"binary:logistic"</span>, </span>
<span id="cb107-11"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb107-11" aria-hidden="true" tabindex="-1"></a>               <span class="at">eval_metric =</span> <span class="st">"auc"</span>,</span>
<span id="cb107-12"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb107-12" aria-hidden="true" tabindex="-1"></a>               <span class="at">eval_metric =</span> <span class="st">"error"</span>,</span>
<span id="cb107-13"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb107-13" aria-hidden="true" tabindex="-1"></a>               <span class="at">scale_pos_weight =</span> scale_weight)</span></code></pre></div>
<pre><code>## [1]  train-auc:0.875458  train-error:0.235294 
## [21] train-auc:1.000000  train-error:0.029412 
## [41] train-auc:1.000000  train-error:0.000000 
## [61] train-auc:1.000000  train-error:0.000000 
## [81] train-auc:1.000000  train-error:0.000000 
## [100]    train-auc:1.000000  train-error:0.000000</code></pre>
<p>Extract the variable importance to verify if XGBoost accounts for pitching zones as important factors in the model (if not, random forest may be a better fit in light of the data availability):</p>
<div class="sourceCode" id="cb109"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb109-1"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb109-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Extract importance</span></span>
<span id="cb109-2"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb109-2" aria-hidden="true" tabindex="-1"></a>imp_mat <span class="ot">&lt;-</span> <span class="fu">xgb.importance</span>(<span class="at">model =</span> bst_bertrand_1)</span>
<span id="cb109-3"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb109-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot importance (top 10 variables)</span></span>
<span id="cb109-4"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb109-4" aria-hidden="true" tabindex="-1"></a><span class="fu">xgb.plot.importance</span>(imp_mat, </span>
<span id="cb109-5"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb109-5" aria-hidden="true" tabindex="-1"></a>                    <span class="at">top_n =</span> <span class="dv">10</span>, </span>
<span id="cb109-6"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb109-6" aria-hidden="true" tabindex="-1"></a>                    <span class="at">main =</span> <span class="st">"John Michael Bertrand, Model 1: Variable Importance"</span>)</span></code></pre></div>
<p><img src="data:image/png;base64,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"><!-- --></p>
<p>Filter for the pertinent, eligible testing rows for Model 1’s conditions:</p>
<div class="sourceCode" id="cb110"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb110-1"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb110-1" aria-hidden="true" tabindex="-1"></a>test_row <span class="ot">&lt;-</span> bounded_results_matrix <span class="sc">%&gt;%</span></span>
<span id="cb110-2"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb110-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(player <span class="sc">==</span> <span class="st">"John Michael Bertrand"</span>,</span>
<span id="cb110-3"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb110-3" aria-hidden="true" tabindex="-1"></a>         batter_side <span class="sc">==</span> <span class="st">"Right"</span>,</span>
<span id="cb110-4"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb110-4" aria-hidden="true" tabindex="-1"></a>         tagged_pitch_type <span class="sc">==</span> <span class="st">"Fastball"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb110-5"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb110-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span><span class="fu">c</span>(<span class="st">"preds"</span>, <span class="st">"player"</span>, <span class="st">"batter_side"</span>, <span class="st">"tagged_pitch_type"</span>, <span class="st">"model_number"</span>, <span class="st">"pitch_split"</span>))  <span class="sc">%&gt;%</span></span>
<span id="cb110-6"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb110-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">row_number</span>() <span class="sc">%in%</span> strike_zone_list)</span>
<span id="cb110-7"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb110-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb110-8"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb110-8" aria-hidden="true" tabindex="-1"></a>test_row<span class="sc">$</span>strike_hit <span class="ot">&lt;-</span> <span class="fu">as.factor</span>(<span class="dv">0</span>)</span>
<span id="cb110-9"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb110-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb110-10"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb110-10" aria-hidden="true" tabindex="-1"></a>test_row</span></code></pre></div>
<pre><code>## # A tibble: 9 x 48
##   postpitch_1 postpitch_2 postpitch_3 postpitch_4 postpitch_5 postpitch_6
##         &lt;int&gt;       &lt;int&gt;       &lt;int&gt;       &lt;int&gt;       &lt;int&gt;       &lt;int&gt;
## 1           0           0           0           0           0           0
## 2           0           0           0           0           0           0
## 3           0           0           0           0           0           0
## 4           0           0           0           0           0           0
## 5           0           0           0           0           0           0
## 6           0           0           0           0           0           0
## 7           0           0           0           0           0           0
## 8           0           0           0           0           0           0
## 9           0           0           0           0           0           0
## # ... with 42 more variables: postpitch_7 &lt;int&gt;, postpitch_8 &lt;int&gt;,
## #   postpitch_9 &lt;int&gt;, postpitch_10 &lt;int&gt;, postpitch_11 &lt;int&gt;,
## #   postpitch_12 &lt;int&gt;, postpitch_13 &lt;int&gt;, postpitch_14 &lt;int&gt;,
## #   postpitch_15 &lt;int&gt;, postpitch_16 &lt;int&gt;, postpitch_17 &lt;int&gt;,
## #   postpitch_18 &lt;int&gt;, postpitch_19 &lt;int&gt;, postpitch_20 &lt;int&gt;,
## #   postpitch_21 &lt;int&gt;, postpitch_22 &lt;int&gt;, postpitch_23 &lt;int&gt;,
## #   postpitch_24 &lt;int&gt;, postpitch_25 &lt;int&gt;, ops &lt;dbl&gt;, bb_per_ab &lt;dbl&gt;, ...</code></pre>
<p>Apply the predictions (9 here):</p>
<div class="sourceCode" id="cb112"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb112-1"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb112-1" aria-hidden="true" tabindex="-1"></a>dtest <span class="ot">&lt;-</span> <span class="fu">xgb.DMatrix</span>(<span class="at">data =</span> <span class="fu">as.matrix</span>(test_row[,<span class="sc">-</span><span class="dv">48</span>]), </span>
<span id="cb112-2"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb112-2" aria-hidden="true" tabindex="-1"></a>                      <span class="at">label =</span> <span class="fu">as.numeric</span>(test_row<span class="sc">$</span>strike_hit) <span class="sc">-</span><span class="dv">1</span>)</span>
<span id="cb112-3"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb112-3" aria-hidden="true" tabindex="-1"></a>xgb_preds_1 <span class="ot">&lt;-</span> <span class="fu">predict</span>(bst_bertrand_1, dtest)</span>
<span id="cb112-4"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb112-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb112-5"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb112-5" aria-hidden="true" tabindex="-1"></a>xgb_preds_1</span></code></pre></div>
<pre><code>## [1] 0.9245772 0.9245772 0.9245772 0.9245772 0.9245772 0.9245772 0.9245772
## [8] 0.9245772 0.9245772</code></pre>
<p>Model 2: Bertrand, Fastball, RHH, Ball Zones</p>
<p>I will perform the same procedure on all pitches thrown in the ball zones that match the Model 2 conditions:</p>
<div class="sourceCode" id="cb114"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb114-1"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb114-1" aria-hidden="true" tabindex="-1"></a>bertrand_model2_data <span class="ot">&lt;-</span> final_metric_ball_data <span class="sc">%&gt;%</span></span>
<span id="cb114-2"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb114-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(player <span class="sc">==</span> <span class="st">"John Michael Bertrand"</span>,</span>
<span id="cb114-3"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb114-3" aria-hidden="true" tabindex="-1"></a>         batter_side <span class="sc">==</span> <span class="st">"Right"</span>,</span>
<span id="cb114-4"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb114-4" aria-hidden="true" tabindex="-1"></a>         tagged_pitch_type <span class="sc">==</span> <span class="st">"Fastball"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb114-5"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb114-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span><span class="fu">c</span>(<span class="dv">26</span><span class="sc">:</span><span class="dv">28</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb114-6"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb114-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">na_mean</span>()</span>
<span id="cb114-7"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb114-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb114-8"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb114-8" aria-hidden="true" tabindex="-1"></a><span class="fu">rownames</span>(bertrand_model2_data) <span class="ot">&lt;-</span> <span class="cn">NULL</span></span>
<span id="cb114-9"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb114-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb114-10"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb114-10" aria-hidden="true" tabindex="-1"></a>bertrand_model2_data</span></code></pre></div>
<pre><code>## # A tibble: 30 x 48
##    postpitch_1 postpitch_2 postpitch_3 postpitch_4 postpitch_5 postpitch_6
##          &lt;int&gt;       &lt;int&gt;       &lt;int&gt;       &lt;int&gt;       &lt;int&gt;       &lt;int&gt;
##  1           0           0           0           0           0           0
##  2           0           0           0           0           0           0
##  3           0           0           0           0           1           0
##  4           0           1           0           0           0           0
##  5           0           0           0           0           0           1
##  6           0           0           0           0           0           0
##  7           0           0           0           0           0           0
##  8           0           0           0           0           0           0
##  9           0           0           0           0           0           0
## 10           0           0           0           0           0           0
## # ... with 20 more rows, and 42 more variables: postpitch_7 &lt;int&gt;,
## #   postpitch_8 &lt;int&gt;, postpitch_9 &lt;int&gt;, postpitch_10 &lt;int&gt;,
## #   postpitch_11 &lt;int&gt;, postpitch_12 &lt;int&gt;, postpitch_13 &lt;int&gt;,
## #   postpitch_14 &lt;int&gt;, postpitch_15 &lt;int&gt;, postpitch_16 &lt;int&gt;,
## #   postpitch_17 &lt;int&gt;, postpitch_18 &lt;int&gt;, postpitch_19 &lt;int&gt;,
## #   postpitch_20 &lt;int&gt;, postpitch_21 &lt;int&gt;, postpitch_22 &lt;int&gt;,
## #   postpitch_23 &lt;int&gt;, postpitch_24 &lt;int&gt;, postpitch_25 &lt;int&gt;, ops &lt;dbl&gt;, ...</code></pre>
<div class="sourceCode" id="cb116"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb116-1"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb116-1" aria-hidden="true" tabindex="-1"></a>scale_weight <span class="ot">=</span> <span class="fu">sum</span>(bertrand_model2_data<span class="sc">$</span>ball_called <span class="sc">==</span> <span class="dv">0</span>) <span class="sc">/</span> <span class="fu">sum</span>(bertrand_model2_data<span class="sc">$</span>ball_called <span class="sc">==</span> <span class="dv">1</span>)</span></code></pre></div>
<p>Form the training set and build the ball called model:</p>
<div class="sourceCode" id="cb117"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb117-1"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb117-1" aria-hidden="true" tabindex="-1"></a>dtrain <span class="ot">&lt;-</span> <span class="fu">xgb.DMatrix</span>(<span class="at">data =</span> <span class="fu">as.matrix</span>(bertrand_model2_data[,<span class="sc">-</span><span class="dv">48</span>]), </span>
<span id="cb117-2"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb117-2" aria-hidden="true" tabindex="-1"></a>                      <span class="at">label =</span> <span class="fu">as.numeric</span>(bertrand_model2_data<span class="sc">$</span>ball_called) <span class="sc">-</span><span class="dv">1</span>)</span>
<span id="cb117-3"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb117-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb117-4"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb117-4" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">574</span>)</span>
<span id="cb117-5"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb117-5" aria-hidden="true" tabindex="-1"></a>bst_bertrand_2 <span class="ot">&lt;-</span> <span class="fu">xgboost</span>(<span class="at">data =</span> dtrain, </span>
<span id="cb117-6"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb117-6" aria-hidden="true" tabindex="-1"></a>               <span class="at">nrounds =</span> <span class="dv">100</span>,</span>
<span id="cb117-7"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb117-7" aria-hidden="true" tabindex="-1"></a>               <span class="at">verbose =</span> <span class="dv">1</span>, </span>
<span id="cb117-8"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb117-8" aria-hidden="true" tabindex="-1"></a>               <span class="at">nthread =</span> <span class="dv">1</span>,</span>
<span id="cb117-9"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb117-9" aria-hidden="true" tabindex="-1"></a>               <span class="at">print_every_n =</span> <span class="dv">20</span>, </span>
<span id="cb117-10"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb117-10" aria-hidden="true" tabindex="-1"></a>               <span class="at">objective =</span> <span class="st">"binary:logistic"</span>, </span>
<span id="cb117-11"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb117-11" aria-hidden="true" tabindex="-1"></a>               <span class="at">eval_metric =</span> <span class="st">"auc"</span>,</span>
<span id="cb117-12"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb117-12" aria-hidden="true" tabindex="-1"></a>               <span class="at">eval_metric =</span> <span class="st">"error"</span>,</span>
<span id="cb117-13"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb117-13" aria-hidden="true" tabindex="-1"></a>               <span class="at">scale_pos_weight =</span> scale_weight)</span></code></pre></div>
<pre><code>## [1]  train-auc:0.815000  train-error:0.333333 
## [21] train-auc:1.000000  train-error:0.033333 
## [41] train-auc:1.000000  train-error:0.000000 
## [61] train-auc:1.000000  train-error:0.000000 
## [81] train-auc:1.000000  train-error:0.000000 
## [100]    train-auc:1.000000  train-error:0.000000</code></pre>
<p>As above, verify that certain zones possess an impact on the model (if not, opt for random forest modeling to ensure zone impact):</p>
<div class="sourceCode" id="cb119"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb119-1"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb119-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Extract importance</span></span>
<span id="cb119-2"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb119-2" aria-hidden="true" tabindex="-1"></a>imp_mat_2 <span class="ot">&lt;-</span> <span class="fu">xgb.importance</span>(<span class="at">model =</span> bst_bertrand_2)</span>
<span id="cb119-3"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb119-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot importance (top 10 variables)</span></span>
<span id="cb119-4"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb119-4" aria-hidden="true" tabindex="-1"></a><span class="fu">xgb.plot.importance</span>(imp_mat_2, </span>
<span id="cb119-5"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb119-5" aria-hidden="true" tabindex="-1"></a>                    <span class="at">top_n =</span> <span class="dv">10</span>, </span>
<span id="cb119-6"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb119-6" aria-hidden="true" tabindex="-1"></a>                    <span class="at">main =</span> <span class="st">"John Michael Bertrand, Model 2: Variable Importance"</span>)</span></code></pre></div>
<p><img src="data:image/png;base64,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"><!-- --></p>
<p>Detect the pertinent, eligible testing rows, and apply the testing rows on the model for the sake of prediction scores:</p>
<div class="sourceCode" id="cb120"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb120-1"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb120-1" aria-hidden="true" tabindex="-1"></a>test_row_2 <span class="ot">&lt;-</span> bounded_results_matrix <span class="sc">%&gt;%</span></span>
<span id="cb120-2"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb120-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(player <span class="sc">==</span> <span class="st">"John Michael Bertrand"</span>,</span>
<span id="cb120-3"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb120-3" aria-hidden="true" tabindex="-1"></a>         batter_side <span class="sc">==</span> <span class="st">"Right"</span>,</span>
<span id="cb120-4"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb120-4" aria-hidden="true" tabindex="-1"></a>         tagged_pitch_type <span class="sc">==</span> <span class="st">"Fastball"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb120-5"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb120-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">row_number</span>() <span class="sc">%in%</span> ball_zone_list) <span class="sc">%&gt;%</span></span>
<span id="cb120-6"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb120-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span><span class="fu">c</span>(<span class="st">"preds"</span>, <span class="st">"player"</span>, <span class="st">"batter_side"</span>, <span class="st">"tagged_pitch_type"</span>, <span class="st">"model_number"</span>, <span class="st">"pitch_split"</span>)) </span>
<span id="cb120-7"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb120-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb120-8"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb120-8" aria-hidden="true" tabindex="-1"></a>test_row_2<span class="sc">$</span>ball_called <span class="ot">&lt;-</span> <span class="fu">as.factor</span>(<span class="dv">0</span>)</span>
<span id="cb120-9"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb120-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb120-10"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb120-10" aria-hidden="true" tabindex="-1"></a>test_row_2</span></code></pre></div>
<pre><code>## # A tibble: 16 x 48
##    postpitch_1 postpitch_2 postpitch_3 postpitch_4 postpitch_5 postpitch_6
##          &lt;int&gt;       &lt;int&gt;       &lt;int&gt;       &lt;int&gt;       &lt;int&gt;       &lt;int&gt;
##  1           1           0           0           0           0           0
##  2           0           1           0           0           0           0
##  3           0           0           1           0           0           0
##  4           0           0           0           1           0           0
##  5           0           0           0           0           1           0
##  6           0           0           0           0           0           1
##  7           0           0           0           0           0           0
##  8           0           0           0           0           0           0
##  9           0           0           0           0           0           0
## 10           0           0           0           0           0           0
## 11           0           0           0           0           0           0
## 12           0           0           0           0           0           0
## 13           0           0           0           0           0           0
## 14           0           0           0           0           0           0
## 15           0           0           0           0           0           0
## 16           0           0           0           0           0           0
## # ... with 42 more variables: postpitch_7 &lt;int&gt;, postpitch_8 &lt;int&gt;,
## #   postpitch_9 &lt;int&gt;, postpitch_10 &lt;int&gt;, postpitch_11 &lt;int&gt;,
## #   postpitch_12 &lt;int&gt;, postpitch_13 &lt;int&gt;, postpitch_14 &lt;int&gt;,
## #   postpitch_15 &lt;int&gt;, postpitch_16 &lt;int&gt;, postpitch_17 &lt;int&gt;,
## #   postpitch_18 &lt;int&gt;, postpitch_19 &lt;int&gt;, postpitch_20 &lt;int&gt;,
## #   postpitch_21 &lt;int&gt;, postpitch_22 &lt;int&gt;, postpitch_23 &lt;int&gt;,
## #   postpitch_24 &lt;int&gt;, postpitch_25 &lt;int&gt;, ops &lt;dbl&gt;, bb_per_ab &lt;dbl&gt;, ...</code></pre>
<p>Calculate the prediction scores (16 out of 16 eligible in this case due to factorless approach in XGBoost):</p>
<div class="sourceCode" id="cb122"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb122-1"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb122-1" aria-hidden="true" tabindex="-1"></a>dtest <span class="ot">&lt;-</span> <span class="fu">xgb.DMatrix</span>(<span class="at">data =</span> <span class="fu">as.matrix</span>(test_row_2[,<span class="sc">-</span><span class="dv">48</span>]), </span>
<span id="cb122-2"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb122-2" aria-hidden="true" tabindex="-1"></a>                      <span class="at">label =</span> <span class="fu">as.numeric</span>(test_row_2<span class="sc">$</span>ball_called) <span class="sc">-</span><span class="dv">1</span>)</span>
<span id="cb122-3"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb122-3" aria-hidden="true" tabindex="-1"></a>xgb_preds_1 <span class="ot">&lt;-</span> <span class="fu">predict</span>(bst_bertrand_2, dtest)</span>
<span id="cb122-4"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb122-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb122-5"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb122-5" aria-hidden="true" tabindex="-1"></a>xgb_preds_1</span></code></pre></div>
<pre><code>##  [1] 0.4444663 0.4444663 0.4444663 0.4444663 0.4444663 0.4444663 0.4444663
##  [8] 0.4444663 0.4444663 0.4444663 0.4444663 0.4444663 0.4444663 0.4444663
## [15] 0.4444663 0.4444663</code></pre>
<h2 id="second-model-option-random-forest">Second Model Option: Random Forest</h2>
<p>To ensure that zone locations generate an impact in the model’s structure, random forest modeling may be beneficial for CZR calculations. Here, we investigate the same model conditions (Bertrand, fastball, RHH, Strike Zones and Ball Zones) for Models 1 and 2, respectively, noticing the prediction score adjustments when accounting for zone locations.</p>
<p>We form the data sets, build the first model, and test which of the eligible rows in the testing set correspond to any observations in the training set. If no rows in the training set correspond to a pitch in a testing row’s respective zone, remove that row from the data frame of testing rows for the Model 1 conditions and continue:</p>
<div class="sourceCode" id="cb124"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb124-1"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb124-1" aria-hidden="true" tabindex="-1"></a>bertrand_model1_data <span class="ot">&lt;-</span> bertrand_model1_data <span class="sc">%&gt;%</span></span>
<span id="cb124-2"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb124-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">25</span>, as.factor))</span>
<span id="cb124-3"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb124-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb124-4"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb124-4" aria-hidden="true" tabindex="-1"></a>bertrand_model2_data <span class="ot">&lt;-</span> bertrand_model2_data <span class="sc">%&gt;%</span></span>
<span id="cb124-5"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb124-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">25</span>, as.factor))</span>
<span id="cb124-6"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb124-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb124-7"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb124-7" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">574</span>)</span>
<span id="cb124-8"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb124-8" aria-hidden="true" tabindex="-1"></a>bertrand_rf_mod_1 <span class="ot">&lt;-</span> <span class="fu">randomForest</span>(strike_hit <span class="sc">~</span>., </span>
<span id="cb124-9"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb124-9" aria-hidden="true" tabindex="-1"></a>                         <span class="at">data =</span> bertrand_model1_data, </span>
<span id="cb124-10"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb124-10" aria-hidden="true" tabindex="-1"></a>                         <span class="at">ntree =</span> <span class="dv">100</span>,</span>
<span id="cb124-11"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb124-11" aria-hidden="true" tabindex="-1"></a>                         <span class="at">nodesize =</span> <span class="dv">1</span>,</span>
<span id="cb124-12"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb124-12" aria-hidden="true" tabindex="-1"></a>                         <span class="at">mtry =</span> <span class="dv">47</span>) </span>
<span id="cb124-13"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb124-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb124-14"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb124-14" aria-hidden="true" tabindex="-1"></a>test_row <span class="ot">&lt;-</span> bounded_results_matrix <span class="sc">%&gt;%</span></span>
<span id="cb124-15"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb124-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(player <span class="sc">==</span> <span class="st">"John Michael Bertrand"</span>,</span>
<span id="cb124-16"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb124-16" aria-hidden="true" tabindex="-1"></a>         batter_side <span class="sc">==</span> <span class="st">"Right"</span>,</span>
<span id="cb124-17"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb124-17" aria-hidden="true" tabindex="-1"></a>         tagged_pitch_type <span class="sc">==</span> <span class="st">"Fastball"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb124-18"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb124-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span><span class="fu">c</span>(<span class="st">"preds"</span>, <span class="st">"player"</span>, <span class="st">"batter_side"</span>, <span class="st">"tagged_pitch_type"</span>, <span class="st">"model_number"</span>, <span class="st">"pitch_split"</span>))</span>
<span id="cb124-19"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb124-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb124-20"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb124-20" aria-hidden="true" tabindex="-1"></a>bertrand_model1_data <span class="ot">&lt;-</span> bertrand_model1_data <span class="sc">%&gt;%</span></span>
<span id="cb124-21"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb124-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">25</span>, as.character)) <span class="sc">%&gt;%</span></span>
<span id="cb124-22"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb124-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">25</span>, as.integer))</span>
<span id="cb124-23"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb124-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb124-24"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb124-24" aria-hidden="true" tabindex="-1"></a>test_row<span class="sc">$</span>strike_hit <span class="ot">&lt;-</span> <span class="fu">as.factor</span>(<span class="dv">0</span>)</span>
<span id="cb124-25"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb124-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb124-26"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb124-26" aria-hidden="true" tabindex="-1"></a>row_list <span class="ot">&lt;-</span> <span class="fu">vector</span>()</span>
<span id="cb124-27"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb124-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb124-28"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb124-28" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">25</span>){</span>
<span id="cb124-29"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb124-29" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(<span class="fu">sum</span>(bertrand_model1_data[, i]) <span class="sc">==</span> <span class="dv">0</span>){</span>
<span id="cb124-30"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb124-30" aria-hidden="true" tabindex="-1"></a>    row_list <span class="ot">&lt;-</span> <span class="fu">append</span>(row_list, i)</span>
<span id="cb124-31"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb124-31" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb124-32"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb124-32" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb124-33"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb124-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb124-34"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb124-34" aria-hidden="true" tabindex="-1"></a>test_row <span class="ot">&lt;-</span> test_row[<span class="sc">-</span>row_list, ]</span>
<span id="cb124-35"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb124-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb124-36"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb124-36" aria-hidden="true" tabindex="-1"></a>test_row <span class="ot">&lt;-</span> test_row <span class="sc">%&gt;%</span></span>
<span id="cb124-37"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb124-37" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">25</span>, as.factor))</span></code></pre></div>
<p>Applying the model on the remaining testing rows and evaluating the prediction scores (9 out of 9 in this case):</p>
<div class="sourceCode" id="cb125"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb125-1"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb125-1" aria-hidden="true" tabindex="-1"></a>rf_bertrand_preds <span class="ot">&lt;-</span> <span class="fu">predict</span>(bertrand_rf_mod_1, test_row, <span class="at">type =</span> <span class="st">"prob"</span>) </span>
<span id="cb125-2"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb125-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb125-3"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb125-3" aria-hidden="true" tabindex="-1"></a>rf_bertrand_preds</span></code></pre></div>
<pre><code>##      0    1
## 1 0.22 0.78
## 2 0.21 0.79
## 3 0.21 0.79
## 4 0.19 0.81
## 5 0.20 0.80
## 6 0.21 0.79
## 7 0.21 0.79
## 8 0.21 0.79
## 9 0.27 0.73
## attr(,"class")
## [1] "matrix" "array"  "votes"</code></pre>
<div class="sourceCode" id="cb127"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb127-1"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb127-1" aria-hidden="true" tabindex="-1"></a><span class="fu">nrow</span>(rf_bertrand_preds)</span></code></pre></div>
<pre><code>## [1] 9</code></pre>
<p>We build the second model and test which of the eligible rows in the testing set correspond to any observations in the training set. If no rows in the training set correspond to a pitch in a testing row’s respective zone, remove that row from the data frame of testing rows for the Model 2 conditions and continue:</p>
<div class="sourceCode" id="cb129"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb129-1"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb129-1" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">574</span>)</span>
<span id="cb129-2"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb129-2" aria-hidden="true" tabindex="-1"></a>bertrand_rf_mod_2 <span class="ot">&lt;-</span> <span class="fu">randomForest</span>(ball_called <span class="sc">~</span>., </span>
<span id="cb129-3"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb129-3" aria-hidden="true" tabindex="-1"></a>                         <span class="at">data =</span> bertrand_model2_data, </span>
<span id="cb129-4"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb129-4" aria-hidden="true" tabindex="-1"></a>                         <span class="at">ntree =</span> <span class="dv">100</span>,</span>
<span id="cb129-5"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb129-5" aria-hidden="true" tabindex="-1"></a>                         <span class="at">nodesize =</span> <span class="dv">1</span>,</span>
<span id="cb129-6"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb129-6" aria-hidden="true" tabindex="-1"></a>                         <span class="at">mtry =</span> <span class="dv">47</span>) </span>
<span id="cb129-7"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb129-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-8"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb129-8" aria-hidden="true" tabindex="-1"></a>bertrand_model2_data <span class="ot">&lt;-</span> bertrand_model2_data <span class="sc">%&gt;%</span></span>
<span id="cb129-9"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb129-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">25</span>, as.character)) <span class="sc">%&gt;%</span></span>
<span id="cb129-10"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb129-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">25</span>, as.integer))</span>
<span id="cb129-11"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb129-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-12"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb129-12" aria-hidden="true" tabindex="-1"></a>test_row_2 <span class="ot">&lt;-</span> bounded_results_matrix <span class="sc">%&gt;%</span></span>
<span id="cb129-13"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb129-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(player <span class="sc">==</span> <span class="st">"John Michael Bertrand"</span>,</span>
<span id="cb129-14"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb129-14" aria-hidden="true" tabindex="-1"></a>         batter_side <span class="sc">==</span> <span class="st">"Right"</span>,</span>
<span id="cb129-15"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb129-15" aria-hidden="true" tabindex="-1"></a>         tagged_pitch_type <span class="sc">==</span> <span class="st">"Fastball"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb129-16"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb129-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span><span class="fu">c</span>(<span class="st">"preds"</span>, <span class="st">"player"</span>, <span class="st">"batter_side"</span>, <span class="st">"tagged_pitch_type"</span>, <span class="st">"model_number"</span>, <span class="st">"pitch_split"</span>)) </span>
<span id="cb129-17"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb129-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-18"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb129-18" aria-hidden="true" tabindex="-1"></a>test_row_2<span class="sc">$</span>ball_called <span class="ot">&lt;-</span> <span class="fu">as.factor</span>(<span class="dv">0</span>)</span>
<span id="cb129-19"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb129-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-20"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb129-20" aria-hidden="true" tabindex="-1"></a>test_row_2</span></code></pre></div>
<pre><code>## # A tibble: 25 x 48
##    postpitch_1 postpitch_2 postpitch_3 postpitch_4 postpitch_5 postpitch_6
##          &lt;int&gt;       &lt;int&gt;       &lt;int&gt;       &lt;int&gt;       &lt;int&gt;       &lt;int&gt;
##  1           1           0           0           0           0           0
##  2           0           1           0           0           0           0
##  3           0           0           1           0           0           0
##  4           0           0           0           1           0           0
##  5           0           0           0           0           1           0
##  6           0           0           0           0           0           1
##  7           0           0           0           0           0           0
##  8           0           0           0           0           0           0
##  9           0           0           0           0           0           0
## 10           0           0           0           0           0           0
## # ... with 15 more rows, and 42 more variables: postpitch_7 &lt;int&gt;,
## #   postpitch_8 &lt;int&gt;, postpitch_9 &lt;int&gt;, postpitch_10 &lt;int&gt;,
## #   postpitch_11 &lt;int&gt;, postpitch_12 &lt;int&gt;, postpitch_13 &lt;int&gt;,
## #   postpitch_14 &lt;int&gt;, postpitch_15 &lt;int&gt;, postpitch_16 &lt;int&gt;,
## #   postpitch_17 &lt;int&gt;, postpitch_18 &lt;int&gt;, postpitch_19 &lt;int&gt;,
## #   postpitch_20 &lt;int&gt;, postpitch_21 &lt;int&gt;, postpitch_22 &lt;int&gt;,
## #   postpitch_23 &lt;int&gt;, postpitch_24 &lt;int&gt;, postpitch_25 &lt;int&gt;, ops &lt;dbl&gt;, ...</code></pre>
<div class="sourceCode" id="cb131"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb131-1"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb131-1" aria-hidden="true" tabindex="-1"></a>row_list <span class="ot">&lt;-</span> <span class="fu">vector</span>()</span>
<span id="cb131-2"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb131-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-3"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb131-3" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">25</span>){</span>
<span id="cb131-4"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb131-4" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(<span class="fu">sum</span>(bertrand_model2_data[, i]) <span class="sc">==</span> <span class="dv">0</span>){</span>
<span id="cb131-5"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb131-5" aria-hidden="true" tabindex="-1"></a>    row_list <span class="ot">&lt;-</span> <span class="fu">append</span>(row_list, i)</span>
<span id="cb131-6"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb131-6" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb131-7"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb131-7" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb131-8"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb131-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-9"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb131-9" aria-hidden="true" tabindex="-1"></a>test_row_2 <span class="ot">&lt;-</span> test_row_2[<span class="sc">-</span>row_list, ]</span>
<span id="cb131-10"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb131-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-11"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb131-11" aria-hidden="true" tabindex="-1"></a>test_row_2 <span class="ot">&lt;-</span> test_row_2 <span class="sc">%&gt;%</span></span>
<span id="cb131-12"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb131-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">25</span>, as.factor))</span></code></pre></div>
<p>Applying the model on the remaining testing rows for predictions, and evaluating the prediction scores:</p>
<div class="sourceCode" id="cb132"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb132-1"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb132-1" aria-hidden="true" tabindex="-1"></a>rf_bertrand_preds_2 <span class="ot">&lt;-</span> <span class="fu">predict</span>(bertrand_rf_mod_2, test_row_2, <span class="at">type =</span> <span class="st">"prob"</span>) </span>
<span id="cb132-2"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb132-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb132-3"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb132-3" aria-hidden="true" tabindex="-1"></a>rf_bertrand_preds_2[, <span class="dv">2</span>]</span></code></pre></div>
<pre><code>##    1    2    3    4    5    6    7    8    9   10   11   12 
## 0.77 0.80 0.80 0.80 0.78 0.73 0.80 0.79 0.80 0.80 0.74 0.80</code></pre>
<div class="sourceCode" id="cb134"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb134-1"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb134-1" aria-hidden="true" tabindex="-1"></a><span class="fu">nrow</span>(rf_bertrand_preds_2)</span></code></pre></div>
<pre><code>## [1] 12</code></pre>
<div class="sourceCode" id="cb136"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb136-1"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb136-1" aria-hidden="true" tabindex="-1"></a>zones_list <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="dv">1</span>, <span class="dv">25</span>, <span class="dv">1</span>)</span>
<span id="cb136-2"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb136-2" aria-hidden="true" tabindex="-1"></a><span class="fu">cbind</span>()</span></code></pre></div>
<pre><code>## NULL</code></pre>
<h1 id="part-1-given-thrown-in-strike-zone-base-hit-probabilities">Part 1: Given Thrown In Strike Zone, Base Hit Probabilities</h1>
<p>Now that one case of successful predictions has been conducted, the above calculation can be repeated in a nested for loop for all other Pitcher, Pitch Type, and Batter Side combinations in the data set for Notre Dame pitchers. The following for loop conducts the following for Strike Zone pitches:</p>
<ol style="list-style-type: decimal">
<li><p>Iterate through Pitchers, Batter Sides, and Pitch Types, building a model on the corresponding observations for each combination</p></li>
<li><p>Replace infinite WHIP values with a manageable replacement proxy (near 100)</p></li>
<li><p>Test if the model contains enough data to build a tree ensemble. If only one class exists in the response value, the model’s conditions fail, and a given model is skipped. All predictions are negated.</p></li>
<li><p>Test if a testing row’s corresponding zone is in the training set. If no association exists, remove the row from a given model’s corresponding testing rows and continue.</p></li>
<li><p>Append the model predictions to the matrix of bounded testing results, one for each zone. These prediction scores, along with the total misses per zone and total pitches thrown in a zone as grouped by the model conditions, will be used to calculate the Command Score (the impact component of CZR).</p></li>
</ol>
<p>All models will be either skipped or built for immediate application on corresponding available test rows (in this case, limited to the 9 eligible strike zones):</p>
<div class="sourceCode" id="cb138"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb138-1"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb138-1" aria-hidden="true" tabindex="-1"></a>bounded_individual_pitchers_strike <span class="ot">&lt;-</span> <span class="fu">vector</span>(<span class="st">"list"</span>, <span class="fu">dim</span>(bounded_results_matrix)[<span class="dv">1</span>] <span class="sc">/</span> <span class="dv">25</span>)</span>
<span id="cb138-2"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb138-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb138-3"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb138-3" aria-hidden="true" tabindex="-1"></a>identifiers <span class="ot">&lt;-</span> bounded_results_matrix <span class="sc">%&gt;%</span></span>
<span id="cb138-4"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb138-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="dv">26</span><span class="sc">:</span><span class="dv">28</span>) <span class="sc">%&gt;%</span></span>
<span id="cb138-5"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb138-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>() <span class="sc">%&gt;%</span></span>
<span id="cb138-6"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb138-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">batter_side =</span> <span class="fu">as.character</span>(batter_side),</span>
<span id="cb138-7"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb138-7" aria-hidden="true" tabindex="-1"></a>         <span class="at">tagged_pitch_type =</span> <span class="fu">as.character</span>(tagged_pitch_type))</span>
<span id="cb138-8"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb138-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb138-9"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb138-9" aria-hidden="true" tabindex="-1"></a>player_list <span class="ot">&lt;-</span> <span class="fu">as.list.data.frame</span>(identifiers<span class="sc">$</span>player)</span>
<span id="cb138-10"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb138-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb138-11"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb138-11" aria-hidden="true" tabindex="-1"></a>batter_list <span class="ot">&lt;-</span> <span class="fu">as.list.data.frame</span>(identifiers<span class="sc">$</span>batter_side)</span>
<span id="cb138-12"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb138-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb138-13"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb138-13" aria-hidden="true" tabindex="-1"></a>pitch_list <span class="ot">&lt;-</span> <span class="fu">as.list.data.frame</span>(identifiers<span class="sc">$</span>tagged_pitch_type)</span>
<span id="cb138-14"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb138-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb138-15"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb138-15" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(player_list)){</span>
<span id="cb138-16"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb138-16" aria-hidden="true" tabindex="-1"></a>      strike_model_data <span class="ot">&lt;-</span> final_metric_strike_data <span class="sc">%&gt;%</span></span>
<span id="cb138-17"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb138-17" aria-hidden="true" tabindex="-1"></a>        <span class="fu">filter</span>(player <span class="sc">==</span> player_list[i],</span>
<span id="cb138-18"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb138-18" aria-hidden="true" tabindex="-1"></a>               <span class="fu">as.character</span>(batter_side) <span class="sc">==</span> batter_list[i],</span>
<span id="cb138-19"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb138-19" aria-hidden="true" tabindex="-1"></a>               <span class="fu">as.character</span>(tagged_pitch_type) <span class="sc">==</span> pitch_list[i]) <span class="sc">%&gt;%</span></span>
<span id="cb138-20"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb138-20" aria-hidden="true" tabindex="-1"></a>        <span class="fu">select</span>(<span class="sc">-</span><span class="fu">c</span>(<span class="dv">26</span><span class="sc">:</span><span class="dv">28</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb138-21"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb138-21" aria-hidden="true" tabindex="-1"></a>        <span class="fu">na_mean</span>() <span class="sc">%&gt;%</span></span>
<span id="cb138-22"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb138-22" aria-hidden="true" tabindex="-1"></a>        <span class="fu">mutate</span>(<span class="at">whip =</span> <span class="fu">replace</span>(whip, whip <span class="sc">==</span> <span class="cn">Inf</span>, <span class="dv">99</span>))</span>
<span id="cb138-23"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb138-23" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb138-24"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb138-24" aria-hidden="true" tabindex="-1"></a>      strike_model_data_int <span class="ot">&lt;-</span> strike_model_data <span class="sc">%&gt;%</span></span>
<span id="cb138-25"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb138-25" aria-hidden="true" tabindex="-1"></a>        <span class="fu">mutate</span>(<span class="at">strike_hit =</span> <span class="fu">as.character</span>(strike_hit),</span>
<span id="cb138-26"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb138-26" aria-hidden="true" tabindex="-1"></a>               <span class="at">strike_hit =</span> <span class="fu">as.integer</span>(strike_hit))</span>
<span id="cb138-27"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb138-27" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb138-28"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb138-28" aria-hidden="true" tabindex="-1"></a>      <span class="cf">if</span>(<span class="fu">sum</span>(strike_model_data_int<span class="sc">$</span>strike_hit) <span class="sc">==</span> <span class="dv">0</span> <span class="sc">|</span> <span class="fu">sum</span>(strike_model_data_int<span class="sc">$</span>strike_hit) <span class="sc">==</span> <span class="fu">nrow</span>(strike_model_data_int)){</span>
<span id="cb138-29"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb138-29" aria-hidden="true" tabindex="-1"></a>        <span class="fu">cat</span>(<span class="st">"Not Enough Data for "</span>, player_list[i], <span class="st">", "</span>, batter_list[i], <span class="st">", "</span>, pitch_list[i], <span class="st">"Strike Model"</span>)</span>
<span id="cb138-30"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb138-30" aria-hidden="true" tabindex="-1"></a>        <span class="fu">cat</span>(<span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span>
<span id="cb138-31"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb138-31" aria-hidden="true" tabindex="-1"></a>        <span class="cf">next</span></span>
<span id="cb138-32"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb138-32" aria-hidden="true" tabindex="-1"></a>      } <span class="cf">else</span>{</span>
<span id="cb138-33"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb138-33" aria-hidden="true" tabindex="-1"></a>        <span class="fu">print</span>(<span class="st">"Model Satisfies Conditions"</span>)</span>
<span id="cb138-34"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb138-34" aria-hidden="true" tabindex="-1"></a>        <span class="fu">cat</span>(<span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span>
<span id="cb138-35"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb138-35" aria-hidden="true" tabindex="-1"></a>        <span class="fu">rownames</span>(strike_model_data) <span class="ot">&lt;-</span> <span class="cn">NULL</span></span>
<span id="cb138-36"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb138-36" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb138-37"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb138-37" aria-hidden="true" tabindex="-1"></a>      strike_model_data <span class="ot">&lt;-</span> strike_model_data <span class="sc">%&gt;%</span></span>
<span id="cb138-38"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb138-38" aria-hidden="true" tabindex="-1"></a>        <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">25</span>, as.factor))</span>
<span id="cb138-39"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb138-39" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb138-40"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb138-40" aria-hidden="true" tabindex="-1"></a>      wn <span class="ot">=</span> <span class="fu">sum</span>(strike_model_data<span class="sc">$</span>strike_hit <span class="sc">==</span> <span class="dv">0</span>)<span class="sc">/</span><span class="fu">nrow</span>(strike_model_data)</span>
<span id="cb138-41"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb138-41" aria-hidden="true" tabindex="-1"></a>      wy <span class="ot">=</span> <span class="fu">sum</span>(strike_model_data<span class="sc">$</span>strike_hit <span class="sc">==</span> <span class="dv">1</span>)<span class="sc">/</span><span class="fu">nrow</span>(strike_model_data)</span>
<span id="cb138-42"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb138-42" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb138-43"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb138-43" aria-hidden="true" tabindex="-1"></a>      <span class="fu">set.seed</span>(<span class="dv">574</span>)</span>
<span id="cb138-44"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb138-44" aria-hidden="true" tabindex="-1"></a>      strike_rf_model <span class="ot">&lt;-</span> <span class="fu">randomForest</span>(strike_hit <span class="sc">~</span>., </span>
<span id="cb138-45"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb138-45" aria-hidden="true" tabindex="-1"></a>                         <span class="at">data =</span> strike_model_data, </span>
<span id="cb138-46"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb138-46" aria-hidden="true" tabindex="-1"></a>                         <span class="at">ntree =</span> <span class="dv">100</span>,</span>
<span id="cb138-47"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb138-47" aria-hidden="true" tabindex="-1"></a>                         <span class="at">nodesize =</span> <span class="dv">1</span>,</span>
<span id="cb138-48"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb138-48" aria-hidden="true" tabindex="-1"></a>                         <span class="at">mtry =</span> <span class="dv">47</span>,</span>
<span id="cb138-49"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb138-49" aria-hidden="true" tabindex="-1"></a>                         <span class="at">classwt =</span> <span class="fu">c</span>(wn, wy)) </span>
<span id="cb138-50"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb138-50" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb138-51"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb138-51" aria-hidden="true" tabindex="-1"></a>      test_row <span class="ot">&lt;-</span> bounded_results_matrix <span class="sc">%&gt;%</span></span>
<span id="cb138-52"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb138-52" aria-hidden="true" tabindex="-1"></a>       <span class="fu">filter</span>(player <span class="sc">==</span> player_list[i],</span>
<span id="cb138-53"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb138-53" aria-hidden="true" tabindex="-1"></a>               <span class="fu">as.character</span>(batter_side) <span class="sc">==</span> batter_list[i],</span>
<span id="cb138-54"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb138-54" aria-hidden="true" tabindex="-1"></a>               <span class="fu">as.character</span>(tagged_pitch_type) <span class="sc">==</span> pitch_list[i]) <span class="sc">%&gt;%</span></span>
<span id="cb138-55"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb138-55" aria-hidden="true" tabindex="-1"></a>        <span class="fu">select</span>(<span class="sc">-</span><span class="fu">c</span>(<span class="st">"preds"</span>, <span class="st">"player"</span>, <span class="st">"batter_side"</span>, <span class="st">"tagged_pitch_type"</span>, <span class="st">"model_number"</span>, <span class="st">"pitch_split"</span>))</span>
<span id="cb138-56"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb138-56" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb138-57"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb138-57" aria-hidden="true" tabindex="-1"></a>      strike_model_data <span class="ot">&lt;-</span> strike_model_data <span class="sc">%&gt;%</span></span>
<span id="cb138-58"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb138-58" aria-hidden="true" tabindex="-1"></a>        <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">25</span>, as.character)) <span class="sc">%&gt;%</span></span>
<span id="cb138-59"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb138-59" aria-hidden="true" tabindex="-1"></a>        <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">25</span>, as.integer))</span>
<span id="cb138-60"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb138-60" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb138-61"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb138-61" aria-hidden="true" tabindex="-1"></a>      test_row<span class="sc">$</span>strike_hit <span class="ot">&lt;-</span> <span class="fu">as.factor</span>(<span class="dv">0</span>)</span>
<span id="cb138-62"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb138-62" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb138-63"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb138-63" aria-hidden="true" tabindex="-1"></a>      row_list <span class="ot">&lt;-</span> <span class="fu">vector</span>()</span>
<span id="cb138-64"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb138-64" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb138-65"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb138-65" aria-hidden="true" tabindex="-1"></a>      <span class="cf">for</span>(x <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">25</span>){</span>
<span id="cb138-66"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb138-66" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span>(<span class="fu">sum</span>(strike_model_data[, x]) <span class="sc">==</span> <span class="dv">0</span>){</span>
<span id="cb138-67"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb138-67" aria-hidden="true" tabindex="-1"></a>          row_list <span class="ot">&lt;-</span> <span class="fu">append</span>(row_list, x)</span>
<span id="cb138-68"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb138-68" aria-hidden="true" tabindex="-1"></a>          }</span>
<span id="cb138-69"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb138-69" aria-hidden="true" tabindex="-1"></a>      }</span>
<span id="cb138-70"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb138-70" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb138-71"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb138-71" aria-hidden="true" tabindex="-1"></a>      test_row<span class="sc">$</span>index <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="dv">1</span>, <span class="dv">25</span>)</span>
<span id="cb138-72"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb138-72" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb138-73"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb138-73" aria-hidden="true" tabindex="-1"></a>      test_row <span class="ot">&lt;-</span> test_row[<span class="sc">-</span>row_list, ]</span>
<span id="cb138-74"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb138-74" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb138-75"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb138-75" aria-hidden="true" tabindex="-1"></a>      test_row <span class="ot">&lt;-</span> test_row <span class="sc">%&gt;%</span></span>
<span id="cb138-76"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb138-76" aria-hidden="true" tabindex="-1"></a>        <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">25</span>, as.factor))</span>
<span id="cb138-77"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb138-77" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb138-78"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb138-78" aria-hidden="true" tabindex="-1"></a>      test_row_no_index <span class="ot">&lt;-</span> test_row <span class="sc">%&gt;%</span></span>
<span id="cb138-79"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb138-79" aria-hidden="true" tabindex="-1"></a>        <span class="fu">select</span>(<span class="sc">-</span>index)</span>
<span id="cb138-80"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb138-80" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb138-81"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb138-81" aria-hidden="true" tabindex="-1"></a>      strike_model_preds <span class="ot">&lt;-</span> <span class="fu">predict</span>(strike_rf_model, test_row_no_index, <span class="at">type =</span> <span class="st">"prob"</span>)</span>
<span id="cb138-82"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb138-82" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb138-83"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb138-83" aria-hidden="true" tabindex="-1"></a>      bounded_preds <span class="ot">&lt;-</span> <span class="fu">cbind</span>(test_row, strike_model_preds[ ,<span class="dv">2</span>])</span>
<span id="cb138-84"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb138-84" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb138-85"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb138-85" aria-hidden="true" tabindex="-1"></a>      <span class="fu">colnames</span>(bounded_preds) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fu">colnames</span>(test_row), <span class="st">"model_preds"</span>)</span>
<span id="cb138-86"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb138-86" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb138-87"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb138-87" aria-hidden="true" tabindex="-1"></a>      bounded_individual_pitchers_strike[[i]] <span class="ot">&lt;-</span> bounded_results_matrix <span class="sc">%&gt;%</span></span>
<span id="cb138-88"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb138-88" aria-hidden="true" tabindex="-1"></a>       <span class="fu">filter</span>(player <span class="sc">==</span> player_list[i],</span>
<span id="cb138-89"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb138-89" aria-hidden="true" tabindex="-1"></a>               <span class="fu">as.character</span>(batter_side) <span class="sc">==</span> batter_list[i],</span>
<span id="cb138-90"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb138-90" aria-hidden="true" tabindex="-1"></a>               <span class="fu">as.character</span>(tagged_pitch_type) <span class="sc">==</span> pitch_list[i])</span>
<span id="cb138-91"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb138-91" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb138-92"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb138-92" aria-hidden="true" tabindex="-1"></a>      <span class="cf">for</span>(z <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">25</span>){</span>
<span id="cb138-93"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb138-93" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span>(z <span class="sc">%in%</span> row_list){</span>
<span id="cb138-94"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb138-94" aria-hidden="true" tabindex="-1"></a>           bounded_individual_pitchers_strike[[i]][z, <span class="dv">53</span>] <span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb138-95"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb138-95" aria-hidden="true" tabindex="-1"></a>        } <span class="cf">else</span>{</span>
<span id="cb138-96"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb138-96" aria-hidden="true" tabindex="-1"></a>           bounded_individual_pitchers_strike[[i]][z, <span class="dv">53</span>] <span class="ot">&lt;-</span> <span class="fu">as.list</span>(bounded_preds[<span class="fu">which</span>(bounded_preds<span class="sc">$</span>index <span class="sc">==</span> z), <span class="dv">50</span>])</span>
<span id="cb138-97"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb138-97" aria-hidden="true" tabindex="-1"></a>        }</span>
<span id="cb138-98"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb138-98" aria-hidden="true" tabindex="-1"></a>      }</span>
<span id="cb138-99"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb138-99" aria-hidden="true" tabindex="-1"></a>      }</span>
<span id="cb138-100"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb138-100" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<pre><code>## [1] "Model Satisfies Conditions"
## 
## [1] "Model Satisfies Conditions"
## 
## [1] "Model Satisfies Conditions"
## 
## Not Enough Data for  Aidan Tyrell ,  Right ,  Slider Strike Model
## [1] "Model Satisfies Conditions"
## 
## [1] "Model Satisfies Conditions"
## 
## [1] "Model Satisfies Conditions"
## 
## [1] "Model Satisfies Conditions"
## 
## [1] "Model Satisfies Conditions"
## 
## [1] "Model Satisfies Conditions"
## 
## [1] "Model Satisfies Conditions"
## 
## [1] "Model Satisfies Conditions"
## 
## [1] "Model Satisfies Conditions"
## 
## [1] "Model Satisfies Conditions"
## 
## [1] "Model Satisfies Conditions"
## 
## [1] "Model Satisfies Conditions"
## 
## Not Enough Data for  Jack Brannigan ,  Left ,  Slider Strike Model
## [1] "Model Satisfies Conditions"
## 
## [1] "Model Satisfies Conditions"
## 
## [1] "Model Satisfies Conditions"
## 
## [1] "Model Satisfies Conditions"
## 
## [1] "Model Satisfies Conditions"
## 
## [1] "Model Satisfies Conditions"
## 
## [1] "Model Satisfies Conditions"
## 
## [1] "Model Satisfies Conditions"
## 
## [1] "Model Satisfies Conditions"
## 
## [1] "Model Satisfies Conditions"
## 
## [1] "Model Satisfies Conditions"

## Warning: imputeTS: No imputation performed for column 41 because of this Error in na_mean(data[, i], option, maxgap): Input data has only NAs. Input data needs at least 1 non-NA data point for applying na_mean

## Warning: imputeTS: No imputation performed for column 42 because of this Error in na_mean(data[, i], option, maxgap): Input data has only NAs. Input data needs at least 1 non-NA data point for applying na_mean

## Warning: imputeTS: No imputation performed for column 43 because of this Error in na_mean(data[, i], option, maxgap): Input data has only NAs. Input data needs at least 1 non-NA data point for applying na_mean

## Warning: imputeTS: No imputation performed for column 44 because of this Error in na_mean(data[, i], option, maxgap): Input data has only NAs. Input data needs at least 1 non-NA data point for applying na_mean

## Warning: imputeTS: No imputation performed for column 45 because of this Error in na_mean(data[, i], option, maxgap): Input data has only NAs. Input data needs at least 1 non-NA data point for applying na_mean

## Warning: imputeTS: No imputation performed for column 46 because of this Error in na_mean(data[, i], option, maxgap): Input data has only NAs. Input data needs at least 1 non-NA data point for applying na_mean

## Warning: imputeTS: No imputation performed for column 47 because of this Error in na_mean(data[, i], option, maxgap): Input data has only NAs. Input data needs at least 1 non-NA data point for applying na_mean

## Not Enough Data for  Liam Simmon ,  Left ,  Fastball Strike Model

## Warning: imputeTS: No imputation performed for column 41 because of this Error in na_mean(data[, i], option, maxgap): Input data has only NAs. Input data needs at least 1 non-NA data point for applying na_mean

## Warning: imputeTS: No imputation performed for column 42 because of this Error in na_mean(data[, i], option, maxgap): Input data has only NAs. Input data needs at least 1 non-NA data point for applying na_mean

## Warning: imputeTS: No imputation performed for column 43 because of this Error in na_mean(data[, i], option, maxgap): Input data has only NAs. Input data needs at least 1 non-NA data point for applying na_mean

## Warning: imputeTS: No imputation performed for column 44 because of this Error in na_mean(data[, i], option, maxgap): Input data has only NAs. Input data needs at least 1 non-NA data point for applying na_mean

## Warning: imputeTS: No imputation performed for column 45 because of this Error in na_mean(data[, i], option, maxgap): Input data has only NAs. Input data needs at least 1 non-NA data point for applying na_mean

## Warning: imputeTS: No imputation performed for column 46 because of this Error in na_mean(data[, i], option, maxgap): Input data has only NAs. Input data needs at least 1 non-NA data point for applying na_mean

## Warning: imputeTS: No imputation performed for column 47 because of this Error in na_mean(data[, i], option, maxgap): Input data has only NAs. Input data needs at least 1 non-NA data point for applying na_mean

## Not Enough Data for  Liam Simmon ,  Right ,  Fastball Strike Model
## [1] "Model Satisfies Conditions"
## 
## [1] "Model Satisfies Conditions"
## 
## Not Enough Data for  Liam Simon ,  Left ,  Slider Strike Model
## [1] "Model Satisfies Conditions"

## Warning: imputeTS: No imputation performed for column 41 because of this Error in na_mean(data[, i], option, maxgap): Input data has only NAs. Input data needs at least 1 non-NA data point for applying na_mean

## Warning: imputeTS: No imputation performed for column 42 because of this Error in na_mean(data[, i], option, maxgap): Input data has only NAs. Input data needs at least 1 non-NA data point for applying na_mean

## Warning: imputeTS: No imputation performed for column 43 because of this Error in na_mean(data[, i], option, maxgap): Input data has only NAs. Input data needs at least 1 non-NA data point for applying na_mean

## Warning: imputeTS: No imputation performed for column 44 because of this Error in na_mean(data[, i], option, maxgap): Input data has only NAs. Input data needs at least 1 non-NA data point for applying na_mean

## Warning: imputeTS: No imputation performed for column 45 because of this Error in na_mean(data[, i], option, maxgap): Input data has only NAs. Input data needs at least 1 non-NA data point for applying na_mean

## Warning: imputeTS: No imputation performed for column 46 because of this Error in na_mean(data[, i], option, maxgap): Input data has only NAs. Input data needs at least 1 non-NA data point for applying na_mean

## Warning: imputeTS: No imputation performed for column 47 because of this Error in na_mean(data[, i], option, maxgap): Input data has only NAs. Input data needs at least 1 non-NA data point for applying na_mean

## Not Enough Data for  Matt Lazzaro ,  Left ,  Curveball Strike Model

## Warning: imputeTS: No imputation performed for column 26 because of this Error in na_mean(data[, i], option, maxgap): Input data has only NAs. Input data needs at least 1 non-NA data point for applying na_mean

## Warning: imputeTS: No imputation performed for column 27 because of this Error in na_mean(data[, i], option, maxgap): Input data has only NAs. Input data needs at least 1 non-NA data point for applying na_mean

## Warning: imputeTS: No imputation performed for column 28 because of this Error in na_mean(data[, i], option, maxgap): Input data has only NAs. Input data needs at least 1 non-NA data point for applying na_mean

## Warning: imputeTS: No imputation performed for column 41 because of this Error in na_mean(data[, i], option, maxgap): Input data has only NAs. Input data needs at least 1 non-NA data point for applying na_mean

## Warning: imputeTS: No imputation performed for column 42 because of this Error in na_mean(data[, i], option, maxgap): Input data has only NAs. Input data needs at least 1 non-NA data point for applying na_mean

## Warning: imputeTS: No imputation performed for column 43 because of this Error in na_mean(data[, i], option, maxgap): Input data has only NAs. Input data needs at least 1 non-NA data point for applying na_mean

## Warning: imputeTS: No imputation performed for column 44 because of this Error in na_mean(data[, i], option, maxgap): Input data has only NAs. Input data needs at least 1 non-NA data point for applying na_mean

## Warning: imputeTS: No imputation performed for column 45 because of this Error in na_mean(data[, i], option, maxgap): Input data has only NAs. Input data needs at least 1 non-NA data point for applying na_mean

## Warning: imputeTS: No imputation performed for column 46 because of this Error in na_mean(data[, i], option, maxgap): Input data has only NAs. Input data needs at least 1 non-NA data point for applying na_mean

## Warning: imputeTS: No imputation performed for column 47 because of this Error in na_mean(data[, i], option, maxgap): Input data has only NAs. Input data needs at least 1 non-NA data point for applying na_mean

## Not Enough Data for  Matt Lazzaro ,  Right ,  Curveball Strike Model
## [1] "Model Satisfies Conditions"
## 
## [1] "Model Satisfies Conditions"
## 
## [1] "Model Satisfies Conditions"
## 
## [1] "Model Satisfies Conditions"
## 
## Not Enough Data for  Radek Birkholz ,  Left ,  Slider Strike Model
## [1] "Model Satisfies Conditions"
## 
## [1] "Model Satisfies Conditions"
## 
## [1] "Model Satisfies Conditions"
## 
## Not Enough Data for  Roman Kimball ,  Left ,  Slider Strike Model
## [1] "Model Satisfies Conditions"
## 
## [1] "Model Satisfies Conditions"
## 
## [1] "Model Satisfies Conditions"
## 
## Not Enough Data for  Ryan McLinskey ,  Left ,  Slider Strike Model
## [1] "Model Satisfies Conditions"
## 
## Not Enough Data for  Sammy Cooper ,  Left ,  Fastball Strike Model
## Not Enough Data for  Sammy Cooper ,  Right ,  Fastball Strike Model
## Not Enough Data for  Sammy Cooper ,  Left ,  Slider Strike Model
## [1] "Model Satisfies Conditions"
## 
## [1] "Model Satisfies Conditions"
## 
## [1] "Model Satisfies Conditions"
## 
## Not Enough Data for  Will Mercer ,  Left ,  Slider Strike Model
## [1] "Model Satisfies Conditions"</code></pre>
<div class="sourceCode" id="cb140"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb140-1"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb140-1" aria-hidden="true" tabindex="-1"></a>final_bounded_results_matrix_strike <span class="ot">&lt;-</span> bounded_individual_pitchers_strike <span class="sc">%&gt;%</span></span>
<span id="cb140-2"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb140-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">bind_rows</span>() <span class="sc">%&gt;%</span></span>
<span id="cb140-3"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb140-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(preds))</span>
<span id="cb140-4"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb140-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb140-5"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb140-5" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(final_bounded_results_matrix_strike) <span class="ot">&lt;-</span> <span class="fu">str_replace</span>(<span class="fu">colnames</span>(final_bounded_results_matrix_strike), <span class="st">"postpitch_"</span>, <span class="st">""</span>)</span>
<span id="cb140-6"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb140-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb140-7"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb140-7" aria-hidden="true" tabindex="-1"></a>final_bounded_results_matrix_strike <span class="ot">&lt;-</span> final_bounded_results_matrix_strike <span class="sc">%&gt;%</span></span>
<span id="cb140-8"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb140-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">25</span>, <span class="at">names_to =</span> <span class="st">"column"</span>, <span class="at">values_to =</span> <span class="st">"in_zone"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb140-9"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb140-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(in_zone <span class="sc">!=</span> <span class="dv">0</span>) <span class="sc">%&gt;%</span></span>
<span id="cb140-10"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb140-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>in_zone) <span class="sc">%&gt;%</span></span>
<span id="cb140-11"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb140-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="st">"zone"</span> <span class="ot">=</span> column) <span class="sc">%&gt;%</span></span>
<span id="cb140-12"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb140-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">zone =</span> <span class="fu">as.integer</span>(zone)) <span class="sc">%&gt;%</span></span>
<span id="cb140-13"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb140-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(zone, player, batter_side, tagged_pitch_type, pitch_split, preds)</span></code></pre></div>
<h1 id="part-2-given-thrown-outside-strike-zone-ball-called-probabilities">Part 2: Given Thrown Outside Strike Zone, Ball Called Probabilities</h1>
<p>The for loop below conducts the following for Strike Zone pitches:</p>
<ol style="list-style-type: decimal">
<li><p>Iterate through Pitchers, Batter Sides, and Pitch Types, building a model on the corresponding observations for each combination</p></li>
<li><p>Replace infinite WHIP values with a manageable replacement proxy (near 100)</p></li>
<li><p>Test if the model contains enough data to build a tree ensemble. If only one class exists in the response value, the model’s conditions fail, and a given model is skipped. All predictions are negated.</p></li>
<li><p>Test if a testing row’s corresponding zone is in the training set. If no association exists, remove the row from a given model’s corresponding testing rows and continue.</p></li>
<li><p>Append the model predictions to the matrix of bounded testing results, one for each zone. These prediction scores, along with the total misses per zone and total pitches thrown in a zone as grouped by the model conditions, will be used to calculate the Command Score (the impact component of CZR).</p></li>
</ol>
<p>All models will be either skipped or built for immediate application on corresponding available test rows (in this case, limited to the 16 eligible ball zones):</p>
<div class="sourceCode" id="cb141"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb141-1"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb141-1" aria-hidden="true" tabindex="-1"></a>bounded_individual_pitchers_ball <span class="ot">&lt;-</span> <span class="fu">vector</span>(<span class="st">"list"</span>, <span class="fu">dim</span>(bounded_results_matrix)[<span class="dv">1</span>] <span class="sc">/</span> <span class="dv">25</span>)</span>
<span id="cb141-2"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb141-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-3"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb141-3" aria-hidden="true" tabindex="-1"></a>identifiers <span class="ot">&lt;-</span> bounded_results_matrix <span class="sc">%&gt;%</span></span>
<span id="cb141-4"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb141-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="dv">26</span><span class="sc">:</span><span class="dv">28</span>) <span class="sc">%&gt;%</span></span>
<span id="cb141-5"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb141-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>() <span class="sc">%&gt;%</span></span>
<span id="cb141-6"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb141-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">batter_side =</span> <span class="fu">as.character</span>(batter_side),</span>
<span id="cb141-7"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb141-7" aria-hidden="true" tabindex="-1"></a>         <span class="at">tagged_pitch_type =</span> <span class="fu">as.character</span>(tagged_pitch_type))</span>
<span id="cb141-8"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb141-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-9"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb141-9" aria-hidden="true" tabindex="-1"></a>player_list <span class="ot">&lt;-</span> <span class="fu">as.list.data.frame</span>(identifiers<span class="sc">$</span>player)</span>
<span id="cb141-10"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb141-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-11"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb141-11" aria-hidden="true" tabindex="-1"></a>batter_list <span class="ot">&lt;-</span> <span class="fu">as.list.data.frame</span>(identifiers<span class="sc">$</span>batter_side)</span>
<span id="cb141-12"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb141-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-13"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb141-13" aria-hidden="true" tabindex="-1"></a>pitch_list <span class="ot">&lt;-</span> <span class="fu">as.list.data.frame</span>(identifiers<span class="sc">$</span>tagged_pitch_type)</span>
<span id="cb141-14"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb141-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-15"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb141-15" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(player_list)){</span>
<span id="cb141-16"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb141-16" aria-hidden="true" tabindex="-1"></a>      ball_model_data <span class="ot">&lt;-</span> final_metric_ball_data <span class="sc">%&gt;%</span></span>
<span id="cb141-17"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb141-17" aria-hidden="true" tabindex="-1"></a>        <span class="fu">filter</span>(player <span class="sc">==</span> player_list[i],</span>
<span id="cb141-18"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb141-18" aria-hidden="true" tabindex="-1"></a>               <span class="fu">as.character</span>(batter_side) <span class="sc">==</span> batter_list[i],</span>
<span id="cb141-19"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb141-19" aria-hidden="true" tabindex="-1"></a>               <span class="fu">as.character</span>(tagged_pitch_type) <span class="sc">==</span> pitch_list[i]) <span class="sc">%&gt;%</span></span>
<span id="cb141-20"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb141-20" aria-hidden="true" tabindex="-1"></a>        <span class="fu">select</span>(<span class="sc">-</span><span class="fu">c</span>(<span class="dv">26</span><span class="sc">:</span><span class="dv">28</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb141-21"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb141-21" aria-hidden="true" tabindex="-1"></a>        <span class="fu">na_mean</span>() <span class="sc">%&gt;%</span></span>
<span id="cb141-22"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb141-22" aria-hidden="true" tabindex="-1"></a>        <span class="fu">mutate</span>(<span class="at">whip =</span> <span class="fu">replace</span>(whip, whip <span class="sc">==</span> <span class="cn">Inf</span>, <span class="dv">99</span>))</span>
<span id="cb141-23"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb141-23" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb141-24"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb141-24" aria-hidden="true" tabindex="-1"></a>      ball_model_data_int <span class="ot">&lt;-</span> ball_model_data <span class="sc">%&gt;%</span></span>
<span id="cb141-25"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb141-25" aria-hidden="true" tabindex="-1"></a>        <span class="fu">mutate</span>(<span class="at">ball_called =</span> <span class="fu">as.character</span>(ball_called),</span>
<span id="cb141-26"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb141-26" aria-hidden="true" tabindex="-1"></a>               <span class="at">ball_called =</span> <span class="fu">as.integer</span>(ball_called))</span>
<span id="cb141-27"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb141-27" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb141-28"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb141-28" aria-hidden="true" tabindex="-1"></a>      <span class="cf">if</span>(<span class="fu">sum</span>(ball_model_data_int<span class="sc">$</span>ball_called) <span class="sc">==</span> <span class="dv">0</span> <span class="sc">|</span> <span class="fu">sum</span>(ball_model_data_int<span class="sc">$</span>ball_called) <span class="sc">==</span> <span class="fu">nrow</span>(ball_model_data_int)){</span>
<span id="cb141-29"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb141-29" aria-hidden="true" tabindex="-1"></a>        <span class="fu">cat</span>(<span class="st">"Not Enough Data for "</span>, player_list[i], <span class="st">", "</span>, batter_list[i], <span class="st">", "</span>, pitch_list[i], <span class="st">"Ball Model"</span>)</span>
<span id="cb141-30"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb141-30" aria-hidden="true" tabindex="-1"></a>        <span class="fu">cat</span>(<span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span>
<span id="cb141-31"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb141-31" aria-hidden="true" tabindex="-1"></a>        <span class="cf">next</span></span>
<span id="cb141-32"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb141-32" aria-hidden="true" tabindex="-1"></a>      } <span class="cf">else</span>{</span>
<span id="cb141-33"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb141-33" aria-hidden="true" tabindex="-1"></a>        <span class="fu">print</span>(<span class="st">"Model Satisfies Conditions"</span>)</span>
<span id="cb141-34"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb141-34" aria-hidden="true" tabindex="-1"></a>        <span class="fu">cat</span>(<span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span>
<span id="cb141-35"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb141-35" aria-hidden="true" tabindex="-1"></a>        <span class="fu">rownames</span>(ball_model_data) <span class="ot">&lt;-</span> <span class="cn">NULL</span></span>
<span id="cb141-36"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb141-36" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb141-37"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb141-37" aria-hidden="true" tabindex="-1"></a>      ball_model_data <span class="ot">&lt;-</span> ball_model_data <span class="sc">%&gt;%</span></span>
<span id="cb141-38"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb141-38" aria-hidden="true" tabindex="-1"></a>        <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">25</span>, as.factor))</span>
<span id="cb141-39"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb141-39" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb141-40"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb141-40" aria-hidden="true" tabindex="-1"></a>      wn <span class="ot">=</span> <span class="fu">sum</span>(ball_model_data<span class="sc">$</span>ball_called <span class="sc">==</span> <span class="dv">0</span>)<span class="sc">/</span><span class="fu">nrow</span>(ball_model_data)</span>
<span id="cb141-41"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb141-41" aria-hidden="true" tabindex="-1"></a>      wy <span class="ot">=</span> <span class="fu">sum</span>(ball_model_data<span class="sc">$</span>ball_called <span class="sc">==</span> <span class="dv">1</span>)<span class="sc">/</span><span class="fu">nrow</span>(ball_model_data)</span>
<span id="cb141-42"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb141-42" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb141-43"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb141-43" aria-hidden="true" tabindex="-1"></a>      <span class="fu">set.seed</span>(<span class="dv">574</span>)</span>
<span id="cb141-44"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb141-44" aria-hidden="true" tabindex="-1"></a>      ball_rf_model <span class="ot">&lt;-</span> <span class="fu">randomForest</span>(ball_called <span class="sc">~</span>., </span>
<span id="cb141-45"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb141-45" aria-hidden="true" tabindex="-1"></a>                         <span class="at">data =</span> ball_model_data, </span>
<span id="cb141-46"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb141-46" aria-hidden="true" tabindex="-1"></a>                         <span class="at">ntree =</span> <span class="dv">100</span>,</span>
<span id="cb141-47"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb141-47" aria-hidden="true" tabindex="-1"></a>                         <span class="at">nodesize =</span> <span class="dv">1</span>,</span>
<span id="cb141-48"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb141-48" aria-hidden="true" tabindex="-1"></a>                         <span class="at">mtry =</span> <span class="dv">47</span>,</span>
<span id="cb141-49"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb141-49" aria-hidden="true" tabindex="-1"></a>                         <span class="at">classwt =</span> <span class="fu">c</span>(wn, wy)) </span>
<span id="cb141-50"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb141-50" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb141-51"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb141-51" aria-hidden="true" tabindex="-1"></a>      test_row <span class="ot">&lt;-</span> bounded_results_matrix <span class="sc">%&gt;%</span></span>
<span id="cb141-52"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb141-52" aria-hidden="true" tabindex="-1"></a>       <span class="fu">filter</span>(player <span class="sc">==</span> player_list[i],</span>
<span id="cb141-53"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb141-53" aria-hidden="true" tabindex="-1"></a>               <span class="fu">as.character</span>(batter_side) <span class="sc">==</span> batter_list[i],</span>
<span id="cb141-54"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb141-54" aria-hidden="true" tabindex="-1"></a>               <span class="fu">as.character</span>(tagged_pitch_type) <span class="sc">==</span> pitch_list[i]) <span class="sc">%&gt;%</span></span>
<span id="cb141-55"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb141-55" aria-hidden="true" tabindex="-1"></a>        <span class="fu">select</span>(<span class="sc">-</span><span class="fu">c</span>(<span class="st">"preds"</span>, <span class="st">"player"</span>, <span class="st">"batter_side"</span>, <span class="st">"tagged_pitch_type"</span>, <span class="st">"model_number"</span>, <span class="st">"pitch_split"</span>))</span>
<span id="cb141-56"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb141-56" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-57"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb141-57" aria-hidden="true" tabindex="-1"></a>      ball_model_data <span class="ot">&lt;-</span> ball_model_data <span class="sc">%&gt;%</span></span>
<span id="cb141-58"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb141-58" aria-hidden="true" tabindex="-1"></a>        <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">25</span>, as.character)) <span class="sc">%&gt;%</span></span>
<span id="cb141-59"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb141-59" aria-hidden="true" tabindex="-1"></a>        <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">25</span>, as.integer))</span>
<span id="cb141-60"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb141-60" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-61"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb141-61" aria-hidden="true" tabindex="-1"></a>      test_row<span class="sc">$</span>ball_called <span class="ot">&lt;-</span> <span class="fu">as.factor</span>(<span class="dv">0</span>)</span>
<span id="cb141-62"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb141-62" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-63"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb141-63" aria-hidden="true" tabindex="-1"></a>      row_list <span class="ot">&lt;-</span> <span class="fu">vector</span>()</span>
<span id="cb141-64"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb141-64" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-65"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb141-65" aria-hidden="true" tabindex="-1"></a>      <span class="cf">for</span>(x <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">25</span>){</span>
<span id="cb141-66"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb141-66" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span>(<span class="fu">sum</span>(ball_model_data[, x]) <span class="sc">==</span> <span class="dv">0</span>){</span>
<span id="cb141-67"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb141-67" aria-hidden="true" tabindex="-1"></a>          row_list <span class="ot">&lt;-</span> <span class="fu">append</span>(row_list, x)</span>
<span id="cb141-68"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb141-68" aria-hidden="true" tabindex="-1"></a>          }</span>
<span id="cb141-69"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb141-69" aria-hidden="true" tabindex="-1"></a>      }</span>
<span id="cb141-70"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb141-70" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb141-71"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb141-71" aria-hidden="true" tabindex="-1"></a>      test_row<span class="sc">$</span>index <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="dv">1</span>, <span class="dv">25</span>)</span>
<span id="cb141-72"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb141-72" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb141-73"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb141-73" aria-hidden="true" tabindex="-1"></a>      test_row <span class="ot">&lt;-</span> test_row[<span class="sc">-</span>row_list, ]</span>
<span id="cb141-74"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb141-74" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-75"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb141-75" aria-hidden="true" tabindex="-1"></a>      test_row <span class="ot">&lt;-</span> test_row <span class="sc">%&gt;%</span></span>
<span id="cb141-76"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb141-76" aria-hidden="true" tabindex="-1"></a>        <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">25</span>, as.factor))</span>
<span id="cb141-77"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb141-77" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb141-78"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb141-78" aria-hidden="true" tabindex="-1"></a>      test_row_no_index <span class="ot">&lt;-</span> test_row <span class="sc">%&gt;%</span></span>
<span id="cb141-79"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb141-79" aria-hidden="true" tabindex="-1"></a>        <span class="fu">select</span>(<span class="sc">-</span>index)</span>
<span id="cb141-80"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb141-80" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb141-81"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb141-81" aria-hidden="true" tabindex="-1"></a>      ball_model_preds <span class="ot">&lt;-</span> <span class="fu">predict</span>(ball_rf_model, test_row_no_index, <span class="at">type =</span> <span class="st">"prob"</span>)</span>
<span id="cb141-82"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb141-82" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb141-83"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb141-83" aria-hidden="true" tabindex="-1"></a>      bounded_preds <span class="ot">&lt;-</span> <span class="fu">cbind</span>(test_row, ball_model_preds[ ,<span class="dv">2</span>])</span>
<span id="cb141-84"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb141-84" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb141-85"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb141-85" aria-hidden="true" tabindex="-1"></a>      <span class="fu">colnames</span>(bounded_preds) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fu">colnames</span>(test_row), <span class="st">"model_preds"</span>)</span>
<span id="cb141-86"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb141-86" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb141-87"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb141-87" aria-hidden="true" tabindex="-1"></a>      bounded_individual_pitchers_ball[[i]] <span class="ot">&lt;-</span> bounded_results_matrix <span class="sc">%&gt;%</span></span>
<span id="cb141-88"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb141-88" aria-hidden="true" tabindex="-1"></a>       <span class="fu">filter</span>(player <span class="sc">==</span> player_list[i],</span>
<span id="cb141-89"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb141-89" aria-hidden="true" tabindex="-1"></a>               <span class="fu">as.character</span>(batter_side) <span class="sc">==</span> batter_list[i],</span>
<span id="cb141-90"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb141-90" aria-hidden="true" tabindex="-1"></a>               <span class="fu">as.character</span>(tagged_pitch_type) <span class="sc">==</span> pitch_list[i])</span>
<span id="cb141-91"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb141-91" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb141-92"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb141-92" aria-hidden="true" tabindex="-1"></a>      <span class="cf">for</span>(z <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">25</span>){</span>
<span id="cb141-93"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb141-93" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span>(z <span class="sc">%in%</span> row_list){</span>
<span id="cb141-94"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb141-94" aria-hidden="true" tabindex="-1"></a>           bounded_individual_pitchers_ball[[i]][z, <span class="dv">53</span>] <span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb141-95"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb141-95" aria-hidden="true" tabindex="-1"></a>        } <span class="cf">else</span>{</span>
<span id="cb141-96"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb141-96" aria-hidden="true" tabindex="-1"></a>           bounded_individual_pitchers_ball[[i]][z, <span class="dv">53</span>] <span class="ot">&lt;-</span> <span class="fu">as.list</span>(bounded_preds[<span class="fu">which</span>(bounded_preds<span class="sc">$</span>index <span class="sc">==</span> z), <span class="dv">50</span>])</span>
<span id="cb141-97"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb141-97" aria-hidden="true" tabindex="-1"></a>        }</span>
<span id="cb141-98"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb141-98" aria-hidden="true" tabindex="-1"></a>      }</span>
<span id="cb141-99"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb141-99" aria-hidden="true" tabindex="-1"></a>      }</span>
<span id="cb141-100"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb141-100" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<pre><code>## [1] "Model Satisfies Conditions"
## 
## [1] "Model Satisfies Conditions"
## 
## [1] "Model Satisfies Conditions"
## 
## [1] "Model Satisfies Conditions"
## 
## [1] "Model Satisfies Conditions"
## 
## [1] "Model Satisfies Conditions"
## 
## [1] "Model Satisfies Conditions"
## 
## [1] "Model Satisfies Conditions"
## 
## [1] "Model Satisfies Conditions"
## 
## [1] "Model Satisfies Conditions"
## 
## [1] "Model Satisfies Conditions"
## 
## [1] "Model Satisfies Conditions"
## 
## [1] "Model Satisfies Conditions"
## 
## [1] "Model Satisfies Conditions"
## 
## [1] "Model Satisfies Conditions"
## 
## [1] "Model Satisfies Conditions"
## 
## Not Enough Data for  Jack Brannigan ,  Left ,  Slider Ball Model
## [1] "Model Satisfies Conditions"
## 
## [1] "Model Satisfies Conditions"
## 
## [1] "Model Satisfies Conditions"
## 
## [1] "Model Satisfies Conditions"
## 
## [1] "Model Satisfies Conditions"
## 
## [1] "Model Satisfies Conditions"
## 
## [1] "Model Satisfies Conditions"
## 
## [1] "Model Satisfies Conditions"
## 
## [1] "Model Satisfies Conditions"
## 
## [1] "Model Satisfies Conditions"
## 
## [1] "Model Satisfies Conditions"

## Warning: imputeTS: No imputation performed for column 41 because of this Error in na_mean(data[, i], option, maxgap): Input data has only NAs. Input data needs at least 1 non-NA data point for applying na_mean

## Warning: imputeTS: No imputation performed for column 42 because of this Error in na_mean(data[, i], option, maxgap): Input data has only NAs. Input data needs at least 1 non-NA data point for applying na_mean

## Warning: imputeTS: No imputation performed for column 43 because of this Error in na_mean(data[, i], option, maxgap): Input data has only NAs. Input data needs at least 1 non-NA data point for applying na_mean

## Warning: imputeTS: No imputation performed for column 44 because of this Error in na_mean(data[, i], option, maxgap): Input data has only NAs. Input data needs at least 1 non-NA data point for applying na_mean

## Warning: imputeTS: No imputation performed for column 45 because of this Error in na_mean(data[, i], option, maxgap): Input data has only NAs. Input data needs at least 1 non-NA data point for applying na_mean

## Warning: imputeTS: No imputation performed for column 46 because of this Error in na_mean(data[, i], option, maxgap): Input data has only NAs. Input data needs at least 1 non-NA data point for applying na_mean

## Warning: imputeTS: No imputation performed for column 47 because of this Error in na_mean(data[, i], option, maxgap): Input data has only NAs. Input data needs at least 1 non-NA data point for applying na_mean

## Not Enough Data for  Liam Simmon ,  Left ,  Fastball Ball Model

## Warning: imputeTS: No imputation performed for column 41 because of this Error in na_mean(data[, i], option, maxgap): Input data has only NAs. Input data needs at least 1 non-NA data point for applying na_mean

## Warning: imputeTS: No imputation performed for column 42 because of this Error in na_mean(data[, i], option, maxgap): Input data has only NAs. Input data needs at least 1 non-NA data point for applying na_mean

## Warning: imputeTS: No imputation performed for column 43 because of this Error in na_mean(data[, i], option, maxgap): Input data has only NAs. Input data needs at least 1 non-NA data point for applying na_mean

## Warning: imputeTS: No imputation performed for column 44 because of this Error in na_mean(data[, i], option, maxgap): Input data has only NAs. Input data needs at least 1 non-NA data point for applying na_mean

## Warning: imputeTS: No imputation performed for column 45 because of this Error in na_mean(data[, i], option, maxgap): Input data has only NAs. Input data needs at least 1 non-NA data point for applying na_mean

## Warning: imputeTS: No imputation performed for column 46 because of this Error in na_mean(data[, i], option, maxgap): Input data has only NAs. Input data needs at least 1 non-NA data point for applying na_mean

## Warning: imputeTS: No imputation performed for column 47 because of this Error in na_mean(data[, i], option, maxgap): Input data has only NAs. Input data needs at least 1 non-NA data point for applying na_mean

## Not Enough Data for  Liam Simmon ,  Right ,  Fastball Ball Model
## [1] "Model Satisfies Conditions"
## 
## [1] "Model Satisfies Conditions"
## 
## [1] "Model Satisfies Conditions"
## 
## [1] "Model Satisfies Conditions"
## 
## Not Enough Data for  Matt Lazzaro ,  Left ,  Curveball Ball Model
## [1] "Model Satisfies Conditions"
## 
## [1] "Model Satisfies Conditions"
## 
## [1] "Model Satisfies Conditions"
## 
## [1] "Model Satisfies Conditions"
## 
## [1] "Model Satisfies Conditions"
## 
## [1] "Model Satisfies Conditions"
## 
## [1] "Model Satisfies Conditions"
## 
## [1] "Model Satisfies Conditions"
## 
## [1] "Model Satisfies Conditions"
## 
## [1] "Model Satisfies Conditions"
## 
## [1] "Model Satisfies Conditions"
## 
## [1] "Model Satisfies Conditions"
## 
## [1] "Model Satisfies Conditions"
## 
## Not Enough Data for  Ryan McLinskey ,  Left ,  Slider Ball Model
## [1] "Model Satisfies Conditions"
## 
## Not Enough Data for  Sammy Cooper ,  Left ,  Fastball Ball Model
## Not Enough Data for  Sammy Cooper ,  Right ,  Fastball Ball Model
## Not Enough Data for  Sammy Cooper ,  Left ,  Slider Ball Model
## Not Enough Data for  Sammy Cooper ,  Right ,  Slider Ball Model
## [1] "Model Satisfies Conditions"
## 
## [1] "Model Satisfies Conditions"
## 
## [1] "Model Satisfies Conditions"
## 
## [1] "Model Satisfies Conditions"</code></pre>
<div class="sourceCode" id="cb143"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb143-1"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb143-1" aria-hidden="true" tabindex="-1"></a>final_bounded_results_matrix_ball <span class="ot">&lt;-</span> bounded_individual_pitchers_ball <span class="sc">%&gt;%</span></span>
<span id="cb143-2"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb143-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">bind_rows</span>() <span class="sc">%&gt;%</span></span>
<span id="cb143-3"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb143-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(preds))</span>
<span id="cb143-4"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb143-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb143-5"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb143-5" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(final_bounded_results_matrix_ball) <span class="ot">&lt;-</span> <span class="fu">str_replace</span>(<span class="fu">colnames</span>(final_bounded_results_matrix_ball), <span class="st">"postpitch_"</span>, <span class="st">""</span>)</span>
<span id="cb143-6"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb143-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb143-7"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb143-7" aria-hidden="true" tabindex="-1"></a>final_bounded_results_matrix_ball <span class="ot">&lt;-</span> final_bounded_results_matrix_ball <span class="sc">%&gt;%</span></span>
<span id="cb143-8"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb143-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">25</span>, <span class="at">names_to =</span> <span class="st">"column"</span>, <span class="at">values_to =</span> <span class="st">"in_zone"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb143-9"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb143-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(in_zone <span class="sc">!=</span> <span class="dv">0</span>) <span class="sc">%&gt;%</span></span>
<span id="cb143-10"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb143-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>in_zone) <span class="sc">%&gt;%</span></span>
<span id="cb143-11"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb143-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="st">"zone"</span> <span class="ot">=</span> column) <span class="sc">%&gt;%</span></span>
<span id="cb143-12"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb143-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">zone =</span> <span class="fu">as.integer</span>(zone)) <span class="sc">%&gt;%</span></span>
<span id="cb143-13"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb143-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(zone, player, batter_side, tagged_pitch_type, pitch_split, preds)</span></code></pre></div>
<h1 id="command-zone-rating-the-calculation">Command Zone Rating: The Calculation</h1>
<h2 id="component-1-magnitude---average-zone-difference">Component 1: Magnitude - Average Zone Difference</h2>
<p>The magnitude component of CZR comes in the form of average zone differential by pitcher across all pitches thrown, regardless of zone. This stand-alone value is calculated and appended to a table in the code below:</p>
<div class="sourceCode" id="cb144"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb144-1"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb144-1" aria-hidden="true" tabindex="-1"></a>final_zone_difference_table <span class="ot">&lt;-</span> metrics_reduced_model_data <span class="sc">%&gt;%</span></span>
<span id="cb144-2"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb144-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(team <span class="sc">==</span> <span class="st">"Notre Dame"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb144-3"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb144-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(player) <span class="sc">%&gt;%</span></span>
<span id="cb144-4"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb144-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">total_zone_diff =</span> <span class="fu">sum</span>(zone_diff, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb144-5"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb144-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">total_pitches =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb144-6"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb144-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(player, total_zone_diff, total_pitches) <span class="sc">%&gt;%</span></span>
<span id="cb144-7"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb144-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>() <span class="sc">%&gt;%</span></span>
<span id="cb144-8"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb144-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">zone_diff_per_pitch =</span> total_zone_diff <span class="sc">/</span> total_pitches) <span class="sc">%&gt;%</span></span>
<span id="cb144-9"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb144-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(zone_diff_per_pitch)</span></code></pre></div>
<h2 id="component-2-impact---command-score">Component 2: Impact - Command Score</h2>
<p>The average impact of a pitch thrown by pitchers is found by calculating the expected value of balls called and strikes hit for contact across all missed pitches, divided by the total number of pitches thrown across eligible pitcher, batter side, and pitch type combinations (those through which a model was built).</p>
<p>Command Score requires the total number of missed pitches in each zone by batter side and pitch type for all eligible pitchers, as stored below:</p>
<div class="sourceCode" id="cb145"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb145-1"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb145-1" aria-hidden="true" tabindex="-1"></a>final_misses_thrown_by_zone_side_type <span class="ot">&lt;-</span> metrics_reduced_model_data <span class="sc">%&gt;%</span></span>
<span id="cb145-2"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb145-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(team <span class="sc">==</span> <span class="st">"Notre Dame"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb145-3"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb145-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(zone_diff <span class="sc">&gt;</span> <span class="dv">0</span>) <span class="sc">%&gt;%</span></span>
<span id="cb145-4"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb145-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(player, batter_side, tagged_pitch_type, postpitch) <span class="sc">%&gt;%</span></span>
<span id="cb145-5"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb145-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">total_misses_by_zone_side_type =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb145-6"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb145-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">drop_na</span>() <span class="sc">%&gt;%</span></span>
<span id="cb145-7"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb145-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="st">"zone"</span> <span class="ot">=</span> postpitch)</span></code></pre></div>
<pre><code>## `summarise()` has grouped output by 'player', 'batter_side', 'tagged_pitch_type'. You can override using the `.groups` argument.</code></pre>
<p>The Score also requires the total number of pitches thrown in a zone by batter side and tagged pitch type, regardless of it being classified by a miss in the model:</p>
<div class="sourceCode" id="cb147"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb147-1"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb147-1" aria-hidden="true" tabindex="-1"></a>final_pitches_thrown_by_zone_side_type <span class="ot">&lt;-</span> metrics_reduced_model_data <span class="sc">%&gt;%</span></span>
<span id="cb147-2"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb147-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(team <span class="sc">==</span> <span class="st">"Notre Dame"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb147-3"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb147-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(player, batter_side, tagged_pitch_type, postpitch) <span class="sc">%&gt;%</span></span>
<span id="cb147-4"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb147-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">total_pitches_by_zone_side_type =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb147-5"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb147-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">drop_na</span>() <span class="sc">%&gt;%</span></span>
<span id="cb147-6"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb147-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="st">"zone"</span> <span class="ot">=</span> postpitch)</span></code></pre></div>
<pre><code>## `summarise()` has grouped output by 'player', 'batter_side', 'tagged_pitch_type'. You can override using the `.groups` argument.</code></pre>
<p>We are able to gather all of our necessary components for CZR into one dataframe through nested joins, as performed here on the final matrices of bounded predictions from the models built on pitcher, batter side, and pitch type combinations above:</p>
<div class="sourceCode" id="cb149"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb149-1"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb149-1" aria-hidden="true" tabindex="-1"></a>final_bounded_results_matrix_strike <span class="ot">&lt;-</span> final_bounded_results_matrix_strike <span class="sc">%&gt;%</span></span>
<span id="cb149-2"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb149-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(final_zone_difference_table, </span>
<span id="cb149-3"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb149-3" aria-hidden="true" tabindex="-1"></a>            <span class="at">by =</span> <span class="st">"player"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb149-4"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb149-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(final_misses_thrown_by_zone_side_type,</span>
<span id="cb149-5"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb149-5" aria-hidden="true" tabindex="-1"></a>            <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"player"</span>, <span class="st">"batter_side"</span>, <span class="st">"tagged_pitch_type"</span>, <span class="st">"zone"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb149-6"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb149-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(final_pitches_thrown_by_zone_side_type,</span>
<span id="cb149-7"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb149-7" aria-hidden="true" tabindex="-1"></a>            <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"player"</span>, <span class="st">"batter_side"</span>, <span class="st">"tagged_pitch_type"</span>, <span class="st">"zone"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb149-8"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb149-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span><span class="fu">c</span>(<span class="st">"total_pitches"</span>, <span class="st">"pitch_split"</span>))</span>
<span id="cb149-9"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb149-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb149-10"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb149-10" aria-hidden="true" tabindex="-1"></a>final_bounded_results_matrix_ball <span class="ot">&lt;-</span> final_bounded_results_matrix_ball <span class="sc">%&gt;%</span></span>
<span id="cb149-11"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb149-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(final_zone_difference_table, </span>
<span id="cb149-12"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb149-12" aria-hidden="true" tabindex="-1"></a>            <span class="at">by =</span> <span class="st">"player"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb149-13"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb149-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(final_misses_thrown_by_zone_side_type,</span>
<span id="cb149-14"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb149-14" aria-hidden="true" tabindex="-1"></a>            <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"player"</span>, <span class="st">"batter_side"</span>, <span class="st">"tagged_pitch_type"</span>, <span class="st">"zone"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb149-15"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb149-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(final_pitches_thrown_by_zone_side_type,</span>
<span id="cb149-16"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb149-16" aria-hidden="true" tabindex="-1"></a>            <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"player"</span>, <span class="st">"batter_side"</span>, <span class="st">"tagged_pitch_type"</span>, <span class="st">"zone"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb149-17"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb149-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span><span class="fu">c</span>(<span class="st">"total_pitches"</span>, <span class="st">"pitch_split"</span>))</span>
<span id="cb149-18"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb149-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb149-19"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb149-19" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(final_bounded_results_matrix_strike, <span class="dv">20</span>)</span></code></pre></div>
<pre><code>## # A tibble: 20 x 9
##     zone player       batter_side tagged_pitch_type preds total_zone_diff
##    &lt;int&gt; &lt;chr&gt;        &lt;fct&gt;       &lt;fct&gt;             &lt;dbl&gt;           &lt;int&gt;
##  1     7 Aidan Tyrell Left        Fastball           0.39             268
##  2     9 Aidan Tyrell Left        Fastball           0.39             268
##  3    13 Aidan Tyrell Left        Fastball           0.39             268
##  4    18 Aidan Tyrell Left        Fastball           0.39             268
##  5     8 Aidan Tyrell Right       Fastball           0.45             268
##  6    12 Aidan Tyrell Right       Fastball           0.45             268
##  7    13 Aidan Tyrell Right       Fastball           0.45             268
##  8    14 Aidan Tyrell Right       Fastball           0.45             268
##  9    17 Aidan Tyrell Right       Fastball           0.45             268
## 10    18 Aidan Tyrell Right       Fastball           0.45             268
## 11    19 Aidan Tyrell Right       Fastball           0.45             268
## 12     7 Aidan Tyrell Left        Slider             0.38             268
## 13     9 Aidan Tyrell Left        Slider             0.4              268
## 14    14 Aidan Tyrell Left        Slider             0.4              268
## 15    17 Aidan Tyrell Left        Slider             0.4              268
## 16    18 Aidan Tyrell Left        Slider             0.4              268
## 17    19 Aidan Tyrell Left        Slider             0.4              268
## 18    12 Alex Rao     Left        ChangeUp           0.11             273
## 19    14 Alex Rao     Left        ChangeUp           0.11             273
## 20    18 Alex Rao     Left        ChangeUp           0.11             273
## # ... with 3 more variables: zone_diff_per_pitch &lt;dbl&gt;,
## #   total_misses_by_zone_side_type &lt;int&gt;, total_pitches_by_zone_side_type &lt;int&gt;</code></pre>
<div class="sourceCode" id="cb151"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb151-1"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb151-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(final_bounded_results_matrix_ball, <span class="dv">50</span>)</span></code></pre></div>
<pre><code>## # A tibble: 50 x 9
##     zone player       batter_side tagged_pitch_type preds total_zone_diff
##    &lt;int&gt; &lt;chr&gt;        &lt;fct&gt;       &lt;fct&gt;             &lt;dbl&gt;           &lt;int&gt;
##  1     3 Aidan Tyrell Left        Fastball           0.98             268
##  2     4 Aidan Tyrell Left        Fastball           0.98             268
##  3     5 Aidan Tyrell Left        Fastball           0.98             268
##  4    10 Aidan Tyrell Left        Fastball           0.96             268
##  5    11 Aidan Tyrell Left        Fastball           0.98             268
##  6    15 Aidan Tyrell Left        Fastball           0.98             268
##  7    20 Aidan Tyrell Left        Fastball           0.98             268
##  8    22 Aidan Tyrell Left        Fastball           0.98             268
##  9    24 Aidan Tyrell Left        Fastball           0.98             268
## 10    25 Aidan Tyrell Left        Fastball           0.98             268
## # ... with 40 more rows, and 3 more variables: zone_diff_per_pitch &lt;dbl&gt;,
## #   total_misses_by_zone_side_type &lt;int&gt;, total_pitches_by_zone_side_type &lt;int&gt;</code></pre>
<div class="sourceCode" id="cb153"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb153-1"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb153-1" aria-hidden="true" tabindex="-1"></a>final_bounded_results <span class="ot">&lt;-</span> <span class="fu">rbind</span>(final_bounded_results_matrix_ball, final_bounded_results_matrix_strike)</span>
<span id="cb153-2"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb153-2" aria-hidden="true" tabindex="-1"></a>final_bounded_results <span class="ot">&lt;-</span> final_bounded_results <span class="sc">%&gt;%</span></span>
<span id="cb153-3"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb153-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(player)</span>
<span id="cb153-4"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb153-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb153-5"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb153-5" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(final_bounded_results)</span></code></pre></div>
<pre><code>## # A tibble: 6 x 9
##    zone player       batter_side tagged_pitch_type preds total_zone_diff
##   &lt;int&gt; &lt;chr&gt;        &lt;fct&gt;       &lt;fct&gt;             &lt;dbl&gt;           &lt;int&gt;
## 1     3 Aidan Tyrell Left        Fastball           0.98             268
## 2     4 Aidan Tyrell Left        Fastball           0.98             268
## 3     5 Aidan Tyrell Left        Fastball           0.98             268
## 4    10 Aidan Tyrell Left        Fastball           0.96             268
## 5    11 Aidan Tyrell Left        Fastball           0.98             268
## 6    15 Aidan Tyrell Left        Fastball           0.98             268
## # ... with 3 more variables: zone_diff_per_pitch &lt;dbl&gt;,
## #   total_misses_by_zone_side_type &lt;int&gt;, total_pitches_by_zone_side_type &lt;int&gt;</code></pre>
<p>The above data frame provides all individual pieces of CZR. To calculate Command Score, multiply the predictions by their corresponding quantities of missed pitches within the zone, and sum the products together in the form of a linear combination (Total Probability)</p>
<div class="sourceCode" id="cb155"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb155-1"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb155-1" aria-hidden="true" tabindex="-1"></a>final_metric_command_scores <span class="ot">&lt;-</span> final_bounded_results <span class="sc">%&gt;%</span></span>
<span id="cb155-2"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb155-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">command_score_total =</span> (preds <span class="sc">*</span> total_misses_by_zone_side_type)) <span class="sc">%&gt;%</span></span>
<span id="cb155-3"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb155-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(player) <span class="sc">%&gt;%</span></span>
<span id="cb155-4"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb155-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">total_probability =</span> <span class="fu">sum</span>(command_score_total))</span></code></pre></div>
<p>Find the total number of pitches thrown across eligible pitch type, player, batter side combinations, storing the sums in a table for the CZR calculation:</p>
<div class="sourceCode" id="cb156"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb156-1"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb156-1" aria-hidden="true" tabindex="-1"></a>final_metric_command_scores_scales <span class="ot">&lt;-</span> final_bounded_results<span class="sc">%&gt;%</span></span>
<span id="cb156-2"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb156-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(player) <span class="sc">%&gt;%</span></span>
<span id="cb156-3"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb156-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">total_pitches =</span> <span class="fu">sum</span>(total_pitches_by_zone_side_type))</span></code></pre></div>
<p>The following code calculates the Command Score for each pitcher by dividing the total expected balls called and strikes for contact on misses by the total number of pitches thrown.</p>
<p>We also calculate the Command Zone Rating (CZR) by multiplying the Command Score of a given pitcher (the Impact) by their corresponding Average Zone Differential per pitch (the Magnitude):</p>
<div class="sourceCode" id="cb157"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb157-1"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb157-1" aria-hidden="true" tabindex="-1"></a>final_czr_table <span class="ot">&lt;-</span> final_bounded_results <span class="sc">%&gt;%</span></span>
<span id="cb157-2"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb157-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(final_metric_command_scores,</span>
<span id="cb157-3"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb157-3" aria-hidden="true" tabindex="-1"></a>            <span class="at">by =</span> <span class="st">"player"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb157-4"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb157-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(final_metric_command_scores_scales,</span>
<span id="cb157-5"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb157-5" aria-hidden="true" tabindex="-1"></a>            <span class="at">by =</span> <span class="st">"player"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb157-6"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb157-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span><span class="fu">c</span>(total_misses_by_zone_side_type, total_pitches_by_zone_side_type, zone, batter_side, tagged_pitch_type, total_zone_diff, preds)) <span class="sc">%&gt;%</span></span>
<span id="cb157-7"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb157-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>() <span class="sc">%&gt;%</span></span>
<span id="cb157-8"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb157-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">command_score =</span> total_probability <span class="sc">/</span> total_pitches,</span>
<span id="cb157-9"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb157-9" aria-hidden="true" tabindex="-1"></a>         <span class="at">command_zone_rating =</span> command_score <span class="sc">*</span> zone_diff_per_pitch) <span class="sc">%&gt;%</span></span>
<span id="cb157-10"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb157-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(player, command_score, zone_diff_per_pitch, command_zone_rating) <span class="sc">%&gt;%</span></span>
<span id="cb157-11"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb157-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(command_zone_rating)</span>
<span id="cb157-12"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb157-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb157-13"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb157-13" aria-hidden="true" tabindex="-1"></a>final_czr_table</span></code></pre></div>
<pre><code>## # A tibble: 14 x 4
##    player                command_score zone_diff_per_pitch command_zone_rating
##    &lt;chr&gt;                         &lt;dbl&gt;               &lt;dbl&gt;               &lt;dbl&gt;
##  1 Liam Simon                    0.409                2.43               0.994
##  2 Radek Birkholz                0.406                2.58               1.04 
##  3 Roman Kimball                 0.466                2.30               1.07 
##  4 Jackson Dennies               0.486                2.38               1.16 
##  5 Jack Brannigan                0.523                2.37               1.24 
##  6 Austin Temple                 0.586                2.16               1.26 
##  7 Jack Findlay                  0.578                2.22               1.28 
##  8 Alex Rao                      0.553                2.35               1.30 
##  9 Ryan McLinskey                0.632                2.30               1.46 
## 10 John Michael Bertrand         0.610                2.48               1.51 
## 11 Will Mercer                   0.683                2.21               1.51 
## 12 Aidan Tyrell                  0.642                2.39               1.54 
## 13 Sammy Cooper                  0.75                 2.08               1.56 
## 14 Matt Lazzaro                  0.697                2.47               1.72</code></pre>
<div class="sourceCode" id="cb159"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb159-1"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb159-1" aria-hidden="true" tabindex="-1"></a>final_czr_table_mean <span class="ot">&lt;-</span> final_czr_table <span class="sc">%&gt;%</span></span>
<span id="cb159-2"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb159-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">mean_czr =</span> <span class="fu">mean</span>(command_zone_rating))</span>
<span id="cb159-3"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb159-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb159-4"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb159-4" aria-hidden="true" tabindex="-1"></a>final_czr_table<span class="sc">$</span>mean_czr <span class="ot">&lt;-</span> <span class="fu">rep</span>(final_czr_table_mean<span class="sc">$</span>mean_czr[<span class="dv">1</span>], <span class="fu">nrow</span>(final_czr_table))</span></code></pre></div>
<p>While the raw scores of CZR may prove satisfactory, normalizing the results on a 100 scale may make the CZR scores more interpretable. Hence, we find the CZR+ scores here:</p>
<div class="sourceCode" id="cb160"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb160-1"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb160-1" aria-hidden="true" tabindex="-1"></a>final_czr_table <span class="ot">&lt;-</span> final_czr_table <span class="sc">%&gt;%</span></span>
<span id="cb160-2"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb160-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">command_zone_rating_normalized =</span> <span class="fu">round</span>(command_zone_rating <span class="sc">*</span> <span class="dv">100</span> <span class="sc">/</span> mean_czr, <span class="dv">0</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb160-3"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb160-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>mean_czr)</span>
<span id="cb160-4"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb160-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb160-5"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb160-5" aria-hidden="true" tabindex="-1"></a>final_czr_table</span></code></pre></div>
<pre><code>## # A tibble: 14 x 5
##    player    command_score zone_diff_per_pi~ command_zone_ra~ command_zone_rati~
##    &lt;chr&gt;             &lt;dbl&gt;             &lt;dbl&gt;            &lt;dbl&gt;              &lt;dbl&gt;
##  1 Liam Sim~         0.409              2.43            0.994                 75
##  2 Radek Bi~         0.406              2.58            1.04                  78
##  3 Roman Ki~         0.466              2.30            1.07                  80
##  4 Jackson ~         0.486              2.38            1.16                  87
##  5 Jack Bra~         0.523              2.37            1.24                  93
##  6 Austin T~         0.586              2.16            1.26                  95
##  7 Jack Fin~         0.578              2.22            1.28                  96
##  8 Alex Rao          0.553              2.35            1.30                  98
##  9 Ryan McL~         0.632              2.30            1.46                 109
## 10 John Mic~         0.610              2.48            1.51                 113
## 11 Will Mer~         0.683              2.21            1.51                 114
## 12 Aidan Ty~         0.642              2.39            1.54                 115
## 13 Sammy Co~         0.75               2.08            1.56                 117
## 14 Matt Laz~         0.697              2.47            1.72                 129</code></pre>
<p>As such, scores below 100 correspond to above-average command. Scores above 100 correspond to below-average command.</p>
<p>We can arrange this final table by each component of the CZR (Impact and Magnitude):</p>
<div class="sourceCode" id="cb162"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb162-1"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb162-1" aria-hidden="true" tabindex="-1"></a>final_czr_table <span class="sc">%&gt;%</span></span>
<span id="cb162-2"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb162-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(command_score)</span></code></pre></div>
<pre><code>## # A tibble: 14 x 5
##    player    command_score zone_diff_per_pi~ command_zone_ra~ command_zone_rati~
##    &lt;chr&gt;             &lt;dbl&gt;             &lt;dbl&gt;            &lt;dbl&gt;              &lt;dbl&gt;
##  1 Radek Bi~         0.406              2.58            1.04                  78
##  2 Liam Sim~         0.409              2.43            0.994                 75
##  3 Roman Ki~         0.466              2.30            1.07                  80
##  4 Jackson ~         0.486              2.38            1.16                  87
##  5 Jack Bra~         0.523              2.37            1.24                  93
##  6 Alex Rao          0.553              2.35            1.30                  98
##  7 Jack Fin~         0.578              2.22            1.28                  96
##  8 Austin T~         0.586              2.16            1.26                  95
##  9 John Mic~         0.610              2.48            1.51                 113
## 10 Ryan McL~         0.632              2.30            1.46                 109
## 11 Aidan Ty~         0.642              2.39            1.54                 115
## 12 Will Mer~         0.683              2.21            1.51                 114
## 13 Matt Laz~         0.697              2.47            1.72                 129
## 14 Sammy Co~         0.75               2.08            1.56                 117</code></pre>
<div class="sourceCode" id="cb164"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb164-1"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb164-1" aria-hidden="true" tabindex="-1"></a>final_czr_table <span class="sc">%&gt;%</span></span>
<span id="cb164-2"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb164-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(zone_diff_per_pitch)</span></code></pre></div>
<pre><code>## # A tibble: 14 x 5
##    player    command_score zone_diff_per_pi~ command_zone_ra~ command_zone_rati~
##    &lt;chr&gt;             &lt;dbl&gt;             &lt;dbl&gt;            &lt;dbl&gt;              &lt;dbl&gt;
##  1 Sammy Co~         0.75               2.08            1.56                 117
##  2 Austin T~         0.586              2.16            1.26                  95
##  3 Will Mer~         0.683              2.21            1.51                 114
##  4 Jack Fin~         0.578              2.22            1.28                  96
##  5 Roman Ki~         0.466              2.30            1.07                  80
##  6 Ryan McL~         0.632              2.30            1.46                 109
##  7 Alex Rao          0.553              2.35            1.30                  98
##  8 Jack Bra~         0.523              2.37            1.24                  93
##  9 Jackson ~         0.486              2.38            1.16                  87
## 10 Aidan Ty~         0.642              2.39            1.54                 115
## 11 Liam Sim~         0.409              2.43            0.994                 75
## 12 Matt Laz~         0.697              2.47            1.72                 129
## 13 John Mic~         0.610              2.48            1.51                 113
## 14 Radek Bi~         0.406              2.58            1.04                  78</code></pre>
<h1 id="command-zone-rating-visualizations-for-analysis">Command Zone Rating: Visualizations for Analysis</h1>
<h2 id="preliminary-visualizations">Preliminary Visualizations</h2>
<p>As with any new metric, we are interested in determining if any relationship exists between the results of CZR and established pitching performance metrics (in this case, ERA and WHIP).</p>
<p>We will begin by plotting ERA and WHIP over time to gain an understanding of the metrics’ development alongside team failures and successes:</p>
<div class="sourceCode" id="cb166"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb166-1"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb166-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Aggregate ERA by game date</span></span>
<span id="cb166-2"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb166-2" aria-hidden="true" tabindex="-1"></a>agg_era <span class="ot">&lt;-</span></span>
<span id="cb166-3"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb166-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">aggregate</span>(pregamepitching<span class="sc">$</span>pre_era_pitch, <span class="fu">list</span>(<span class="st">"Game Date"</span> <span class="ot">=</span> pregamepitching<span class="sc">$</span>date), mean, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb166-4"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb166-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb166-5"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb166-5" aria-hidden="true" tabindex="-1"></a>agg_era</span></code></pre></div>
<pre><code>##    Game Date         x
## 1  3/25/2022  5.700294
## 2  3/29/2022  7.062500
## 3  4/10/2022  4.620312
## 4  4/12/2022  9.931613
## 5  4/19/2022  9.575588
## 6  4/20/2022 12.179722
## 7  4/22/2022  8.638438
## 8  4/23/2022  8.634375
## 9  4/24/2022  8.573226
## 10 4/25/2022  8.640000
## 11  4/5/2022  8.083429
## 12  4/8/2022  4.589062
## 13  4/9/2022  4.579063</code></pre>
<div class="sourceCode" id="cb168"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb168-1"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb168-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create time series plot</span></span>
<span id="cb168-2"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb168-2" aria-hidden="true" tabindex="-1"></a>gg1 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(<span class="at">data =</span> agg_era, <span class="fu">aes</span>(<span class="at">x =</span> agg_era<span class="sc">$</span><span class="st">`</span><span class="at">Game Date</span><span class="st">`</span>, <span class="at">y =</span> agg_era<span class="sc">$</span>x, <span class="at">group =</span> <span class="dv">1</span>)) <span class="sc">+</span></span>
<span id="cb168-3"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb168-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">linetype =</span> <span class="st">"dashed"</span>, <span class="at">color =</span> <span class="st">"navy"</span>) <span class="sc">+</span></span>
<span id="cb168-4"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb168-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">color =</span> <span class="st">"gold"</span>) <span class="sc">+</span></span>
<span id="cb168-5"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb168-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">"Game Date"</span>) <span class="sc">+</span></span>
<span id="cb168-6"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb168-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">"Team ERA"</span>) <span class="sc">+</span></span>
<span id="cb168-7"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb168-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Team Average ERA Over the Season"</span>) <span class="sc">+</span></span>
<span id="cb168-8"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb168-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.line =</span> <span class="fu">element_line</span>(<span class="at">colour =</span> <span class="st">"black"</span>), <span class="co"># Set axis line as black</span></span>
<span id="cb168-9"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb168-9" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.grid.major =</span> <span class="fu">element_blank</span>(), <span class="co"># Remove grid</span></span>
<span id="cb168-10"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb168-10" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.grid.minor =</span> <span class="fu">element_blank</span>(), <span class="co"># Remove grid</span></span>
<span id="cb168-11"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb168-11" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.border =</span> <span class="fu">element_blank</span>(), <span class="co"># Remove grid</span></span>
<span id="cb168-12"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb168-12" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.background =</span> <span class="fu">element_blank</span>())</span>
<span id="cb168-13"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb168-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb168-14"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb168-14" aria-hidden="true" tabindex="-1"></a>gg1</span></code></pre></div>
<pre><code>## Warning: Use of `agg_era$`Game Date`` is discouraged. Use `Game Date` instead.

## Warning: Use of `agg_era$x` is discouraged. Use `x` instead.

## Warning: Use of `agg_era$`Game Date`` is discouraged. Use `Game Date` instead.

## Warning: Use of `agg_era$x` is discouraged. Use `x` instead.</code></pre>
<p><img src="data:image/png;base64,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"><!-- --></p>
<p>Noteworthy performances may be added accordingly below:</p>
<div class="sourceCode" id="cb170"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb170-1"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb170-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Aggregate ERA by game date</span></span>
<span id="cb170-2"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb170-2" aria-hidden="true" tabindex="-1"></a>agg_era <span class="ot">&lt;-</span></span>
<span id="cb170-3"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb170-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">aggregate</span>(pregamepitching<span class="sc">$</span>pre_era_pitch, <span class="fu">list</span>(<span class="st">"Game Date"</span> <span class="ot">=</span> pregamepitching<span class="sc">$</span>date), mean, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb170-4"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb170-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb170-5"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb170-5" aria-hidden="true" tabindex="-1"></a>agg_era <span class="ot">&lt;-</span> agg_era <span class="sc">%&gt;%</span></span>
<span id="cb170-6"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb170-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">clean_names</span>() <span class="sc">%&gt;%</span></span>
<span id="cb170-7"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb170-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">game_date =</span> <span class="fu">mdy</span>(game_date))</span>
<span id="cb170-8"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb170-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb170-9"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb170-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Create time series plot</span></span>
<span id="cb170-10"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb170-10" aria-hidden="true" tabindex="-1"></a>gg2 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(<span class="at">data =</span> agg_era, <span class="fu">aes</span>(<span class="at">x =</span> agg_era<span class="sc">$</span>game_date, <span class="at">y =</span> agg_era<span class="sc">$</span>x, <span class="at">group =</span> <span class="dv">1</span>)) <span class="sc">+</span></span>
<span id="cb170-11"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb170-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">linetype =</span> <span class="st">"dashed"</span>, <span class="at">color =</span> <span class="st">"navy"</span>) <span class="sc">+</span></span>
<span id="cb170-12"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb170-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">color =</span> <span class="st">"gold"</span>) <span class="sc">+</span></span>
<span id="cb170-13"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb170-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">"Game Date"</span>) <span class="sc">+</span></span>
<span id="cb170-14"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb170-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">"Team ERA"</span>) <span class="sc">+</span></span>
<span id="cb170-15"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb170-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Team Average ERA Over the Season"</span>) <span class="sc">+</span></span>
<span id="cb170-16"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb170-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.line =</span> <span class="fu">element_line</span>(<span class="at">colour =</span> <span class="st">"black"</span>), <span class="co"># Set axis line as black</span></span>
<span id="cb170-17"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb170-17" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.grid.major =</span> <span class="fu">element_blank</span>(), <span class="co"># Remove grid</span></span>
<span id="cb170-18"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb170-18" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.grid.minor =</span> <span class="fu">element_blank</span>(), <span class="co"># Remove grid</span></span>
<span id="cb170-19"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb170-19" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.border =</span> <span class="fu">element_blank</span>(), <span class="co"># Remove grid</span></span>
<span id="cb170-20"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb170-20" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.background =</span> <span class="fu">element_blank</span>()) <span class="sc">+</span></span>
<span id="cb170-21"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb170-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_vline</span>(<span class="at">xintercept =</span> <span class="fu">mdy</span>(<span class="st">"4/19/2022"</span>), <span class="at">color =</span> <span class="st">"red"</span>) <span class="sc">+</span></span>
<span id="cb170-22"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb170-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">mdy</span>(<span class="st">"4/12/2022"</span>), <span class="at">y =</span> <span class="fl">11.0</span> , <span class="at">label =</span> <span class="st">"Duke Weekend Ends: 25 Runs Allowed"</span>), <span class="at">color =</span> <span class="st">"red"</span>)  </span>
<span id="cb170-23"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb170-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb170-24"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb170-24" aria-hidden="true" tabindex="-1"></a>gg2</span></code></pre></div>
<pre><code>## Warning: Use of `agg_era$game_date` is discouraged. Use `game_date` instead.

## Warning: Use of `agg_era$x` is discouraged. Use `x` instead.

## Warning: Use of `agg_era$game_date` is discouraged. Use `game_date` instead.

## Warning: Use of `agg_era$x` is discouraged. Use `x` instead.</code></pre>
<p><img src="data:image/png;base64,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"><!-- --></p>
<p>For greater granularity, we will investigate the average ERA by pitcher over time:</p>
<div class="sourceCode" id="cb172"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb172-1"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb172-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Aggregate ERA by game date and pitcher</span></span>
<span id="cb172-2"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb172-2" aria-hidden="true" tabindex="-1"></a>agg_plyr_era <span class="ot">&lt;-</span> <span class="fu">aggregate</span>(pregamepitching<span class="sc">$</span>pre_era_pitch <span class="sc">~</span> pregamepitching<span class="sc">$</span>date <span class="sc">+</span> pregamepitching<span class="sc">$</span>player, <span class="at">data =</span> pregamepitching, <span class="at">FUN =</span> mean, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb172-3"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb172-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb172-4"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb172-4" aria-hidden="true" tabindex="-1"></a>agg_plyr_era <span class="ot">&lt;-</span> agg_plyr_era <span class="sc">%&gt;%</span></span>
<span id="cb172-5"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb172-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">clean_names</span>() <span class="sc">%&gt;%</span></span>
<span id="cb172-6"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb172-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">game_date =</span> <span class="st">"pregamepitching_date"</span>,</span>
<span id="cb172-7"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb172-7" aria-hidden="true" tabindex="-1"></a>         <span class="at">player =</span> <span class="st">"pregamepitching_player"</span>,</span>
<span id="cb172-8"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb172-8" aria-hidden="true" tabindex="-1"></a>         <span class="at">pre_era_pitch =</span> <span class="st">"pregamepitching_pre_era_pitch"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb172-9"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb172-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">game_date =</span> <span class="fu">mdy</span>(game_date))</span>
<span id="cb172-10"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb172-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb172-11"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb172-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Create data sets for starting pitchers</span></span>
<span id="cb172-12"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb172-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb172-13"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb172-13" aria-hidden="true" tabindex="-1"></a>tyrell_era <span class="ot">&lt;-</span> agg_plyr_era <span class="sc">%&gt;%</span> </span>
<span id="cb172-14"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb172-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(player <span class="sc">==</span> <span class="st">"Aidan Tyrell"</span>)</span>
<span id="cb172-15"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb172-15" aria-hidden="true" tabindex="-1"></a>tyrell_era</span></code></pre></div>
<pre><code>##     game_date       player pre_era_pitch
## 1  2022-03-25 Aidan Tyrell          3.86
## 2  2022-03-29 Aidan Tyrell          4.15
## 3  2022-04-10 Aidan Tyrell          3.29
## 4  2022-04-19 Aidan Tyrell          3.23
## 5  2022-04-20 Aidan Tyrell          3.03
## 6  2022-04-22 Aidan Tyrell          3.03
## 7  2022-04-23 Aidan Tyrell          3.03
## 8  2022-04-24 Aidan Tyrell          3.15
## 9  2022-04-05 Aidan Tyrell          3.29
## 10 2022-04-08 Aidan Tyrell          3.29
## 11 2022-04-09 Aidan Tyrell          3.29</code></pre>
<div class="sourceCode" id="cb174"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb174-1"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb174-1" aria-hidden="true" tabindex="-1"></a>temple_era <span class="ot">&lt;-</span> agg_plyr_era <span class="sc">%&gt;%</span> </span>
<span id="cb174-2"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb174-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(player <span class="sc">==</span> <span class="st">"Austin Temple"</span>)</span>
<span id="cb174-3"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb174-3" aria-hidden="true" tabindex="-1"></a>temple_era</span></code></pre></div>
<pre><code>##     game_date        player pre_era_pitch
## 1  2022-03-25 Austin Temple          2.42
## 2  2022-03-29 Austin Temple          2.42
## 3  2022-04-10 Austin Temple          2.76
## 4  2022-04-19 Austin Temple          3.03
## 5  2022-04-20 Austin Temple          3.03
## 6  2022-04-22 Austin Temple          3.03
## 7  2022-04-23 Austin Temple          3.03
## 8  2022-04-24 Austin Temple          3.00
## 9  2022-04-05 Austin Temple          3.42
## 10 2022-04-08 Austin Temple          3.29
## 11 2022-04-09 Austin Temple          3.29</code></pre>
<div class="sourceCode" id="cb176"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb176-1"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb176-1" aria-hidden="true" tabindex="-1"></a>jm_era <span class="ot">&lt;-</span> agg_plyr_era <span class="sc">%&gt;%</span> </span>
<span id="cb176-2"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb176-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(player <span class="sc">==</span> <span class="st">"John Michael Bertrand"</span>)</span>
<span id="cb176-3"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb176-3" aria-hidden="true" tabindex="-1"></a>jm_era</span></code></pre></div>
<pre><code>##    game_date                player pre_era_pitch
## 1 2022-03-25 John Michael Bertrand          1.72
## 2 2022-03-29 John Michael Bertrand          2.19
## 3 2022-04-20 John Michael Bertrand          1.68
## 4 2022-04-05 John Michael Bertrand          1.81
## 5 2022-04-08 John Michael Bertrand          1.81
## 6 2022-04-09 John Michael Bertrand          1.53</code></pre>
<div class="sourceCode" id="cb178"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb178-1"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb178-1" aria-hidden="true" tabindex="-1"></a>findlay_era <span class="ot">&lt;-</span> agg_plyr_era <span class="sc">%&gt;%</span> </span>
<span id="cb178-2"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb178-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(player <span class="sc">==</span> <span class="st">"Jack Findlay"</span>)</span>
<span id="cb178-3"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb178-3" aria-hidden="true" tabindex="-1"></a>findlay_era</span></code></pre></div>
<pre><code>##     game_date       player pre_era_pitch
## 1  2022-03-25 Jack Findlay          0.00
## 2  2022-03-29 Jack Findlay          0.00
## 3  2022-04-10 Jack Findlay          0.73
## 4  2022-04-12 Jack Findlay          0.73
## 5  2022-04-19 Jack Findlay          0.64
## 6  2022-04-20 Jack Findlay          0.64
## 7  2022-04-22 Jack Findlay          0.53
## 8  2022-04-23 Jack Findlay          0.53
## 9  2022-04-24 Jack Findlay          0.44
## 10 2022-04-05 Jack Findlay          0.96
## 11 2022-04-08 Jack Findlay          0.73
## 12 2022-04-09 Jack Findlay          0.73</code></pre>
<div class="sourceCode" id="cb180"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb180-1"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb180-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot average ERA for starters over the season</span></span>
<span id="cb180-2"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb180-2" aria-hidden="true" tabindex="-1"></a>gg2 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb180-3"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb180-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">data =</span> tyrell_era, <span class="fu">aes</span>(<span class="at">x =</span> game_date, <span class="at">y =</span> pre_era_pitch, <span class="at">group =</span> <span class="dv">1</span>, <span class="at">colour =</span> <span class="st">"Tyrell"</span>), <span class="at">size =</span> <span class="fl">1.5</span>) <span class="sc">+</span></span>
<span id="cb180-4"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb180-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">data =</span> temple_era, <span class="fu">aes</span>(<span class="at">x =</span> game_date, <span class="at">y =</span> pre_era_pitch, <span class="at">group =</span> <span class="dv">1</span>, <span class="at">colour =</span> <span class="st">"Temple"</span>), <span class="at">size =</span> <span class="fl">1.5</span>) <span class="sc">+</span></span>
<span id="cb180-5"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb180-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">data =</span> jm_era, <span class="fu">aes</span>(<span class="at">x =</span> game_date, <span class="at">y =</span> pre_era_pitch, <span class="at">group =</span> <span class="dv">1</span>, <span class="at">colour =</span> <span class="st">"Bertrand"</span>), <span class="at">size =</span> <span class="fl">1.5</span>) <span class="sc">+</span></span>
<span id="cb180-6"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb180-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">data =</span> findlay_era, <span class="fu">aes</span>(<span class="at">x =</span> game_date, <span class="at">y =</span> pre_era_pitch, <span class="at">group =</span> <span class="dv">1</span>, <span class="at">colour =</span> <span class="st">"Findlay"</span>), <span class="at">size =</span> <span class="fl">1.5</span>) <span class="sc">+</span></span>
<span id="cb180-7"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb180-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylim</span>(<span class="dv">0</span>, <span class="dv">6</span>) <span class="sc">+</span></span>
<span id="cb180-8"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb180-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">"Game Date"</span>) <span class="sc">+</span></span>
<span id="cb180-9"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb180-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">"ERA"</span>) <span class="sc">+</span></span>
<span id="cb180-10"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb180-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Average ERA for Starting Pitchers"</span>) <span class="sc">+</span></span>
<span id="cb180-11"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb180-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">name =</span> <span class="st">"Players"</span>, <span class="at">values =</span> <span class="fu">c</span>(<span class="st">"Tyrell"</span> <span class="ot">=</span> <span class="st">"gray"</span>, <span class="st">"Temple"</span> <span class="ot">=</span> <span class="st">"navy"</span>, <span class="st">"Bertrand"</span><span class="ot">=</span><span class="st">"gold"</span>, <span class="st">"Findlay"</span> <span class="ot">=</span> <span class="st">"green"</span>)) <span class="sc">+</span></span>
<span id="cb180-12"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb180-12" aria-hidden="true" tabindex="-1"></a>   <span class="fu">theme</span>(<span class="at">axis.line =</span> <span class="fu">element_line</span>(<span class="at">colour =</span> <span class="st">"black"</span>), <span class="co"># Set axis line as black</span></span>
<span id="cb180-13"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb180-13" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.grid.major =</span> <span class="fu">element_blank</span>(), <span class="co"># Remove grid</span></span>
<span id="cb180-14"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb180-14" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.grid.minor =</span> <span class="fu">element_blank</span>(), <span class="co"># Remove grid</span></span>
<span id="cb180-15"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb180-15" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.border =</span> <span class="fu">element_blank</span>(), <span class="co"># Remove grid</span></span>
<span id="cb180-16"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb180-16" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.background =</span> <span class="fu">element_blank</span>())</span>
<span id="cb180-17"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb180-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb180-18"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb180-18" aria-hidden="true" tabindex="-1"></a>gg2</span></code></pre></div>
<p><img src="data:image/png;base64,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"><!-- --></p>
<p>The same procedure for WHIP is conducted here (investigating team WHIP and individual starter WHIP over time):</p>
<div class="sourceCode" id="cb181"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb181-1"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb181-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert infinite values to NA</span></span>
<span id="cb181-2"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb181-2" aria-hidden="true" tabindex="-1"></a>metrics_reduced_model_data<span class="sc">$</span>whip[<span class="sc">!</span><span class="fu">is.finite</span>(metrics_reduced_model_data<span class="sc">$</span>whip)] <span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb181-3"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb181-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb181-4"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb181-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Remove NA values for WHIP</span></span>
<span id="cb181-5"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb181-5" aria-hidden="true" tabindex="-1"></a>whip_data <span class="ot">&lt;-</span> metrics_reduced_model_data <span class="sc">%&gt;%</span> </span>
<span id="cb181-6"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb181-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">as.character</span>(metrics_reduced_model_data<span class="sc">$</span>whip) <span class="sc">!=</span> <span class="st">"NA"</span> </span>
<span id="cb181-7"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb181-7" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb181-8"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb181-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb181-9"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb181-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Aggregate WHIP by game date</span></span>
<span id="cb181-10"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb181-10" aria-hidden="true" tabindex="-1"></a>agg_whip <span class="ot">&lt;-</span></span>
<span id="cb181-11"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb181-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">aggregate</span>(whip_data<span class="sc">$</span>whip, <span class="fu">list</span>(<span class="st">"Game Date"</span> <span class="ot">=</span> whip_data<span class="sc">$</span>date), mean)</span>
<span id="cb181-12"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb181-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb181-13"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb181-13" aria-hidden="true" tabindex="-1"></a>agg_whip <span class="ot">&lt;-</span> agg_whip <span class="sc">%&gt;%</span></span>
<span id="cb181-14"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb181-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">clean_names</span>() </span>
<span id="cb181-15"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb181-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb181-16"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb181-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb181-17"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb181-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Create time series plot</span></span>
<span id="cb181-18"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb181-18" aria-hidden="true" tabindex="-1"></a>gg3 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(<span class="at">data =</span> agg_whip, <span class="fu">aes</span>(<span class="at">x =</span> agg_whip<span class="sc">$</span>game_date, <span class="at">y =</span> agg_whip<span class="sc">$</span>x, <span class="at">group =</span> <span class="dv">1</span>)) <span class="sc">+</span></span>
<span id="cb181-19"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb181-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">linetype =</span> <span class="st">"dashed"</span>, <span class="at">color =</span> <span class="st">"navy"</span>) <span class="sc">+</span></span>
<span id="cb181-20"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb181-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">color =</span> <span class="st">"gold"</span>) <span class="sc">+</span></span>
<span id="cb181-21"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb181-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylim</span>(<span class="dv">0</span>, <span class="cn">NA</span>) <span class="sc">+</span></span>
<span id="cb181-22"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb181-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">"Game Date"</span>) <span class="sc">+</span></span>
<span id="cb181-23"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb181-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">"Team WHIP"</span>) <span class="sc">+</span></span>
<span id="cb181-24"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb181-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Team Average WHIP Over the Season"</span>) <span class="sc">+</span></span>
<span id="cb181-25"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb181-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_vline</span>(<span class="at">xintercept =</span> <span class="fu">mdy</span>(<span class="st">"4/19/2022"</span>), <span class="at">color =</span> <span class="st">"red"</span>) <span class="sc">+</span></span>
<span id="cb181-26"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb181-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">mdy</span>(<span class="st">"4/12/2022"</span>), <span class="at">y =</span> <span class="fl">6.0</span> , <span class="at">label =</span> <span class="st">"Duke Weekend Ends: 25 Runs Allowed"</span>), <span class="at">color =</span> <span class="st">"red"</span>) <span class="sc">+</span></span>
<span id="cb181-27"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb181-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.line =</span> <span class="fu">element_line</span>(<span class="at">colour =</span> <span class="st">"black"</span>), <span class="co"># Set axis line as black</span></span>
<span id="cb181-28"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb181-28" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.grid.major =</span> <span class="fu">element_blank</span>(), <span class="co"># Remove grid</span></span>
<span id="cb181-29"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb181-29" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.grid.minor =</span> <span class="fu">element_blank</span>(), <span class="co"># Remove grid</span></span>
<span id="cb181-30"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb181-30" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.border =</span> <span class="fu">element_blank</span>(), <span class="co"># Remove grid</span></span>
<span id="cb181-31"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb181-31" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.background =</span> <span class="fu">element_blank</span>())</span>
<span id="cb181-32"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb181-32" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb181-33"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb181-33" aria-hidden="true" tabindex="-1"></a>gg3</span></code></pre></div>
<pre><code>## Warning: Use of `agg_whip$game_date` is discouraged. Use `game_date` instead.

## Warning: Use of `agg_whip$x` is discouraged. Use `x` instead.

## Warning: Use of `agg_whip$game_date` is discouraged. Use `game_date` instead.

## Warning: Use of `agg_whip$x` is discouraged. Use `x` instead.</code></pre>
<p><img src="data:image/png;base64,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"><!-- --></p>
<p>The following plot attains more granularity by viewing the average WHIP over time by starting pitcher:</p>
<div class="sourceCode" id="cb183"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb183-1"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb183-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Aggregate WHIP by game date and pitcher</span></span>
<span id="cb183-2"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb183-2" aria-hidden="true" tabindex="-1"></a>agg_plyr_whip <span class="ot">&lt;-</span> <span class="fu">aggregate</span>(whip_data<span class="sc">$</span>whip <span class="sc">~</span> whip_data<span class="sc">$</span>date <span class="sc">+</span> whip_data<span class="sc">$</span>player, <span class="at">data =</span> whip_data, <span class="at">FUN =</span> mean, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb183-3"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb183-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb183-4"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb183-4" aria-hidden="true" tabindex="-1"></a>agg_plyr_whip</span></code></pre></div>
<pre><code>##    whip_data$date      whip_data$player whip_data$whip
## 1      2022-04-12         Ahmad Harajli       1.666667
## 2      2022-03-25          Aidan Tyrell       6.750000
## 3      2022-04-19          Aidan Tyrell       5.285714
## 4      2022-04-23          Aidan Tyrell       5.428571
## 5      2022-04-24          Aidan Tyrell       2.733333
## 6      2022-03-25              Alex Rao       2.142857
## 7      2022-04-10              Alex Rao       2.100000
## 8      2022-04-22              Alex Rao       1.800000
## 9      2022-04-24              Alex Rao       1.875000
## 10     2022-04-09         Austin Gordon       2.750000
## 11     2022-04-09         Austin Temple       2.166667
## 12     2022-04-23         Austin Temple       2.571429
## 13     2022-04-12      Avery Goldensoph       4.333333
## 14     2022-04-23        Brennen Oxford       1.750000
## 15     2022-04-20         Bryce Martens       2.400000
## 16     2022-04-24        Camden Minacci       2.800000
## 17     2022-04-09         Casey Tallent       2.400000
## 18     2022-03-29      Connor Langreder       3.000000
## 19     2022-04-19       Connor Lockwood       7.333333
## 20     2022-04-24         Crawford Wade       3.250000
## 21     2022-04-23            Derek Crum       2.555556
## 22     2022-03-29           Drew Hasson       1.600000
## 23     2022-03-25       Drue Hackenberg       9.200000
## 24     2022-04-20           Enas Hayden       2.000000
## 25     2022-04-23            Eric Adler       1.500000
## 26     2022-04-10      Geoffrey Gilbert       2.833333
## 27     2022-03-25        Graham Firoved       2.666667
## 28     2022-04-19       Grant Jablonski       9.500000
## 29     2022-03-25         Griffin Green       5.125000
## 30     2022-03-25         Henry Weycker       4.000000
## 31     2022-03-25        Jack Brannigan       1.750000
## 32     2022-04-19        Jack Brannigan       2.000000
## 33     2022-04-24        Jack Brannigan       2.166667
## 34     2022-04-12          Jack Findlay       2.666667
## 35     2022-04-20          Jack Findlay       2.600000
## 36     2022-04-23          Jack Findlay       2.600000
## 37     2022-04-09       Jackson Dennies       4.000000
## 38     2022-04-12       Jackson Dennies       2.500000
## 39     2022-04-22       Jackson Dennies       3.200000
## 40     2022-04-24       Jackson Dennies       3.200000
## 41     2022-04-10       Jackson Lindley       3.250000
## 42     2022-04-22      Jacob Grzebinski       2.000000
## 43     2022-04-19      Jacob Rosenkranz      13.000000
## 44     2022-04-12           Jake Keaser       1.875000
## 45     2022-04-08              Jay Dill       2.857143
## 46     2022-04-10              Jay Dill       2.750000
## 47     2022-04-12          Jaylen Jones       1.250000
## 48     2022-03-25 John Michael Bertrand       3.555556
## 49     2022-04-08 John Michael Bertrand       3.750000
## 50     2022-04-23           Josh Hartle       4.357143
## 51     2022-04-20           Kyle Maurer       1.666667
## 52     2022-03-29            Liam Simon       1.200000
## 53     2022-04-12            Liam Simon       1.250000
## 54     2022-04-20            Liam Simon       1.700000
## 55     2022-04-08           Mack Anglin       1.730769
## 56     2022-04-20          Matt Lazzaro       2.000000
## 57     2022-04-20        Michael Madura       3.142857
## 58     2022-03-29             Nick Bonk       2.454545
## 59     2022-04-10          Nick Clayton       4.625000
## 60     2022-04-09         Nick Hoffmann       7.000000
## 61     2022-04-09         P.J. Labriola       3.500000
## 62     2022-03-25        Radek Birkholz       1.600000
## 63     2022-03-29        Radek Birkholz       1.600000
## 64     2022-04-09        Radek Birkholz       1.875000
## 65     2022-04-12        Radek Birkholz       1.875000
## 66     2022-04-20        Radek Birkholz       2.000000
## 67     2022-04-22          Reed Mascolo       3.666667
## 68     2022-04-20            Rex Stills       1.947368
## 69     2022-04-22          Rhett Lowder       3.705882
## 70     2022-03-29            RJ Nowicki       2.142857
## 71     2022-03-29         Roman Kimball       1.000000
## 72     2022-04-10         Roman Kimball       1.400000
## 73     2022-04-19         Roman Kimball       2.142857
## 74     2022-04-20         Roman Kimball       2.285714
## 75     2022-04-22         Roman Kimball       2.285714
## 76     2022-04-23         Roman Kimball       2.285714
## 77     2022-04-24         Roman Kimball       2.285714
## 78     2022-04-10           Ryan Ammons       2.571429
## 79     2022-03-25        Ryan McLinskey       3.250000
## 80     2022-04-08        Ryan McLinskey       3.166667
## 81     2022-04-09        Ryan McLinskey       3.166667
## 82     2022-04-20          Ryan Robison       3.000000
## 83     2022-04-12           Ryan Zimmer       1.833333
## 84     2022-04-23          Sammy Cooper       2.333333
## 85     2022-04-23           Seth Keener       4.400000
## 86     2022-04-24          Teddy McGraw       2.476190
## 87     2022-04-09           Ty Olenchuk       3.800000
## 88     2022-04-12      Walker Cleveland       2.375000
## 89     2022-04-10           Will Mercer       2.333333
## 90     2022-04-24           Will Mercer       2.800000
## 91     2022-04-12          Willie Weiss       2.000000
## 92     2022-04-22            Zach Grace       4.000000</code></pre>
<div class="sourceCode" id="cb185"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb185-1"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb185-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create data sets for each starter</span></span>
<span id="cb185-2"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb185-2" aria-hidden="true" tabindex="-1"></a>tyrell_whip <span class="ot">&lt;-</span> agg_plyr_whip <span class="sc">%&gt;%</span> </span>
<span id="cb185-3"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb185-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(agg_plyr_whip<span class="sc">$</span><span class="st">`</span><span class="at">whip_data$player</span><span class="st">`</span> <span class="sc">==</span> <span class="st">"Aidan Tyrell"</span>)</span>
<span id="cb185-4"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb185-4" aria-hidden="true" tabindex="-1"></a>tyrell_whip</span></code></pre></div>
<pre><code>##   whip_data$date whip_data$player whip_data$whip
## 1     2022-03-25     Aidan Tyrell       6.750000
## 2     2022-04-19     Aidan Tyrell       5.285714
## 3     2022-04-23     Aidan Tyrell       5.428571
## 4     2022-04-24     Aidan Tyrell       2.733333</code></pre>
<div class="sourceCode" id="cb187"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb187-1"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb187-1" aria-hidden="true" tabindex="-1"></a>temple_whip <span class="ot">&lt;-</span> agg_plyr_whip <span class="sc">%&gt;%</span> </span>
<span id="cb187-2"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb187-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(agg_plyr_whip<span class="sc">$</span><span class="st">`</span><span class="at">whip_data$player</span><span class="st">`</span> <span class="sc">==</span> <span class="st">"Austin Temple"</span>)</span>
<span id="cb187-3"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb187-3" aria-hidden="true" tabindex="-1"></a>temple_whip</span></code></pre></div>
<pre><code>##   whip_data$date whip_data$player whip_data$whip
## 1     2022-04-09    Austin Temple       2.166667
## 2     2022-04-23    Austin Temple       2.571429</code></pre>
<div class="sourceCode" id="cb189"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb189-1"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb189-1" aria-hidden="true" tabindex="-1"></a>jm_whip <span class="ot">&lt;-</span> agg_plyr_whip <span class="sc">%&gt;%</span> </span>
<span id="cb189-2"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb189-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(agg_plyr_whip<span class="sc">$</span><span class="st">`</span><span class="at">whip_data$player</span><span class="st">`</span> <span class="sc">==</span> <span class="st">"John Michael Bertrand"</span>)</span>
<span id="cb189-3"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb189-3" aria-hidden="true" tabindex="-1"></a>jm_whip</span></code></pre></div>
<pre><code>##   whip_data$date      whip_data$player whip_data$whip
## 1     2022-03-25 John Michael Bertrand       3.555556
## 2     2022-04-08 John Michael Bertrand       3.750000</code></pre>
<div class="sourceCode" id="cb191"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb191-1"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb191-1" aria-hidden="true" tabindex="-1"></a>findlay_whip <span class="ot">&lt;-</span> agg_plyr_whip <span class="sc">%&gt;%</span> </span>
<span id="cb191-2"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb191-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(agg_plyr_whip<span class="sc">$</span><span class="st">`</span><span class="at">whip_data$player</span><span class="st">`</span> <span class="sc">==</span> <span class="st">"Jack Findlay"</span>)</span>
<span id="cb191-3"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb191-3" aria-hidden="true" tabindex="-1"></a>findlay_whip</span></code></pre></div>
<pre><code>##   whip_data$date whip_data$player whip_data$whip
## 1     2022-04-12     Jack Findlay       2.666667
## 2     2022-04-20     Jack Findlay       2.600000
## 3     2022-04-23     Jack Findlay       2.600000</code></pre>
<div class="sourceCode" id="cb193"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb193-1"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb193-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create scatter plot for starters' WHIP</span></span>
<span id="cb193-2"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb193-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb193-3"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb193-3" aria-hidden="true" tabindex="-1"></a>gg4 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb193-4"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb193-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">data =</span> tyrell_whip, <span class="fu">aes</span>(<span class="at">x =</span> <span class="st">`</span><span class="at">whip_data$date</span><span class="st">`</span>, <span class="at">y =</span> <span class="st">`</span><span class="at">whip_data$whip</span><span class="st">`</span>, <span class="at">group =</span> <span class="dv">1</span>, <span class="at">colour =</span> <span class="st">"Tyrell"</span>)) <span class="sc">+</span></span>
<span id="cb193-5"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb193-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">data =</span> temple_whip, <span class="fu">aes</span>(<span class="at">x =</span> <span class="st">`</span><span class="at">whip_data$date</span><span class="st">`</span>, <span class="at">y =</span> <span class="st">`</span><span class="at">whip_data$whip</span><span class="st">`</span>, <span class="at">group =</span> <span class="dv">1</span>, <span class="at">colour =</span> <span class="st">"Temple"</span>)) <span class="sc">+</span></span>
<span id="cb193-6"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb193-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">data =</span> jm_whip, <span class="fu">aes</span>(<span class="at">x =</span> <span class="st">`</span><span class="at">whip_data$date</span><span class="st">`</span>, <span class="at">y =</span> <span class="st">`</span><span class="at">whip_data$whip</span><span class="st">`</span>, <span class="at">group =</span> <span class="dv">1</span>, <span class="at">colour =</span> <span class="st">"Bertrand"</span>)) <span class="sc">+</span></span>
<span id="cb193-7"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb193-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">data =</span> findlay_whip, <span class="fu">aes</span>(<span class="at">x =</span> <span class="st">`</span><span class="at">whip_data$date</span><span class="st">`</span>, <span class="at">y =</span> <span class="st">`</span><span class="at">whip_data$whip</span><span class="st">`</span>, <span class="at">group =</span> <span class="dv">1</span>, <span class="at">colour =</span> <span class="st">"Findlay"</span>)) <span class="sc">+</span></span>
<span id="cb193-8"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb193-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylim</span>(<span class="dv">0</span>, <span class="dv">8</span>) <span class="sc">+</span></span>
<span id="cb193-9"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb193-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">"Game Date"</span>) <span class="sc">+</span></span>
<span id="cb193-10"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb193-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">"WHIP"</span>) <span class="sc">+</span></span>
<span id="cb193-11"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb193-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Average WHIP for Starting Pitchers"</span>) <span class="sc">+</span></span>
<span id="cb193-12"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb193-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">name =</span> <span class="st">"Players"</span>, <span class="at">values =</span> <span class="fu">c</span>(<span class="st">"Tyrell"</span> <span class="ot">=</span> <span class="st">"gray"</span>, <span class="st">"Temple"</span> <span class="ot">=</span> <span class="st">"navy"</span>, <span class="st">"Bertrand"</span><span class="ot">=</span><span class="st">"gold"</span>, <span class="st">"Findlay"</span> <span class="ot">=</span> <span class="st">"green"</span>)) <span class="sc">+</span></span>
<span id="cb193-13"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb193-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.line =</span> <span class="fu">element_line</span>(<span class="at">colour =</span> <span class="st">"black"</span>), <span class="co"># Set axis line as black</span></span>
<span id="cb193-14"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb193-14" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.grid.major =</span> <span class="fu">element_blank</span>(), <span class="co"># Remove grid</span></span>
<span id="cb193-15"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb193-15" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.grid.minor =</span> <span class="fu">element_blank</span>(), <span class="co"># Remove grid</span></span>
<span id="cb193-16"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb193-16" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.border =</span> <span class="fu">element_blank</span>(), <span class="co"># Remove grid</span></span>
<span id="cb193-17"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb193-17" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.background =</span> <span class="fu">element_blank</span>())</span>
<span id="cb193-18"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb193-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb193-19"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb193-19" aria-hidden="true" tabindex="-1"></a>gg4</span></code></pre></div>
<p><img src="data:image/png;base64,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"><!-- --></p>
<div class="sourceCode" id="cb194"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb194-1"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb194-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Aggregate WHIP by players </span></span>
<span id="cb194-2"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb194-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb194-3"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb194-3" aria-hidden="true" tabindex="-1"></a>plyr_whip <span class="ot">&lt;-</span> <span class="fu">aggregate</span>(whip_data<span class="sc">$</span>whip <span class="sc">~</span>  whip_data<span class="sc">$</span>player, <span class="at">data =</span> whip_data, <span class="at">FUN =</span> mean, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb194-4"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb194-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb194-5"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb194-5" aria-hidden="true" tabindex="-1"></a>plyr_whip</span></code></pre></div>
<pre><code>##         whip_data$player whip_data$whip
## 1          Ahmad Harajli       1.666667
## 2           Aidan Tyrell       4.609088
## 3               Alex Rao       1.956743
## 4          Austin Gordon       2.750000
## 5          Austin Temple       2.336406
## 6       Avery Goldensoph       4.333333
## 7         Brennen Oxford       1.750000
## 8          Bryce Martens       2.400000
## 9         Camden Minacci       2.800000
## 10         Casey Tallent       2.400000
## 11      Connor Langreder       3.000000
## 12       Connor Lockwood       7.333333
## 13         Crawford Wade       3.250000
## 14            Derek Crum       2.555556
## 15           Drew Hasson       1.600000
## 16       Drue Hackenberg       9.200000
## 17           Enas Hayden       2.000000
## 18            Eric Adler       1.500000
## 19      Geoffrey Gilbert       2.833333
## 20        Graham Firoved       2.666667
## 21       Grant Jablonski       9.500000
## 22         Griffin Green       5.125000
## 23         Henry Weycker       4.000000
## 24        Jack Brannigan       2.059109
## 25          Jack Findlay       2.620635
## 26       Jackson Dennies       3.222222
## 27       Jackson Lindley       3.250000
## 28      Jacob Grzebinski       2.000000
## 29      Jacob Rosenkranz      13.000000
## 30           Jake Keaser       1.875000
## 31              Jay Dill       2.790179
## 32          Jaylen Jones       1.250000
## 33 John Michael Bertrand       3.667236
## 34           Josh Hartle       4.357143
## 35           Kyle Maurer       1.666667
## 36            Liam Simon       1.396528
## 37           Mack Anglin       1.730769
## 38          Matt Lazzaro       2.000000
## 39        Michael Madura       3.142857
## 40             Nick Bonk       2.454545
## 41          Nick Clayton       4.625000
## 42         Nick Hoffmann       7.000000
## 43         P.J. Labriola       3.500000
## 44        Radek Birkholz       1.807432
## 45          Reed Mascolo       3.666667
## 46            Rex Stills       1.947368
## 47          Rhett Lowder       3.705882
## 48            RJ Nowicki       2.142857
## 49         Roman Kimball       1.666606
## 50           Ryan Ammons       2.571429
## 51        Ryan McLinskey       3.207071
## 52          Ryan Robison       3.000000
## 53           Ryan Zimmer       1.833333
## 54          Sammy Cooper       2.333333
## 55           Seth Keener       4.400000
## 56          Teddy McGraw       2.476190
## 57           Ty Olenchuk       3.800000
## 58      Walker Cleveland       2.375000
## 59           Will Mercer       2.566667
## 60          Willie Weiss       2.000000
## 61            Zach Grace       4.000000</code></pre>
<div class="sourceCode" id="cb196"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb196-1"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb196-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter by starters</span></span>
<span id="cb196-2"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb196-2" aria-hidden="true" tabindex="-1"></a>starters_whip <span class="ot">&lt;-</span> plyr_whip <span class="sc">%&gt;%</span> </span>
<span id="cb196-3"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb196-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(plyr_whip<span class="sc">$</span><span class="st">`</span><span class="at">whip_data$player</span><span class="st">`</span> <span class="sc">==</span> <span class="st">"Aidan Tyrell"</span> <span class="sc">|</span> plyr_whip<span class="sc">$</span><span class="st">`</span><span class="at">whip_data$player</span><span class="st">`</span> <span class="sc">==</span> <span class="st">"Austin Temple"</span> <span class="sc">|</span> plyr_whip<span class="sc">$</span><span class="st">`</span><span class="at">whip_data$player</span><span class="st">`</span> <span class="sc">==</span> <span class="st">"John Michael Bertrand"</span> <span class="sc">|</span> plyr_whip<span class="sc">$</span><span class="st">`</span><span class="at">whip_data$player</span><span class="st">`</span> <span class="sc">==</span> <span class="st">"Jack Findlay"</span>)</span>
<span id="cb196-4"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb196-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb196-5"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb196-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Create bar chart for starters' average WHIP</span></span>
<span id="cb196-6"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb196-6" aria-hidden="true" tabindex="-1"></a>gg5 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(<span class="at">data =</span> starters_whip, <span class="fu">aes</span>(<span class="at">x =</span> starters_whip<span class="sc">$</span><span class="st">`</span><span class="at">whip_data$player</span><span class="st">`</span>, <span class="at">y =</span> starters_whip<span class="sc">$</span><span class="st">`</span><span class="at">whip_data$whip</span><span class="st">`</span>, <span class="at">fill =</span> starters_whip<span class="sc">$</span><span class="st">`</span><span class="at">whip_data$player</span><span class="st">`</span>)) <span class="sc">+</span></span>
<span id="cb196-7"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb196-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>() <span class="sc">+</span></span>
<span id="cb196-8"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb196-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position=</span><span class="st">"none"</span>) <span class="sc">+</span></span>
<span id="cb196-9"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb196-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">"Player"</span>) <span class="sc">+</span></span>
<span id="cb196-10"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb196-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">"Average WHIP"</span>) <span class="sc">+</span></span>
<span id="cb196-11"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb196-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Average WHIP for Starting Pitchers"</span>) <span class="sc">+</span></span>
<span id="cb196-12"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb196-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.line =</span> <span class="fu">element_line</span>(<span class="at">colour =</span> <span class="st">"black"</span>), <span class="co"># Set axis line as black</span></span>
<span id="cb196-13"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb196-13" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.grid.major =</span> <span class="fu">element_blank</span>(), <span class="co"># Remove grid</span></span>
<span id="cb196-14"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb196-14" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.grid.minor =</span> <span class="fu">element_blank</span>(), <span class="co"># Remove grid</span></span>
<span id="cb196-15"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb196-15" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.border =</span> <span class="fu">element_blank</span>(), <span class="co"># Remove grid</span></span>
<span id="cb196-16"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb196-16" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.background =</span> <span class="fu">element_blank</span>()) <span class="sc">+</span></span>
<span id="cb196-17"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb196-17" aria-hidden="true" tabindex="-1"></a>   <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"gray"</span>, <span class="st">"navy"</span>, <span class="st">"gold"</span>, <span class="st">"green"</span>))</span>
<span id="cb196-18"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb196-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb196-19"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb196-19" aria-hidden="true" tabindex="-1"></a>gg5</span></code></pre></div>
<pre><code>## Warning: Use of `starters_whip$`whip_data$player`` is discouraged. Use
## `whip_data$player` instead.

## Warning: Use of `starters_whip$`whip_data$whip`` is discouraged. Use
## `whip_data$whip` instead.

## Warning: Use of `starters_whip$`whip_data$player`` is discouraged. Use
## `whip_data$player` instead.</code></pre>
<p><img src="data:image/png;base64,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"><!-- --></p>
<h2 id="command-zone-rating-czr-visualizations">Command Zone Rating (CZR) Visualizations</h2>
<p>With a baseline for ERA and WHIP established, we can investigate the relationships between CZR and rigid pitching performance metrics (if any)</p>
<p>We begin with the relationship between ERA and CZR. Ideally, a positive relationship appears in the data (low CZR values associated with high pitching command success and, as a result, lower ERA scores over time):</p>
<div class="sourceCode" id="cb198"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb198-1"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb198-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(reshape2)</span></code></pre></div>
<pre><code>## 
## Attaching package: 'reshape2'

## The following object is masked from 'package:tidyr':
## 
##     smiths</code></pre>
<div class="sourceCode" id="cb200"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb200-1"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb200-1" aria-hidden="true" tabindex="-1"></a>czr_plot_data <span class="ot">&lt;-</span> last_pitching_appearance_pregame <span class="sc">%&gt;%</span></span>
<span id="cb200-2"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb200-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(player <span class="sc">%in%</span> player_list) <span class="sc">%&gt;%</span></span>
<span id="cb200-3"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb200-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(player, pre_era_pitch, pre_b_avg_pitch, whip) <span class="sc">%&gt;%</span></span>
<span id="cb200-4"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb200-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>() <span class="sc">%&gt;%</span></span>
<span id="cb200-5"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb200-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(final_czr_table,</span>
<span id="cb200-6"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb200-6" aria-hidden="true" tabindex="-1"></a>            <span class="at">by =</span> <span class="st">"player"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb200-7"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb200-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span><span class="fu">c</span>(command_score, zone_diff_per_pitch, command_zone_rating)) </span>
<span id="cb200-8"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb200-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb200-9"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb200-9" aria-hidden="true" tabindex="-1"></a>gg7 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(<span class="at">data =</span> czr_plot_data, <span class="fu">aes</span>(<span class="at">x =</span> command_zone_rating_normalized, <span class="at">y =</span> pre_era_pitch)) <span class="sc">+</span></span>
<span id="cb200-10"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb200-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">color =</span> <span class="st">"navy"</span>, <span class="at">size =</span> <span class="fl">1.5</span>) <span class="sc">+</span></span>
<span id="cb200-11"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb200-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">se =</span> <span class="cn">FALSE</span>, <span class="at">color =</span> <span class="st">"gold"</span>, <span class="at">size =</span> <span class="fl">1.5</span>) <span class="sc">+</span></span>
<span id="cb200-12"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb200-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">"Command Zone Rating (CZR)"</span>) <span class="sc">+</span></span>
<span id="cb200-13"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb200-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">"ERA"</span>) <span class="sc">+</span></span>
<span id="cb200-14"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb200-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"CZR vs. Earned Run Average (ERA)"</span>) <span class="sc">+</span></span>
<span id="cb200-15"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb200-15" aria-hidden="true" tabindex="-1"></a>   <span class="fu">theme</span>(<span class="at">axis.line =</span> <span class="fu">element_line</span>(<span class="at">colour =</span> <span class="st">"black"</span>), <span class="co"># Set axis line as black</span></span>
<span id="cb200-16"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb200-16" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.grid.major =</span> <span class="fu">element_blank</span>(), <span class="co"># Remove grid</span></span>
<span id="cb200-17"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb200-17" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.grid.minor =</span> <span class="fu">element_blank</span>(), <span class="co"># Remove grid</span></span>
<span id="cb200-18"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb200-18" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.border =</span> <span class="fu">element_blank</span>(), <span class="co"># Remove grid</span></span>
<span id="cb200-19"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb200-19" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.background =</span> <span class="fu">element_blank</span>())</span>
<span id="cb200-20"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb200-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb200-21"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb200-21" aria-hidden="true" tabindex="-1"></a>gg7</span></code></pre></div>
<pre><code>## `geom_smooth()` using method = 'loess' and formula 'y ~ x'

## Warning: Removed 1 rows containing non-finite values (stat_smooth).

## Warning: Removed 1 rows containing missing values (geom_point).</code></pre>
<p><img src="data:image/png;base64,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"><!-- --></p>
<p>Next, we will investigate the relationship between WHIP and CZR. Ideally, a positive relationship appears in the data (low CZR values associated with high pitching command success and, as a result, lower WHIP scores over time):</p>
<div class="sourceCode" id="cb202"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb202-1"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb202-1" aria-hidden="true" tabindex="-1"></a>gg8 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(<span class="at">data =</span> czr_plot_data, <span class="fu">aes</span>(<span class="at">x =</span> command_zone_rating_normalized, <span class="at">y =</span> whip)) <span class="sc">+</span></span>
<span id="cb202-2"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb202-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">color =</span> <span class="st">"navy"</span>, <span class="at">size =</span> <span class="fl">1.5</span>) <span class="sc">+</span></span>
<span id="cb202-3"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb202-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">se =</span> <span class="cn">FALSE</span>, <span class="at">color =</span> <span class="st">"gold"</span>, <span class="at">size =</span> <span class="fl">1.5</span>) <span class="sc">+</span></span>
<span id="cb202-4"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb202-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">"Command Zone Rating (CZR)"</span>) <span class="sc">+</span></span>
<span id="cb202-5"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb202-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">"WHIP"</span>) <span class="sc">+</span></span>
<span id="cb202-6"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb202-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"CZR vs. WHIP"</span>) <span class="sc">+</span></span>
<span id="cb202-7"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb202-7" aria-hidden="true" tabindex="-1"></a>   <span class="fu">theme</span>(<span class="at">axis.line =</span> <span class="fu">element_line</span>(<span class="at">colour =</span> <span class="st">"black"</span>), <span class="co"># Set axis line as black</span></span>
<span id="cb202-8"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb202-8" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.grid.major =</span> <span class="fu">element_blank</span>(), <span class="co"># Remove grid</span></span>
<span id="cb202-9"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb202-9" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.grid.minor =</span> <span class="fu">element_blank</span>(), <span class="co"># Remove grid</span></span>
<span id="cb202-10"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb202-10" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.border =</span> <span class="fu">element_blank</span>(), <span class="co"># Remove grid</span></span>
<span id="cb202-11"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb202-11" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.background =</span> <span class="fu">element_blank</span>()) <span class="sc">+</span></span>
<span id="cb202-12"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb202-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="at">x =</span> <span class="dv">86</span>, <span class="at">y =</span> <span class="fl">3.2</span>, <span class="at">label =</span> <span class="st">"Jackson Dennies"</span>, <span class="at">vjust =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb202-13"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb202-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="at">x =</span> <span class="dv">96</span>, <span class="at">y =</span> <span class="fl">1.875</span>, <span class="at">label =</span> <span class="st">"Alex Rao"</span>, <span class="at">vjust =</span> <span class="dv">1</span>)</span>
<span id="cb202-14"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb202-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb202-15"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb202-15" aria-hidden="true" tabindex="-1"></a>gg8</span></code></pre></div>
<pre><code>## `geom_smooth()` using method = 'loess' and formula 'y ~ x'

## Warning: Removed 1 rows containing non-finite values (stat_smooth).

## Warning: Removed 1 rows containing missing values (geom_point).</code></pre>
<p><img src="data:image/png;base64,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"><!-- --></p>
<p>For additional reference, the relationship between opponent batting average and CZR is shown below:</p>
<div class="sourceCode" id="cb204"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb204-1"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb204-1" aria-hidden="true" tabindex="-1"></a>gg9 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(<span class="at">data =</span> czr_plot_data, <span class="fu">aes</span>(<span class="at">x =</span> command_zone_rating_normalized, <span class="at">y =</span> pre_b_avg_pitch)) <span class="sc">+</span></span>
<span id="cb204-2"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb204-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">color =</span> <span class="st">"navy"</span>, <span class="at">size =</span> <span class="fl">1.5</span>) <span class="sc">+</span></span>
<span id="cb204-3"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb204-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">se =</span> <span class="cn">FALSE</span>, <span class="at">color =</span> <span class="st">"gold"</span>, <span class="at">size =</span> <span class="fl">1.5</span>) <span class="sc">+</span></span>
<span id="cb204-4"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb204-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">"Command Zone Rating (CZR)"</span>) <span class="sc">+</span></span>
<span id="cb204-5"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb204-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">"Opponent Batting Average"</span>) <span class="sc">+</span></span>
<span id="cb204-6"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb204-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"CZR vs. Opponent Batting Average"</span>) <span class="sc">+</span></span>
<span id="cb204-7"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb204-7" aria-hidden="true" tabindex="-1"></a>   <span class="fu">theme</span>(<span class="at">axis.line =</span> <span class="fu">element_line</span>(<span class="at">colour =</span> <span class="st">"black"</span>), <span class="co"># Set axis line as black</span></span>
<span id="cb204-8"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb204-8" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.grid.major =</span> <span class="fu">element_blank</span>(), <span class="co"># Remove grid</span></span>
<span id="cb204-9"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb204-9" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.grid.minor =</span> <span class="fu">element_blank</span>(), <span class="co"># Remove grid</span></span>
<span id="cb204-10"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb204-10" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.border =</span> <span class="fu">element_blank</span>(), <span class="co"># Remove grid</span></span>
<span id="cb204-11"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb204-11" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.background =</span> <span class="fu">element_blank</span>()) <span class="sc">+</span></span>
<span id="cb204-12"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb204-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="at">x =</span> <span class="dv">116</span>, <span class="at">y =</span> <span class="fl">0.364</span>, <span class="at">label =</span> <span class="st">"Sammy Cooper"</span>, <span class="at">vjust =</span> <span class="dv">1</span>)</span>
<span id="cb204-13"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb204-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb204-14"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb204-14" aria-hidden="true" tabindex="-1"></a>gg9</span></code></pre></div>
<pre><code>## `geom_smooth()` using method = 'loess' and formula 'y ~ x'

## Warning: Removed 1 rows containing non-finite values (stat_smooth).

## Warning: Removed 1 rows containing missing values (geom_point).</code></pre>
<p><img src="data:image/png;base64,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"><!-- --></p>
<h2 id="czr-scores-analysis-workspace">CZR Scores Analysis Workspace</h2>
<p>As mentioned, the final CZR table, as well as its associated predictions table, allows for various calculations and analysis by zone. The following space serves as for additional visualizations, aggregations, and grouping based on the structure of the prediction results:</p>
<div class="sourceCode" id="cb206"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb206-1"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb206-1" aria-hidden="true" tabindex="-1"></a>final_bounded_results <span class="sc">%&gt;%</span></span>
<span id="cb206-2"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb206-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(player <span class="sc">==</span> <span class="st">"John Michael Bertrand"</span>,</span>
<span id="cb206-3"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb206-3" aria-hidden="true" tabindex="-1"></a>         batter_side <span class="sc">==</span> <span class="st">"Right"</span>,</span>
<span id="cb206-4"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb206-4" aria-hidden="true" tabindex="-1"></a>         tagged_pitch_type <span class="sc">==</span> <span class="st">"Fastball"</span>)</span></code></pre></div>
<pre><code>## # A tibble: 21 x 9
##     zone player               batter_side tagged_pitch_ty~ preds total_zone_diff
##    &lt;int&gt; &lt;chr&gt;                &lt;fct&gt;       &lt;fct&gt;            &lt;dbl&gt;           &lt;int&gt;
##  1     2 John Michael Bertra~ Right       Fastball          0.77             692
##  2     3 John Michael Bertra~ Right       Fastball          0.8              692
##  3     5 John Michael Bertra~ Right       Fastball          0.8              692
##  4     6 John Michael Bertra~ Right       Fastball          0.8              692
##  5    11 John Michael Bertra~ Right       Fastball          0.78             692
##  6    15 John Michael Bertra~ Right       Fastball          0.73             692
##  7    16 John Michael Bertra~ Right       Fastball          0.8              692
##  8    20 John Michael Bertra~ Right       Fastball          0.79             692
##  9    22 John Michael Bertra~ Right       Fastball          0.8              692
## 10    23 John Michael Bertra~ Right       Fastball          0.8              692
## # ... with 11 more rows, and 3 more variables: zone_diff_per_pitch &lt;dbl&gt;,
## #   total_misses_by_zone_side_type &lt;int&gt;, total_pitches_by_zone_side_type &lt;int&gt;</code></pre>
<div class="sourceCode" id="cb208"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb208-1"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb208-1" aria-hidden="true" tabindex="-1"></a>bounded_results_matrix <span class="sc">%&gt;%</span></span>
<span id="cb208-2"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb208-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(player, pre_era_pitch, whip) <span class="sc">%&gt;%</span></span>
<span id="cb208-3"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb208-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(whip) <span class="sc">%&gt;%</span></span>
<span id="cb208-4"><a href="file:///C:/Users/david/AppData/Local/Temp/RtmpeQ3KwM/preview-2b1c5cc66349.html#cb208-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>()</span></code></pre></div>
<pre><code>## # A tibble: 16 x 3
##    player                pre_era_pitch  whip
##    &lt;chr&gt;                         &lt;dbl&gt; &lt;dbl&gt;
##  1 Liam Simon                     7.2   1.7 
##  2 Alex Rao                       3.13  1.88
##  3 Matt Lazzaro                   6     2   
##  4 Radek Birkholz                 4.82  2   
##  5 Jack Brannigan                 8.68  2.17
##  6 Roman Kimball                  5.06  2.29
##  7 Sammy Cooper                  18     2.33
##  8 John Michael Bertrand          4.59  2.43
##  9 Liam Simmon                    4.59  2.43
## 10 Austin Temple                  3.03  2.57
## 11 Jack Findlay                   0.53  2.6 
## 12 Aidan Tyrell                   3.15  2.73
## 13 Will Mercer                    4.5   2.8 
## 14 Ryan McLinskey                 2.7   3.17
## 15 Jackson Dennies                1.35  3.2 
## 16 Sammy Cooper                  NA    NA</code></pre>
<p>Command Zone Rating (CZR)</p>



</body></html>